{"code":"(this[\"webpackJsonpbattlesnake-board\"]=this[\"webpackJsonpbattlesnake-board\"]||[]).push([[0],{33:function(e,t,n){var r,a,i;a=[],void 0===(i=\"function\"===typeof(r=function(){if(\"WebSocket\"in window)return e.prototype.onopen=function(e){},e.prototype.onclose=function(e){},e.prototype.onconnecting=function(e){},e.prototype.onmessage=function(e){},e.prototype.onerror=function(e){},e.debugAll=!1,e.CONNECTING=WebSocket.CONNECTING,e.OPEN=WebSocket.OPEN,e.CLOSING=WebSocket.CLOSING,e.CLOSED=WebSocket.CLOSED,e;function e(t,n,r){var a={debug:!1,automaticOpen:!0,reconnectInterval:1e3,maxReconnectInterval:3e4,reconnectDecay:1.5,timeoutInterval:2e3,maxReconnectAttempts:null,binaryType:\"blob\"};for(var i in r||(r={}),a)\"undefined\"!==typeof r[i]?this[i]=r[i]:this[i]=a[i];this.url=t,this.reconnectAttempts=0,this.readyState=WebSocket.CONNECTING,this.protocol=null;var c,s=this,o=!1,u=!1,l=document.createElement(\"div\");function d(e,t){var n=document.createEvent(\"CustomEvent\");return n.initCustomEvent(e,!1,!1,t),n}l.addEventListener(\"open\",(function(e){s.onopen(e)})),l.addEventListener(\"close\",(function(e){s.onclose(e)})),l.addEventListener(\"connecting\",(function(e){s.onconnecting(e)})),l.addEventListener(\"message\",(function(e){s.onmessage(e)})),l.addEventListener(\"error\",(function(e){s.onerror(e)})),this.addEventListener=l.addEventListener.bind(l),this.removeEventListener=l.removeEventListener.bind(l),this.dispatchEvent=l.dispatchEvent.bind(l),this.open=function(t){if((c=new WebSocket(s.url,n||[])).binaryType=this.binaryType,t){if(this.maxReconnectAttempts&&this.reconnectAttempts>this.maxReconnectAttempts)return}else l.dispatchEvent(d(\"connecting\")),this.reconnectAttempts=0;(s.debug||e.debugAll)&&console.debug(\"ReconnectingWebSocket\",\"attempt-connect\",s.url);var r=c,a=setTimeout((function(){(s.debug||e.debugAll)&&console.debug(\"ReconnectingWebSocket\",\"connection-timeout\",s.url),u=!0,r.close(),u=!1}),s.timeoutInterval);c.onopen=function(n){clearTimeout(a),(s.debug||e.debugAll)&&console.debug(\"ReconnectingWebSocket\",\"onopen\",s.url),s.protocol=c.protocol,s.readyState=WebSocket.OPEN,s.reconnectAttempts=0;var r=d(\"open\");r.isReconnect=t,t=!1,l.dispatchEvent(r)},c.onclose=function(n){if(clearTimeout(a),c=null,o)s.readyState=WebSocket.CLOSED,l.dispatchEvent(d(\"close\"));else{s.readyState=WebSocket.CONNECTING;var r=d(\"connecting\");r.code=n.code,r.reason=n.reason,r.wasClean=n.wasClean,l.dispatchEvent(r),t||u||((s.debug||e.debugAll)&&console.debug(\"ReconnectingWebSocket\",\"onclose\",s.url),l.dispatchEvent(d(\"close\")));var a=s.reconnectInterval*Math.pow(s.reconnectDecay,s.reconnectAttempts);setTimeout((function(){s.reconnectAttempts++,s.open(!0)}),a>s.maxReconnectInterval?s.maxReconnectInterval:a)}},c.onmessage=function(t){(s.debug||e.debugAll)&&console.debug(\"ReconnectingWebSocket\",\"onmessage\",s.url,t.data);var n=d(\"message\");n.data=t.data,l.dispatchEvent(n)},c.onerror=function(t){(s.debug||e.debugAll)&&console.debug(\"ReconnectingWebSocket\",\"onerror\",s.url,t),l.dispatchEvent(d(\"error\"))}},1==this.automaticOpen&&this.open(!1),this.send=function(t){if(c)return(s.debug||e.debugAll)&&console.debug(\"ReconnectingWebSocket\",\"send\",s.url,t),c.send(t);throw\"INVALID_STATE_ERR : Pausing to reconnect websocket\"},this.close=function(e,t){\"undefined\"==typeof e&&(e=1e3),o=!0,c&&c.close(e,t)},this.refresh=function(){c&&c.close()}}})?r.apply(t,a):r)||(e.exports=i)},36:function(e,t,n){e.exports={game:\"GamePage_game__3S4Mj\"}},37:function(e,t,n){e.exports={labels:\"PlaybackSpeed_labels__3XxZA\"}},50:function(e,t,n){},51:function(e,t,n){},53:function(e,t,n){},55:function(e,t,n){\"use strict\";n.r(t);var r=n(1),a=n.n(r),i=n(23),c=n(16),s=n(5),o=n(3);function u(e){var t=e.split(\"=\");return{key:t[0],value:void 0===t[1]||decodeURIComponent(t[1])}}function l(e){if(!e)return\"\";var t=\"?\",n=\"\";for(var r in e){var a=e[r];n+=\"\".concat(t).concat(r,\"=\").concat(a),t=\"&\"}return n}function d(e){var t={http:\"ws\",https:\"wss\"};for(var n in t){var r=t[n];if(e.substr(0,n.length+1)===n+\":\")return r+e.substr(n.length)}throw new Error(\"Invalid URL: \"+e)}function h(){function e(e,t){var n=e.replace(/\\/+$/,\"\"),r=t.replace(/^\\/+/,\"\");return\"\"===n?r:\"\"===r?n:\"\".concat(n,\"/\").concat(r)}for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return n.reduce((function(t,n){return e(t,n)}),\"\")}var p=n(9),f=n(10),m=n(12),b=n(11),g=n(6),j=n(4),v=\"#f1f1f1\",O=\"#D6D5EA\",x=\"#ff5c75\",y=\"#000000\",w=\"0.3\",k=\"#AAAAAA\",S=\"#fefefe\",_=\"#888\",E=\"#6f42c1\",C=\"#efefef\",T=\"#424242\",L=\"#6f42c1\",F=\"#fff\",N=\"#dc3545\",A=\"#f8f9fa\",R=\"576px\",H=\"768px\",P=\"992px\",M=\"1650px\",z=\"dark\",I=\"light\",G=n(0),W=Object(j.a)(\"div\")({display:\"flex\",alignItems:\"center\",justifyContent:\"center\",height:\"100%\",width:\"100%\"}),B=function(e){Object(m.a)(n,e);var t=Object(b.a)(n);function n(){return Object(p.a)(this,n),t.apply(this,arguments)}return Object(f.a)(n,[{key:\"render\",value:function(){return Object(G.jsx)(W,{children:Object(G.jsxs)(\"div\",{className:\"la-ball-grid-beat la-dark la-2x\",style:{color:x},children:[Object(G.jsx)(\"div\",{}),Object(G.jsx)(\"div\",{}),Object(G.jsx)(\"div\",{}),Object(G.jsx)(\"div\",{}),Object(G.jsx)(\"div\",{}),Object(G.jsx)(\"div\",{}),Object(G.jsx)(\"div\",{}),Object(G.jsx)(\"div\",{}),Object(G.jsx)(\"div\",{})]})})}}]),n}(a.a.Component),D=n(22),X=20,Y=(X/3.25).toFixed(2),V=.1,U=[\"up\",\"right\",\"down\",\"left\"],K=0;function q(e){return 24*e+4}function Q(e){return 24*(K-1-e)+4}function J(e){var t=\"left\"===e.direction||\"right\"===e.direction?8:0;return X+t}function Z(e){var t=\"up\"===e.direction||\"down\"===e.direction?8:0;return X+t}function $(e){var t=\"left\"===e.direction||\"right\"===e.direction?-4:0;return q(e.x)+t}function ee(e){var t=\"up\"===e.direction||\"down\"===e.direction?-4:0;return Q(e.y)+t}function te(e,t){return q(e.x)-4}function ne(e,t){return Q(e.y)-4}function re(e){switch(e.direction){case\"left\":return q(e.x+1)-4-V;case\"right\":return q(e.x)-4-V;default:return q(e.x)}}function ae(e){switch(e.direction){case\"up\":return Q(e.y-1)-4-V;case\"down\":return Q(e.y)-4-V;default:return Q(e.y)}}function ie(e){switch(e.direction){case\"right\":return q(e.x+1)-4-V;case\"left\":return q(e.x)-4-V;default:return q(e.x)}}function ce(e){switch(e.direction){case\"down\":return Q(e.y-1)-4-V;case\"up\":return Q(e.y)-4-V;default:return Q(e.y)}}function se(e){return\"left\"===e.direction||\"right\"===e.direction?4.2:X}function oe(e){return\"left\"===e.direction||\"right\"===e.direction?X:4.2}function ue(e,t){if(e.isDead){if(t)return e._id===t?1:0}else if(t)return e._id===t?1:.15;return e.isDead?.1:1}function le(e){return e.shadeForOverlap?.8:e.isOverlapped?.3:1}function de(e,t){return t.shadeForOverlap?k:e.color}function he(e){for(var t=[],n=0;n<e;n++)t.push(n);return t}function pe(e,t){if(0===t||t===e.body.length-1)return!1;var n,r,a=e.body[t+1],i=e.body[t];return(a.x!==i.x||a.y!==i.y)&&(n=i.direction,r=a.direction,Math.abs(U.indexOf(n)-U.indexOf(r))%2===1)}function fe(e,t){var n=e.body[e.body.length-1];return t.isOverlapped&&n.x===t.x&&n.y===t.y}var me=function(e){Object(m.a)(n,e);var t=Object(b.a)(n);function n(){return Object(p.a)(this,n),t.apply(this,arguments)}return Object(f.a)(n,[{key:\"renderPart\",value:function(e,t,n,r){if(!fe(e,n))switch(n.type){case\"head\":return this.renderHeadPart(e,t,n);case\"tail\":return this.renderTailPart(e,t,n);default:return pe(e,r)?this.renderCornerPart(e,t,n,r):this.renderMiddlePart(e,t,n,r)}}},{key:\"renderHeadPart\",value:function(e,t,n){var r=function(e){switch(e.direction){case\"left\":return q(e.x)+V;case\"right\":return q(e.x)-V;default:return q(e.x)}}(n),a=function(e){switch(e.direction){case\"up\":return Q(e.y)+V;case\"down\":return Q(e.y)-V;default:return Q(e.y)}}(n),i=e.headSvg.viewBox.baseVal,c=function(e,t){var n=t.width/2,r=t.height/2;switch(e){case\"left\":return\"scale(-1,1) translate(-100, 0)\";case\"up\":return\"rotate(-90 \".concat(n,\" \").concat(r,\")\");case\"down\":return\"rotate(90 \".concat(n,\" \").concat(r,\")\");default:return\"\"}}(n.direction,i),s=\"\".concat(i.x,\" \").concat(i.y,\" \").concat(i.width,\" \").concat(i.height),o=de(e,n),u=le(n);return Object(G.jsxs)(\"g\",{children:[Object(G.jsx)(\"svg\",{viewBox:s,x:r,y:a,width:X,height:X,fill:o,opacity:u,shapeRendering:\"auto\",children:Object(G.jsx)(\"g\",{transform:c,dangerouslySetInnerHTML:{__html:e.headSvg.innerHTML}})}),e.effectiveSpace>1&&Object(G.jsx)(\"rect\",{x:re(n),y:ae(n),width:se(n),height:oe(n),fill:o,opacity:u,shapeRendering:\"auto\"})]},\"part\"+t+\",head\")}},{key:\"renderMiddlePart\",value:function(e,t,n,r){var a=de(e,n),i=le(n);return Object(G.jsx)(\"rect\",{x:$(n),y:ee(n),width:J(n),height:Z(n),fill:a,opacity:i,shapeRendering:\"auto\"},\"part\".concat(t,\",\").concat(n.x,\",\").concat(n.y))}},{key:\"renderCornerPart\",value:function(e,t,n,r){var a,i=de(e,n),c=le(n);var s=function(e,t){if(0===t||t===e.body.length-1)return!1;var n=e.body[t+1],r=e.body[t];return\"\".concat(r.direction,\" \").concat(n.direction)}(e,r);switch(s){case\"down left\":case\"right up\":a=\"rotate(270, 70, 70)\";break;case\"left down\":case\"up right\":a=\"rotate(90, 70, 70)\";break;case\"left up\":case\"down right\":break;case\"right down\":case\"up left\":a=\"rotate(180, 70, 70)\"}return Object(G.jsx)(\"svg\",{x:te(n),y:ne(n),width:28,height:28,fill:i,opacity:c,viewBox:\"0 0 140 140\",shapeRendering:\"auto\",children:Object(G.jsx)(\"path\",{d:\"M0,20 h60 a60,60 0 0 1 60,60 v60 h-100 v-20 h-20 z\",transform:a})},\"part\".concat(t,\",\").concat(n.x,\",\").concat(n.y))}},{key:\"renderTailPart\",value:function(e,t,n){var r=function(e){switch(e.direction){case\"left\":return q(e.x)-V;case\"right\":return q(e.x)+V;default:return q(e.x)}}(n),a=function(e){switch(e.direction){case\"up\":return Q(e.y)-V;case\"down\":return Q(e.y)+V;default:return Q(e.y)}}(n),i=e.tailSvg.viewBox.baseVal,c=function(e,t){var n=t.width/2,r=t.height/2;switch(e){case\"right\":return\"scale(-1,1) translate(-100,0)\";case\"down\":return\"scale(-1,1) translate(-100,0) rotate(-90 \".concat(n,\" \").concat(r,\")\");case\"up\":return\"scale(-1,1) translate(-100,0) rotate(90 \".concat(n,\" \").concat(r,\")\");default:return\"\"}}(n.direction,i),s=\"\".concat(i.x,\" \").concat(i.y,\" \").concat(i.width,\" \").concat(i.height),o=de(e,n),u=le(n);return Object(G.jsxs)(\"g\",{children:[Object(G.jsx)(\"svg\",{viewBox:s,x:r,y:a,width:X,height:X,fill:o,opacity:u,shapeRendering:\"auto\",children:Object(G.jsx)(\"g\",{transform:c,dangerouslySetInnerHTML:{__html:e.tailSvg.innerHTML}})}),e.effectiveSpace>1&&Object(G.jsx)(\"rect\",{x:ie(n),y:ce(n),width:se(n),height:oe(n),fill:o,opacity:u,shapeRendering:\"auto\"})]},\"part\"+t+\",tail\")}},{key:\"renderLabel\",value:function(e,t,n){return Object(G.jsx)(\"foreignObject\",{x:q(t),y:Q(e),width:X,height:X,children:Object(G.jsx)(\"div\",{style:{width:\"100%\",height:\"100%\",display:\"flex\",alignItems:\"center\",justifyContent:\"center\",opacity:.5},children:Object(G.jsx)(\"div\",{style:{fontSize:\"80%\"},children:n})})},\"label\"+e+t)}},{key:\"renderLabels\",value:function(){var e=this;return Object(G.jsxs)(G.Fragment,{children:[he(this.props.rows).map((function(t,n){return e.renderLabel(n,-1,n)})),he(this.props.columns).map((function(t,n){return e.renderLabel(-1,n,n)}))]})}},{key:\"renderGrid\",value:function(){var e=this;K=this.props.rows;var t,n,r=this.props.snakes||[],a=this.props.food||[],i=this.props.hazards||[],c=(t=r,n=this.props.highlightedSnake,t.concat().sort((function(e,t){var r=e.isDead?0:1,a=t.isDead?0:1;return e._id===n&&(r=2),t._id===n&&(a=2),r-a})));if(!this.props.highlightedSnake){for(var s=Array(this.props.rows),o=0;o<s.length;o++){s[o]=Array(this.props.columns);for(var u=0;u<this.props.columns;u++)s[o][u]=!1}for(var l=0;l<c.length;l++){var d=c[l];if(!d.isDead)for(var h=0;h<d.body.length;h++){var p=d.body[h];fe(d,p)||(s[p.y][p.x]?p.shadeForOverlap=!0:s[p.y][p.x]=!0)}}}var f=24*this.props.columns+4,m=24*this.props.rows+4,b=parseFloat(w),g=this.props.showCoordinateLabels?\"visible\":\"hidden\";return Object(G.jsxs)(\"svg\",{className:\"grid\",width:this.props.maxWidth,height:this.props.maxHeight,x:this.props.x,y:this.props.y,viewBox:\"0 0 \".concat(f,\" \").concat(m),overflow:g,children:[this.props.showCoordinateLabels&&this.renderLabels(),he(this.props.rows).map((function(t,n){return he(e.props.columns).map((function(t,r){return Object(G.jsx)(\"rect\",{x:q(r),y:Q(n),width:X,height:X,fill:e.props.theme===z?O:v,shapeRendering:\"auto\"},\"cell\"+n+\",\"+r)}))})),c.map((function(t,n){return Object(G.jsx)(\"g\",{className:\"snake\",opacity:ue(t,e.props.highlightedSnake),children:Object(D.a)(t.body).reverse().map((function(r,a){return e.renderPart(t,n,r,t.body.length-a-1,e.props.highlightedSnake)}))},\"snake\".concat(n))})),i.map((function(e,t){return Object(G.jsx)(\"rect\",{x:q(e.x),y:Q(e.y),width:X,height:X,fill:y,fillOpacity:b,shapeRendering:\"auto\"},\"hazard\"+t)})),a.map((function(t,n){return e.props.foodImage?Object(G.jsx)(\"image\",{x:q(t.x),y:Q(t.y),width:X,height:X,href:e.props.foodImage},\"food\"+n):Object(G.jsx)(\"circle\",{className:\"food\",cx:q(t.x)+10,cy:Q(t.y)+10,r:Y,fill:x,shapeRendering:\"optimizeQuality\"},\"food\"+n)}))]})}},{key:\"render\",value:function(){return this.props.snakes?this.renderGrid():void 0}}]),n}(a.a.Component),be=100,ge=function(e){Object(m.a)(n,e);var t=Object(b.a)(n);function n(){return Object(p.a)(this,n),t.apply(this,arguments)}return Object(f.a)(n,[{key:\"render\",value:function(){var e=this.props.showCoordinateLabels?90:be,t=this.props.showCoordinateLabels?10:0;return Object(G.jsx)(\"svg\",{viewBox:\"0 0 \".concat(be,\" \").concat(be),children:Object(G.jsx)(me,{snakes:this.props.snakes,food:this.props.food,foodImage:this.props.foodImage,hazards:this.props.hazards,columns:this.props.columns,rows:this.props.rows,highlightedSnake:this.props.highlightedSnake,theme:this.props.theme,maxWidth:e,maxHeight:e,x:t,y:0,turn:this.props.turn,showCoordinateLabels:this.props.showCoordinateLabels})})}}]),n}(a.a.Component),je=n(17),ve=n(2),Oe=n.n(ve),xe=n(7),ye=n(33),we=n.n(ye);function ke(e,t){var n={},r=!1;return new Promise((function(a,i){var c=new we.a(e);c.addEventListener(\"message\",(function(e){var i=JSON.parse(e.data),s=i.Data;n[s.Turn]||(n[s.Turn]=!0,(r=t(i))&&(c.close(),a()))})),c.addEventListener(\"onerror\",(function(e){i(e)})),c.addEventListener(\"onclose\",(function(e){r||(r=!0,a())}))}))}var Se={},_e={};function Ee(e){return Promise.all(e.map(Te))}function Ce(e){return Se[e]}function Te(e){return e in Se?Promise.resolve(Se[e]):function(e){return Le.apply(this,arguments)}(e)}function Le(){return(Le=Object(xe.a)(Oe.a.mark((function e(t){var n,r,a;return Oe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(t);case 2:return n=e.sent,e.next=5,n.text();case 5:return r=e.sent,a=Fe(r),Se[t]=a,e.abrupt(\"return\",a);case 9:case\"end\":return e.stop()}}),e)})))).apply(this,arguments)}function Fe(e){var t=document.createElement(\"div\");return t.innerHTML=e.trim(),t.firstChild}function Ne(e){return Ae.apply(this,arguments)}function Ae(){return(Ae=Object(xe.a)(Oe.a.mark((function e(t){var n,r,a;return Oe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t in Se)){e.next=2;break}return e.abrupt(\"return\",!0);case 2:if(!(t in _e)){e.next=4;break}return e.abrupt(\"return\",!1);case 4:return e.prev=4,e.next=7,fetch(t);case 7:return n=e.sent,e.next=10,n.text();case 10:return r=e.sent,(a=r.startsWith(\"<svg\"))||(_e[t]=!0),e.abrupt(\"return\",a);case 16:return e.prev=16,e.t0=e.catch(4),console.warn(e.t0,t,\"Fallback to default\"),e.abrupt(\"return\",!1);case 20:case\"end\":return e.stop()}}),e,null,[[4,16]])})))).apply(this,arguments)}var Re=\"default\",He=\"default\";function Pe(){return(Pe=Object(xe.a)(Oe.a.mark((function e(t,n){var r;return Oe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(\"output game config\"),e.next=3,fetch(t+l(n));case 3:if(r=e.sent,console.log(r),200!==r.status){e.next=9;break}return e.abrupt(\"return\",Promise.resolve(r.json()));case 9:return e.abrupt(\"return\",Promise.resolve(r.json()).then((function(e){return console.error(e.error),Promise.reject(e.error)})));case 10:case\"end\":return e.stop()}}),e)})))).apply(this,arguments)}function Me(e){return new Promise((function(t){return setTimeout(t,e)}))}function ze(e){switch(e.cause){case\"snake-collision\":return\"Ran into \".concat(e.eliminatedBy,\"'s body\");case\"snake-self-collision\":return\"Collided with itself\";case\"out-of-health\":return\"Out of health\";case\"hazard\":return\"Eliminated by hazard\";case\"head-collision\":return\"Lost head-to-head with \".concat(e.eliminatedBy);case\"wall-collision\":return\"Moved out of bounds\";case\"squad-eliminated\":return\"Squad was eliminated\";default:return e.cause}}function Ie(e){var t=e.reduce((function(e,t){return e.concat([t.HeadType,t.TailType])}),[]),n=new Set(t);return Array.from(n)}function Ge(e){return We.apply(this,arguments)}function We(){return(We=Object(xe.a)(Oe.a.mark((function e(t){var n,r,a;return Oe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=Object(je.a)(t),e.prev=1,n.s();case 3:if((r=n.n()).done){e.next=19;break}return(a=r.value).HeadType||(a.HeadType=Re),a.TailType||(a.TailType=He),a.HeadType=Ve(a.HeadType),a.TailType=Ue(a.TailType),e.next=11,Ne(a.HeadType);case 11:if(e.sent){e.next=13;break}a.HeadType=Ve(Re);case 13:return e.next=15,Ne(a.TailType);case 15:if(e.sent){e.next=17;break}a.TailType=Ue(He);case 17:e.next=3;break;case 19:e.next=24;break;case 21:e.prev=21,e.t0=e.catch(1),n.e(e.t0);case 24:return e.prev=24,n.f(),e.finish(24);case 27:case\"end\":return e.stop()}}),e,null,[[1,21,24,27]])})))).apply(this,arguments)}function Be(e){return De.apply(this,arguments)}function De(){return(De=Object(xe.a)(Oe.a.mark((function e(t){var n,r,a;return Oe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ge(t);case 2:return e.next=4,Ee(Ie(t));case 4:n=Object(je.a)(t);try{for(n.s();!(r=n.n()).done;)(a=r.value).HeadSvg=Ce(a.HeadType),a.TailSvg=Ce(a.TailType)}catch(i){n.e(i)}finally{n.f()}case 6:case\"end\":return e.stop()}}),e)})))).apply(this,arguments)}function Xe(e){return e.indexOf(\"/\")>=0||e.indexOf(\".\")>=0}function Ye(e,t){return h(\"https://media.battlesnake.com\",e,t)+\".svg?board_version=1.2.1\"}function Ve(e){return Ye(\"/snakes/heads\",Xe(e)?Re:e)}function Ue(e){return Ye(\"/snakes/tails\",Xe(e)?He:e)}function Ke(e){return qe.apply(this,arguments)}function qe(){return(qe=Object(xe.a)(Oe.a.mark((function e(t){return Oe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Be(t.Snakes);case 2:case\"end\":return e.stop()}}),e)})))).apply(this,arguments)}function Qe(e,t){var n=h(e,\"games/\".concat(t));return console.log(\"output:\"),console.log(n),function(e,t){return Pe.apply(this,arguments)}(n)}function Je(e,t,n){return Ze.apply(this,arguments)}function Ze(){return(Ze=Object(xe.a)(Oe.a.mark((function e(t,n,r){var a,i,c,s;return Oe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=function(e){if(e.Type){var t=e.Data||e;console.log(t),i=i.then(Object(xe.a)(Oe.a.mark((function n(){return Oe.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(\"frame\"!==e.Type){n.next=3;break}return n.next=3,Ke(t);case 3:return n.abrupt(\"return\",r(a,e.Type,t));case 4:case\"end\":return n.stop()}}),n)}))))}return e.Type&&\"game_end\"===e.Type},e.next=3,Qe(t,n);case 3:return a=e.sent,console.log(a),i=Promise.resolve(),s=h(d(t),\"games/\".concat(n,\"/events\")),console.log(\"output wsurl\"),console.log(s),e.next=11,ke(s,c);case 11:return e.next=13,i;case 13:case\"end\":return e.stop()}}),e)})))).apply(this,arguments)}function $e(e,t){return e.filter((function(e){return e.turn===t}))[0]}var et=n(27),tt=(n(50),{color:N});var nt=function(e){var t;if(\"\"===e.error)return\"\";var n=e.error.toString().split(\":\"),r=Object(et.a)(n,2);return r[0],t=r[1],Object(G.jsxs)(\"div\",{className:\"error-message\",style:tt,children:[Object(G.jsx)(\"span\",{className:\"material-icons material-icons-inline\",children:\"error\"}),Object(G.jsx)(\"span\",{children:t})]})},rt=(n(51),{color:N,cursor:\"pointer\",margin:0,padding:0});var at,it,ct,st,ot,ut,lt,dt,ht,pt,ft,mt,bt,gt,jt,vt,Ot=function(e){var t=e.errorMessage;if(\"\"===t)return\"\";var n=t.toString().split(\":\");Object(et.a)(n,1)[0];return Object(G.jsx)(\"div\",{style:rt,children:Object(G.jsx)(\"span\",{className:\"material-icons material-icons-inline\",children:\"error\"})})},xt=Object(j.a)(\"div\")(at||(at=Object(g.a)([\"\\n  width: 100%;\\n  white-space: nowrap;\\n  overflow: hidden;\\n\\n  opacity: \",\";\\n\"])),(function(e){return e.isEliminated?\"0.5\":\"1.0\"})),yt=Object(j.a)(\"span\")((function(e){return{display:\"block\",textShadow:e.theme===z?\"0 1px 2px rgba(0,0,0,0.90)\":null}})),wt=Object(j.a)(\"span\")((function(e){return{marginLeft:\"auto\",textShadow:e.theme===z?\"0 1px 2px rgba(0,0,0,0.90)\":null}})),kt=Object(j.a)(\"div\")({fontSize:\"1rem\",fontWeight:\"400\",display:\"flex\",flexDirection:\"row\",height:\"1.25rem\"}),St=Object(j.a)(\"span\")((function(e){return{display:\"block\",flexGrow:1,textShadow:e.theme===z?\"0 1px 2px rgba(0,0,0,0.90)\":null}})),_t=Object(j.a)(\"span\")((function(e){var t=e.theme,n=e.latency;return{color:\"0\"===n?\"red\":\"inherit\",marginLeft:\"auto\",textShadow:t===z?\"0 1px 2px rgba(0,0,0,0.90)\":null,display:\"\"===n?\"none\":\"block\"}})),Et=Object(j.a)(\"div\")({marginTop:\"0.2rem\",width:\"100%\",height:\"1.0rem\",background:S,borderRadius:\"1.5rem\"}),Ct=Object(j.a)(\"div\")((function(e){return{height:\"100%\",backgroundColor:e.color,borderRadius:\"inherit\"}})),Tt=Object(j.a)(\"div\")((function(e){return{width:\"100%\",marginTop:\"0.2rem\",fontSize:\"1rem\",lineHeight:\"1rem\",color:e.theme===z?C:T}})),Lt=function(e){Object(m.a)(n,e);var t=Object(b.a)(n);function n(e){var r;return Object(p.a)(this,n),(r=t.call(this,e)).state={showError:!1},r}return Object(f.a)(n,[{key:\"render\",value:function(){return Object(G.jsxs)(xt,{isEliminated:!!this.props.snake.death,children:[Object(G.jsxs)(\"div\",{className:\"row\",children:[Object(G.jsx)(yt,{children:this.props.snake.name}),Object(G.jsx)(wt,{children:this.props.snake.body.length})]}),Object(G.jsxs)(kt,{children:[Object(G.jsxs)(St,{children:[\"by \",this.props.snake.author]}),Object(G.jsx)(Ot,{errorMessage:this.props.snake.error}),Object(G.jsxs)(_t,{latency:this.props.snake.latency,children:[this.props.snake.latency,\" ms\"]})]}),this.props.snake.death?Object(G.jsx)(Tt,{theme:this.props.theme,children:ze(this.props.snake.death)}):Object(G.jsx)(Et,{children:Object(G.jsx)(Ct,{color:this.props.snake.color,style:{width:\"\".concat(this.props.snake.health,\"%\")}})}),Object(G.jsx)(nt,{error:this.props.highlighted?this.props.snake.error:\"\"})]})}}]),n}(a.a.Component),Ft=function(e){var t=e.filter((function(e){return!e.isDead})).sort((function(e,t){var n=e.name.toLowerCase(),r=t.name.toLowerCase();return n<r?-1:n>r?1:0})),n=e.filter((function(e){return e.isDead})).sort((function(e,t){return e.death.turn-t.death.turn})).reverse();return t.concat(n)},Nt=Object(j.a)(\"div\")(it||(it=Object(g.a)([\"\\n  display: none;\\n  color: \",\";\\n  font-weight: 600;\\n  font-size: 1.4rem;\\n\\n  @media (min-width: \",\") {\\n    display: \",\";\\n    font-size: 1.8rem;\\n  }\\n\\n  @media (min-width: \",\") {\\n    font-size: 3.2rem;\\n    letter-spacing: 0.1rem;\\n  }\\n\"])),(function(e){return e.theme===z?C:T}),H,(function(e){return e.hide?\"none\":\"block\"}),M),At=Object(j.a)(\"div\")(ct||(ct=Object(g.a)([\"\\n  padding: 0.75rem;\\n  transition: background-color 0.2s, box-shadow 0.2s;\\n  border: 2px solid\\n    \",\";\\n  &:hover {\\n    background-color: \",\";\\n    cursor: pointer;\\n    border-color: \",\";\\n  }\\n\"])),(function(e){return e.highlighted?E:\"transparent\"}),(function(e){return e.theme===z?L:A}),(function(e){return e.highlighted?E:_})),Rt=function(e){Object(m.a)(n,e);var t=Object(b.a)(n);function n(){var e;Object(p.a)(this,n);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return(e=t.call.apply(t,[this].concat(a))).state={highlightedSnake:null},e.toggleHighlight=function(t){var n=function(e,t){return e.highlightedSnake!==t._id?t._id:null};e.props.highlightSnake(n(e.state,t)),e.setState((function(e){return{highlightedSnake:n(e,t)}}))},e}return Object(f.a)(n,[{key:\"render\",value:function(){var e=this,t=this.state.highlightedSnake;return Object(G.jsx)(Nt,{theme:this.props.theme,children:this.props.snakes?Ft(this.props.snakes).map((function(n,r){return Object(G.jsx)(At,{onClick:function(){return e.toggleHighlight(n)},highlighted:t===n._id,theme:e.props.theme,children:Object(G.jsx)(Lt,{snake:n,theme:e.props.theme,highlighted:t===n._id},\"avatar\"+r)},\"avatarwrapper\"+r)})):void 0})}}]),n}(a.a.Component),Ht=n(34),Pt=n.n(Ht),Mt=Object(j.a)(\"div\")(st||(st=Object(g.a)([\"\\n  display: \",\";\\n  margin-top: 1rem;\\n  width: 100%;\\n\"])),(function(e){return e.hide?\"none\":\"block\"})),zt=Object(j.a)(\"div\")({position:\"relative\"}),It=Object(j.a)(\"div\")(ot||(ot=Object(g.a)([\"\\n  position: absolute;\\n  bottom: 2.5rem;\\n  right: 2.5rem;\\n  width: 20rem;\\n  padding: 1rem;\\n  border: solid 1px #999;\\n  background: #fff;\\n\\n  @media (min-width: \",\") {\\n    left: 2.5rem;\\n    right: 0;\\n  }\\n\\n  h4 {\\n    margin-top: 0;\\n    margin-bottom: 1rem;\\n  }\\n\\n  ul {\\n    list-style-type: none;\\n    margin: 0;\\n    padding: 0;\\n  }\\n\"])),H),Gt=Object(j.a)(\"div\")({display:\"flex\",justifyContent:\"center\",width:\"100%\"}),Wt=Object(j.a)(\"button\")(ut||(ut=Object(g.a)([\"\\n  display: inline-block;\\n  min-width: 3rem;\\n  text-align: center;\\n  background: transparent;\\n  color: \",\";\\n  font-size: 1.4rem;\\n  border: none;\\n  text-decoration: none;\\n  cursor: pointer;\\n  transition: background 250ms ease-in-out, transform 150ms ease;\\n  -webkit-appearance: none;\\n  -moz-appearance: none;\\n\\n  &:hover {\\n    cursor: pointer;\\n  }\\n\\n  &:focus {\\n    outline: none;\\n  }\\n\\n  &:disabled {\\n    color: #ccc;\\n    cursor: not-allowed;\\n  }\\n\\n  @media (max-width: \",\") {\\n    padding: 2rem 2rem;\\n  }\\n\"])),(function(e){return e.theme===z?\"#eee\":\"#333\"}),R),Bt=Object(j.a)(\"input\")(lt||(lt=Object(g.a)([\"\\n  width: 100%;\\n  max-width: 60rem;\\n\\n  &:disabled,\\n  &:disabled:hover {\\n    opacity: 0.2;\\n    cursor: not-allowed;\\n  }\\n\"]))),Dt=function(e){Object(m.a)(n,e);var t=Object(b.a)(n);function n(e){var r;return Object(p.a)(this,n),(r=t.call(this,e)).state={paneHidden:!0},r.handleParentKeyboardEvent=function(e){var t=e.data.code;r.handleKeyEvent(r.keyboardCodeMap[t],e)},r.handleReload=function(){r.props.reloadGame()},r.handlePlayPause=function(){r.props.toggleGamePause()},r.handleBackward=function(){r.props.stepBackwardFrame()},r.handleForward=function(){r.props.stepForwardFrame()},r.handleScrubMouseDown=function(){r.props.pauseGame()},r.handleScrubbing=function(e){r.props.stepToTurn(parseInt(e.target.value))},r.handleSettings=function(){r.props.persistAvailable&&r.props.history.push(\"/settings\")},r.handleShortcutPaneShowToggle=function(){r.setState({paneHidden:!r.state.paneHidden})},r.handleKeyEvent=function(e,t){switch(t.preventDefault(),e){case\"r\":r.handleReload();break;case\"left\":r.handleBackward();break;case\"right\":r.handleForward();break;case\"space\":r.handlePlayPause();break;case\",\":r.handleSettings()}},r.keyboardCodeMap={KeyR:\"r\",ArrowLeft:\"left\",ArrowRight:\"right\",Space:\"space\",Settings:\",\"},r}return Object(f.a)(n,[{key:\"componentDidMount\",value:function(){window.addEventListener(\"message\",this.handleParentKeyboardEvent)}},{key:\"componentWillUnmount\",value:function(){window.removeEventListener(\"message\",this.handleParentKeyboardEvent)}},{key:\"render\",value:function(){return this.renderControls()}},{key:\"renderScrubbing\",value:function(){var e=this.props.hasAllFrames?this.props.currentFrame.turn:0,t=this.props.hasAllFrames?this.props.maxTurn:0;return this.props.showFrameScrubber&&Object(G.jsx)(Gt,{children:Object(G.jsx)(Bt,{type:\"range\",min:\"0\",max:t,value:e,onMouseDown:this.handleScrubMouseDown,onChange:this.handleScrubbing,disabled:!this.props.hasAllFrames})})}},{key:\"renderControls\",value:function(){var e=this.props,t=e.currentFrame,n=e.hideControls,r=e.paused,a=e.theme,i=e.persistAvailable,c=i?\"Configure playback settings\":\"Enable localStorage to configure playback settings\";return Object(G.jsxs)(Mt,{hide:n,children:[this.renderScrubbing(),Object(G.jsxs)(Gt,{children:[Object(G.jsx)(Wt,{onClick:this.handleBackward,disabled:0===t.turn||!r,theme:a,children:Object(G.jsx)(\"span\",{className:\"material-icons icon-image-preview\",children:\"skip_previous\"})}),Object(G.jsx)(Wt,{onClick:this.handlePlayPause,theme:a,children:Object(G.jsx)(\"span\",{className:\"material-icons icon-image-preview\",children:r?\"play_arrow\":\"pause\"})}),Object(G.jsx)(Wt,{onClick:this.handleForward,disabled:!r,theme:a,children:Object(G.jsx)(\"span\",{className:\"material-icons icon-image-preview\",children:\"skip_next\"})}),Object(G.jsx)(Wt,{onClick:this.handleReload,disabled:0===t.turn||!r,theme:a,children:Object(G.jsx)(\"span\",{className:\"material-icons icon-image-preview\",children:\"refresh\"})}),Object(G.jsx)(Wt,{onClick:this.handleSettings,disabled:!i,theme:a,children:Object(G.jsx)(\"span\",{className:\"material-icons icon-image-preview\",title:c,children:\"settings\"})}),Object(G.jsx)(Pt.a,{handleKeys:Object.values(this.keyboardCodeMap),onKeyEvent:this.handleKeyEvent}),Object(G.jsxs)(zt,{children:[Object(G.jsx)(Wt,{onClick:this.handleShortcutPaneShowToggle,theme:a,children:Object(G.jsx)(\"span\",{className:\"material-icons icon-image-preview\",children:\"help\"})}),!this.state.paneHidden&&Object(G.jsxs)(It,{children:[Object(G.jsx)(\"h4\",{children:\"Keyboard shortcuts\"}),Object(G.jsxs)(\"ul\",{children:[Object(G.jsx)(\"li\",{children:\"Reload = r\"}),Object(G.jsx)(\"li\",{children:\"Play/Pause = space\"}),Object(G.jsx)(\"li\",{children:\"Backward = left arrow\"}),Object(G.jsx)(\"li\",{children:\"Forward = right arrow\"}),Object(G.jsx)(\"li\",{children:\"Settings = comma\"})]})]})]})]})]})}}]),n}(a.a.Component),Xt=Object(s.g)(Dt),Yt=Object(j.a)(\"div\")(dt||(dt=Object(g.a)([\"\\n  height: 100%;\\n  width: 100%;\\n\\n  > svg {\\n    object-fit: contain;\\n    width: 100%;\\n    height: 100%;\\n    max-width: 100%;\\n    max-height: 100%;\\n  }\\n\"]))),Vt=Object(j.a)((function(e){return Object(G.jsx)(Yt,{children:Object(G.jsxs)(\"svg\",Object(o.a)(Object(o.a)({\"data-name\":\"Layer 1\",viewBox:\"0 0 360 150.82\",width:\"1em\",height:\"1em\"},e),{},{children:[Object(G.jsxs)(\"defs\",{children:[Object(G.jsxs)(\"linearGradient\",{id:\"Wordmark_svg__a\",x1:118.62,y1:69.31,x2:345.43,y2:181.87,gradientTransform:\"matrix(1 0 0 -1 0 150.95)\",gradientUnits:\"userSpaceOnUse\",children:[Object(G.jsx)(\"stop\",{offset:0,stopColor:\"#3d2f90\"}),Object(G.jsx)(\"stop\",{offset:1,stopColor:\"#ea0578\"})]}),Object(G.jsx)(\"linearGradient\",{id:\"Wordmark_svg__b\",x1:153.2,y1:-.36,x2:380.02,y2:112.21,xlinkHref:\"#Wordmark_svg__a\"}),Object(G.jsx)(\"linearGradient\",{id:\"Wordmark_svg__c\",x1:110.47,y1:85.74,x2:337.28,y2:198.31,xlinkHref:\"#Wordmark_svg__a\"}),Object(G.jsx)(\"linearGradient\",{id:\"Wordmark_svg__d\",x1:132.19,y1:41.99,x2:359,y2:154.56,xlinkHref:\"#Wordmark_svg__a\"}),Object(G.jsx)(\"linearGradient\",{id:\"Wordmark_svg__e\",x1:98.64,y1:109.56,x2:325.45,y2:222.13,xlinkHref:\"#Wordmark_svg__a\"}),Object(G.jsx)(\"linearGradient\",{id:\"Wordmark_svg__f\",x1:130.52,y1:47.49,x2:364.27,y2:163.5,xlinkHref:\"#Wordmark_svg__a\"}),Object(G.jsx)(\"linearGradient\",{id:\"Wordmark_svg__g\",x1:13.42,y1:72.58,x2:346.58,y2:72.58,xlinkHref:\"#Wordmark_svg__a\"}),Object(G.jsxs)(\"linearGradient\",{id:\"Wordmark_svg__h\",x1:86.06,y1:89.18,x2:274.73,y2:89.18,gradientUnits:\"userSpaceOnUse\",children:[Object(G.jsx)(\"stop\",{offset:.23,stopColor:\"#3d2f90\"}),Object(G.jsx)(\"stop\",{offset:1,stopColor:\"#9f1782\"})]})]}),Object(G.jsxs)(\"g\",{opacity:.15,children:[Object(G.jsx)(\"path\",{d:\"M215.54 86.65h-23.25V41h-10.54v45.65H158.5V41H142l-8.33-20h94.25l-.45 20h-12z\",fill:\"url(#Wordmark_svg__a)\"}),Object(G.jsx)(\"path\",{d:\"M339.67 139L254 92.43l22-22.36-21.6-49.25h86.18v8.25L326.36 39l15.87 13.86h-39.14l11.13 24-12.44 12.6z\",fill:\"url(#Wordmark_svg__b)\"}),Object(G.jsx)(\"path\",{d:\"M105.76 87.44L88.25 69.73l20.55-49.12h22.4l27.62 66H133.6l-3.38-8.53h-20.79z\",fill:\"url(#Wordmark_svg__c)\"}),Object(G.jsx)(\"path\",{d:\"M256.83 86.65h-27.21V21.06h23.24V63h18l3 6.8z\",fill:\"url(#Wordmark_svg__d)\"}),Object(G.jsx)(\"path\",{d:\"M21.56 139l38-49.57-12.47-12.67 11.14-24H19l15.87-13.83L20.63 29v-8.28h86.17L85.28 70.13l22 22.3z\",fill:\"url(#Wordmark_svg__e)\"})]}),Object(G.jsx)(\"path\",{d:\"M87.27 125.08a3.06 3.06 0 00.84-.72l-1.65 1.11z\",fill:\"url(#Wordmark_svg__f)\"}),Object(G.jsx)(\"path\",{d:\"M343.93 133.36l-88.33-48 22.65-23.05-22.17-50.51h88.81V20l-14.66 10.19 16.35 14.28h-40.34l11.48 24.69-12.82 13.1zM259 84.84L336.51 127l-34.3-44.92 13.07-13.35L303 42.4h38.11L326.92 30l15.93-11.13v-5.39h-83.66l21.48 49.26zm57.7-57.75a4.75 4.75 0 114.74-4.75 4.66 4.66 0 01-4.79 4.75zm0-7.49a2.74 2.74 0 102.74 2.74 2.7 2.7 0 00-2.79-2.74zm-185-7.81l8.3 20.58h17.31v46.21L129.1 11.81H106C99 28.68 91.89 45.08 84.83 62l18 18.25 3.68-9.63h21.59q1.72 4.41 3.47 8.8h49.62v-47h10.88v47H216v-47h12.28V11.8zm1.3 65.55l-3.47-8.8h-24.38l-3.05 8-14.86-15c6.71-16.05 13.42-31.6 20.13-47.64h20.37c8.93 21.32 17.85 42.16 26.77 63.49zm93.34-47H214v47h-19.9v-47h-14.95v47h-19.87v-47h-17.94l-6.77-16.5h91.73zM109.91 55h14.93l-7.47-19.8q-3.73 9.92-7.46 19.8zm2.94-2l4.52-12 4.52 12zm160 2h-18.54V11.8h-23.52l-.43 67.39 28.09.19 17.46-17.29zm-15.24 22.34l-25.21-.18V13.47h19.85V57h19.21l2 4.59zm-155.18 9.09zm0 0zm0 0zM43.4 17.6a4.75 4.75 0 104.75 4.74 4.65 4.65 0 00-4.75-4.74zm0 7.48a2.74 2.74 0 112.74-2.74 2.69 2.69 0 01-2.74 2.74zm38.33 37.55l22.12-50.8H15.12V20l14.65 10.22-16.35 14.27h40.34l-11.48 24.7 12.8 13.11L16.81 133l82.84-45.06 4.68-2.54zm19.37 22.2L23.53 127l34.31-44.91-13.07-13.35L57 42.4H18.89L33.12 30 17.2 18.89v-5h83.62c-5 11.68-21.57 49.2-21.57 49.2z\",fill:\"url(#Wordmark_svg__g)\"}),Object(G.jsx)(\"path\",{d:\"M271.62 55.66c-.23-.26-.17-.48-.69-.44a.74.74 0 00-.43 1.21c.08.09-.2.2-.24.18a3.85 3.85 0 00-.44-.19c-.08 0-.13.11-.17-.05s-.34-.41-.52-.35-.05.08-.15 0-.2-.21-.36-.18a26.54 26.54 0 00-6.15 2.16 4.38 4.38 0 01-1.27.5c-.2 0-.37-.38-.65-.23a5.68 5.68 0 01-.77.42c-.19 0-.24-.09-.39 0-3.16 1.26-6.21 2.65-9.28 4.07a6.76 6.76 0 01-1 .32c-1.08.36-2.12.67-3.22 1a15.64 15.64 0 00-3.32 1.12.55.55 0 00.06 1c-2.37 1-4.82 1.88-7.25 2.74-.78.27-.46 1.19.29 1.19-.21.23-.16.1-.43.41a4.37 4.37 0 00-.93 1.57c0 .18.25.49.25.62a1.69 1.69 0 010 .21c-.12 5.6.05 11.16.23 16.75l-.54.15a40.47 40.47 0 01-6 1 21.23 21.23 0 01-3.56.12c-.18 0-.3-.36-.48-.39a.63.63 0 01-.39-.13c-.83-.65-1.57-1-2.38-1.81a18.7 18.7 0 01-2.26-3l.06-.12a7 7 0 01.54-.76c.17-.21.38-.52.58-.75a6.21 6.21 0 00.42-.81 15.73 15.73 0 011.7-2.19c.68-.77.86-.9 1.78-2s3.47-4 4.35-5.13a11.59 11.59 0 001.53-2.28c.22-.44 0-.76.14-1.14a2.57 2.57 0 00.16-.93 2.13 2.13 0 00-.63-1.13 2.94 2.94 0 00-.81-.56c-.31-.15-.52-.31-.86-.44s-.52-.63-.87-.76a4.06 4.06 0 01-1.23-.45c-.34-.26-.76-.78-1.12-.8s-.71.54-1 .76-.81.56-1.09.77.12.4.21.41.34.26.26.33-.31-.13-.51-.07-.34-.14-.62.2c-1.47 1.75-3.95 4.69-5.31 6.22a20.74 20.74 0 00-2.45 3.44c-.32.49-.62.91-1 1.36l-1.12 1.43c-.29.39-.36.47-.61.83v-1.84c0-.84 0-2.07.05-3 0-1.52-.09-3.48-.09-4.9a11.51 11.51 0 00-.72-3.5c-.23-.83.2-1.82.12-2.56s-.46-.72-1-.67a.73.73 0 00-1.24-.76c-.55.61-.73 1.28-1.28 1.77-.88.77-1.84 1.33-2.69 2.12-2.23 0-2.4 1.66-2.55 3.52a1.51 1.51 0 000 .7 4.64 4.64 0 01.05 1c.06.82 0 2 .07 2.68s-.38 1.06-.38 1.55c0 1.71.19 3.36.08 5-.08 1.09-.11 2-.19 3.11-.43-.5-.85-1-1.26-1.51-2.74 1.08-5.55 2.22-8.29 3.15a3.45 3.45 0 01-.66.19c-.23 0-.36.25-.54.21s-.38.18-.54 0a12 12 0 01-1.2-2.32c-.36-.76-.8-1.81-1.1-2.54l-.78-1.88c-.27-.66-.6-1.2-.86-1.86s-.39-1.44-.67-2.11a2.09 2.09 0 01-.08-.23 18 18 0 00-2.83-6.09c-.14-.23-.26-.71-.38-.67a2.44 2.44 0 00-.79 1c-.06.28.64.89.62 1.12s-.58 0-.64-.09 0-.05 0-.15a.66.66 0 00-.25-.37c-.08 0 0-.15 0-.11a12.69 12.69 0 00-.75 1.09 1.39 1.39 0 01-1.69.42c-1.19-.55-2.33-1.15-3.51-1.71a5.54 5.54 0 00-.57-.21c-1.07 2.51-1.71 5.11-3.37 7.32 0 .07-.19.11-.24.16a4.61 4.61 0 00-.76 2 1.91 1.91 0 01-.07.3c-.27.59-.64 1.51-.87 2s.06.6.12.9 0 .07-.09.46a18.56 18.56 0 01-.56 1.78 2.17 2.17 0 000 .51c0 .14.15.28.13.39-.1.61-.3 1.32-.42 1.89s-.32 1.42-.42 1.87-.18.79-.24 1 0 0-.05.09 0 0 0 .06a.1.1 0 010 .09v.07a1 1 0 000 .12v.13a1.27 1.27 0 01-.06.18V92c0 .07 0 0 0 0v.07a.13.13 0 000 .08v.07c0 .07 0-.1 0 0a3.48 3.48 0 01-.1.41v.2c0 .02 0 0 0 0v-.07c0 .01 0 0 0 0v.15c0 .02 0 0 0 0v.25c0 .05 0 0 0 0v.19a.58.58 0 000 .18v.06a.51.51 0 010 .13v.06a.45.45 0 000 .11v.19c0 .04 0 0 0 0a.54.54 0 010 .15s0 .22-.08.31 0-.07 0 0v.11c0 .19-.15.65-.23 1a28.7 28.7 0 00-1.06 5.79 5.35 5.35 0 00.15 1c-.16.21-.32.38-.48.58a2 2 0 01.63.44c.08.12 0 .1 0 .15s-.05 0-.05.06v.08a.33.33 0 010 .14v.14a.26.26 0 000 .15V104.62c0 .07 0-.06 0 0v.35c0 .05.05 0 0 0s0 0 0 .06v1.04c0 .03 0 .06 0 0v.1c0 .03 0 0 0 0v.06c0 .06 0 0 0 0a.31.31 0 010 .1v.09a1.94 1.94 0 010 .24s0-.06 0 0a1.29 1.29 0 010 .19s.06 0 0 .07a.19.19 0 00-.05.11v1.83c0 .21-.06 0 0 0s0 .06 0 .1 0-.06 0 0v.5c0 .02 0 .1 0 0s-.05-.37-.06-.46a1.15 1.15 0 010-.21v-.07-.52-.39a.72.72 0 010-.23v-.05a.16.16 0 000-.09v-.05c0-.05.06 0 0-.07a1.77 1.77 0 01-.05-.32c0-.06.05 0 .06 0a2.36 2.36 0 010-.37v-.07-.05a1.89 1.89 0 00-.06.18v.09a.55.55 0 000 .18v.06c0 .06 0 0 0 0v-.06c0 .01-.06 0-.07 0s0 .14 0 .22V107.65c0 .01 0 0 0 0a.53.53 0 010 .13V108.93a1.07 1.07 0 000 .25v.07a.29.29 0 010 .09V109.83a2.18 2.18 0 000 .25 1.62 1.62 0 000-.22.31.31 0 000-.1v-.06a1.82 1.82 0 010-.33v-.18a.74.74 0 000-.15s0-.06 0 0a1.19 1.19 0 01.05.22v.11a.13.13 0 010 .09v.1s0-.07 0 0a.65.65 0 010 .2v.25a1.48 1.48 0 010 .22.12.12 0 000 .09v-.1c0-.01 0 0 0 0s0-.06 0 0v.12a.46.46 0 010 .14c0 .09.06.4.08.49s0 0 0 .1v.21h.07v-.08-.06s0-.12.05-.11 0 .06.05.08a.15.15 0 010 .07v-.07c0-.03 0 0 0 0a2.64 2.64 0 010-.29c0-.05.05 0 0-.05s0 0 0-.06v-.06-.12a3.23 3.23 0 00.58 1.24 2 2 0 002 .71 34.67 34.67 0 003.8 3.47c.45.33 1.3.2 1.24-.52a42.61 42.61 0 011-11 37.32 37.32 0 00.6-5c0-.45.08-1.23.07-1.71a17.14 17.14 0 001.53 2.92c.6.72 1.28.24 1.25-.47 0 0-.06-.08 0-.1a60.1 60.1 0 015.64-2.31c.5-.17 1-.34 1.54-.48.16.52.51 1.57.66 1.94s0 0 0 .06 0 .2.17.21a1.78 1.78 0 01.88.33c.1.14.1.08.11.12.88 3.28 1.53 6.54 2.08 9.87a.32.32 0 00.54.13c.88-1 1.12-2.38 1.57-3.53s1-2 1.42-3.13c.09-.2.3-.31.43-.5a9.13 9.13 0 001.06-1.91c.06-.15.09-.3.16-.44a3.21 3.21 0 01.24-.36c.1-.15 0-.21 0-.39a6.1 6.1 0 01.13-.84c0-.18 0-.11.06-.27s-.07 0 0-.28a13.8 13.8 0 00.35-1.41.74.74 0 00-.94-.8c-.12-.43-.44-1.16-.54-1.5s-.31-.42-.27-.67-.48-.45-.17-.63c1.12-.7 2.3 0 3.77-1.15A32.81 32.81 0 01202 90.6c.18 1.94.11 4.31.27 6.18 0 .4-.23.13-.32.32a.39.39 0 000 .44c.09.13.18.1.2.24s.28.3.32.39.05 0 0 .13-.36.07-.45.21a.87.87 0 00.06.66c.09.18.25.42.34.56a1.28 1.28 0 01.19.34c0 .16.05.56.07.68s-.06.12-.06.18.08 0 .08 0c.19 1.64.42 3.29.5 4.94a2.84 2.84 0 01-.1.65c0 .21.11.38.12.56a10.85 10.85 0 01-.16 2.28c-.05.27-.32.45-.4.71-.26.8.47 1.49 1.21.92 0 0-.06 0 0-.05a.86.86 0 00.47-.37c.13-.25.62-1 .74-1.24-.13.32-.36.7-.49 1.05-.3.87.78 1.61 1.28.76.92-1.54 1.55-3.23 2.43-4.76.06-.1.25 0 .35-.06a6.31 6.31 0 001.88-2.61 34.47 34.47 0 001-3.31 8.37 8.37 0 01.37-1.35c.51-1.24 1.26-2.64 1.92-3.87a7 7 0 001.44 1 37.56 37.56 0 006.37 1.92c.34.09.52.23.78.29s.19 0 .47 0 1.18.28 1.39.34.14.1.19.11a15.09 15.09 0 002.6.38 16.39 16.39 0 003 0c.37 0 .78-.15 1.14-.18 1.2-.12 2.37-.19 3.55-.4 0 .65.12 1.31.12 1.95 0 .12-.15.19-.18.32a3.18 3.18 0 00.54 2.85v1c0 1.14-.17 2.53.6 3.52 0 0 .12.07.13.12.13.8.33 1.8 1.26 1.86a7.35 7.35 0 002.34-.51c1-.21 1.82-.49 3-.75s2.4-.69 3.77-.94 3.3-.54 4.71-.93 2.45-.83 3.88-1.29 3.22-.75 4.7-1.24a.74.74 0 00-.21-1.46 14.51 14.51 0 00-2.94.61 13 13 0 002.63-1.16c.33-.21.9-.4.95-.72.19-1.07.35-2.65.61-3.58s.42-1.3.6-2.06c.05-.19-.18-.39-.36-.45s-.58 0-.82-.17-.51-.4-.74-.62-.53-.57-.77-.76-.55-.6-.86-.51a20 20 0 01-2.52.94 12.39 12.39 0 00-2.31 1.1c-.93.33-1.95.21-2.76.47s-1.4.36-2.12.57a18.91 18.91 0 01-2.18.46 4.08 4.08 0 01-1.64-.23v-2.94c0-1.04 0-2.21-.05-3.27a3.52 3.52 0 001.21 0c.43-.12 1 .12 1.42.07s.78-.35 1.15-.27a1.9 1.9 0 00.94-.15 1.42 1.42 0 01.4-.06h.61a7.28 7.28 0 002.23-.54.85.85 0 01.19-.09c.14 0 .74-.26.86-.28s.13-.13.15-.08c.32.61.9.44 1.31.2s.57-.36.59-.75-.05-1 0-1.26.16-.18.21-.26c.34-.52 1.11-1.1 1.35-1.54a1.51 1.51 0 00-.06-1.19 1.94 1.94 0 00-.5-1c-.21-.11-.79 0-.91-.12 0-.77.06-1.52.12-2.28 0-.23-.1-.35-.16-.53a.79.79 0 00-1.52-.09c0 .07 0 .21-.06.21s0 0-.19-.06-.33-.36-.8-.23-1.08.32-1.78.45-1.89.45-2.69.54c-1.28.14-2.79.89-4 .32-.27-.12.69-3.9.7-4.3s-.07-.26 0-.28c2.09-1 4.15-2.11 6.25-3.08 2.62-1.21 5.27-2.3 7.95-3.35 2-.79 4.08-1.48 6.13-2.18-.12-.31-.1-.59.26-.75 1.25-.57 2.59-1 3.9-1.43a6.92 6.92 0 001.3-.5 1.15 1.15 0 00.29-.84c0-.09-.5.11-.76.09a4.71 4.71 0 01-1 0c-.43-.07-.93-.73-.46-1.17.08-.07.12.2.21.19s.14.08.22.08h.13c-.07 0-.1 0 0 0a.69.69 0 00.32 0h.07c.07 0 .06 0 .22-.11a1 1 0 00.39-.77.66.66 0 00-.48-.61c-.31-.11-.52.15-.7.31a2.08 2.08 0 00-.37.35c-.13.16.14.28-.08.39a2.21 2.21 0 01-1 .15c-.52 0-.78-.88-.32-1.26s1.09-.47 1.31-.74 0-.74 0-.81a4.37 4.37 0 00-.94.13c-.22 0-.81-.27-.83-.41s-.09 0 .08 0 .59 0 .94.09a1.1 1.1 0 001.27-1.19c-.06-.64-.78-.76-1-.87s-.39 0-.31-.06a22.56 22.56 0 012.11-1.2 2.39 2.39 0 00.34-.18c.23-.14.78-.39 1.14-.58.75-.4 1.63-.8 2.4-1.23.16-.08.33-.09.48-.27s.26-.71.41-1c-1.07.44-2.12.85-3.15 1.22zm-90.93 35.1c-1 .21-1.92.39-2.88.57a1.85 1.85 0 01-.54.11c-.15 0-.56.22-.57.09a4 4 0 01.33-1c.1-.34.29-.69.42-1.09a29.15 29.15 0 011.09-2.94c.42-1 1-1.91 1.48-2.89.07-.15.14-.42.2-.59.58 1.16 1.16 2.37 1.71 3.54s1 2.29 1.58 3.46c-.93.25-1.87.53-2.82.74zm-19.42-16.94a.61.61 0 00-.77-.21l-.36-.33c-1.9-2.24-3.76-4.49-5.8-6.51a.62.62 0 00-.32.47l-.31 2v.23c-.38 2.38-.74 4.73-1.1 7.09a.75.75 0 00.38.8 3.19 3.19 0 01-.45 1.19c0 1.1.16 2.24.22 3.21v2.71a1.22 1.22 0 000 .27 1.09 1.09 0 010 .36 1 1 0 010 .34v1.28a.54.54 0 000 .18v1.54a.17.17 0 010 .14 3.53 3.53 0 010 .65 20.08 20.08 0 01-1 4.78 6.22 6.22 0 01-.29.71 101.58 101.58 0 00-4.11-11.21 7.49 7.49 0 00-.24-1.39.2.2 0 01.29 0l-.09.11a1.93 1.93 0 010-.34.49.49 0 000-.24 1.81 1.81 0 00-.22-.32v-.2h.15c.16 0 .18 0 .2-.31a10.6 10.6 0 00-.6-1.33c-.45-3-.79-5.92-1-9a.73.73 0 00-.76-.68 4 4 0 01-.16-.45 1 1 0 00-.22-.34l-.36.3a66.17 66.17 0 01-7.72 8.25c-.49.74-1 1.48-1.43 2.24V80a1.27 1.27 0 01.9.87.77.77 0 00.4-.29l.36-.52c-.5 2.61-1 5.21-1.55 7.79L134 93.71a28.65 28.65 0 00-1 5.74.25.25 0 00.25.25c-.2 1-.43 2.11-.63 3.12a.58.58 0 00-.31.63 7.39 7.39 0 001.25 2.49c.29.47.63 1 1 1.61s.89 1.48 1.39 2.24a13.37 13.37 0 001.59 1.93 4.63 4.63 0 00.65.52 43.92 43.92 0 012.09 4 .72.72 0 001.32-.17l2.76-15.3.2.36c.16-.41 2.09-1.77 2.09-1.06v.45a.46.46 0 01.42.27c.59 1.26 4 8 4.49 9a37.3 37.3 0 003 4.8 18.27 18.27 0 012.51 2.69.72.72 0 001 .23.73.73 0 00.33-.58c.52-4.06 1.95-11.65 2.09-15.71a4.18 4.18 0 01.51-.8c.05-1 .15-2 .3-3 0-1.06.18-2 .26-2.94.39-2.92.74-5.83 1.13-8.73.29-2.24.62-4.48.83-6.72a7.27 7.27 0 00-2.25-5.21zm-25.46-11.64l-.63.92a.67.67 0 00-.88-.37l-.27.13a.75.75 0 00-.31-.6.53.53 0 000-.74.53.53 0 00-.25-.63 1.19 1.19 0 00-.6-.2.51.51 0 00-.25-.59 12.81 12.81 0 001.3-.74.61.61 0 010-.27 2.18 2.18 0 01.61-.6l-2.25 1.59a1.09 1.09 0 00-.67 0 .72.72 0 00-.54 0 .68.68 0 00-.49.63c-1.12.65-2.24 1.34-3.3 2H127a1.36 1.36 0 00-.81.62l-2.24 1.4a16.6 16.6 0 00-2.87 1.9l-.94.49q.33-.27.69-.51c2.25-1.66 4.65-3.21 6.73-5.07.43-.36 0-1-.58-.74a59.61 59.61 0 00-7.25 4.87c-2.24 1.7-4.68 3.43-7 5.2-4.49 3.45-9.13 6.95-13.46 10.77a.62.62 0 00-.25.47 12 12 0 00-2.78 2.35c.49 3.12 2.74 5.5 4.22 8.28a71.94 71.94 0 019.4 2c1 .29 2 .61 2.91.94a8 8 0 012.8 1.28 4.35 4.35 0 01.66 4.73 30.7 30.7 0 01-3.95 3.7c-1.64.81-3.28 1.6-4.89 2.43s-2.83 1.48-4.22 2.24a1 1 0 010 .25c-.85.27-1.68.67-2.35.89a45 45 0 00-5 2 .56.56 0 00-.19.77.53.53 0 00.37.26.5.5 0 00.11.69.5.5 0 00.43.08 23.27 23.27 0 004.24-1.8l.29-.13a89 89 0 01-10.45 7.42c-1.51 1-3 2-4.49 3a.69.69 0 01.16.18 47.72 47.72 0 017.49-4.26c.54-.25 1.14.42.65.87a52.65 52.65 0 00-4.17 3.57l.45-.16H91a24.48 24.48 0 013.22-1.86.83.83 0 011.08.47l.16-.13h.13l1-.41-1.26.7a.51.51 0 01-.22.54l-.18.13a7.83 7.83 0 00.92-.45l.38-.24c.56-.36 1 .38.67.83 1.8-1 3.59-1.91 5.41-2.79a.73.73 0 000 .36l-.36.23a.33.33 0 00.25.6 36.92 36.92 0 004.1-1.32l2.92-1.68.38-.2a5.38 5.38 0 011.5 0 .36.36 0 00.42-.29 1.14 1.14 0 010-.45.34.34 0 00.54.36 4.73 4.73 0 01.83-.78 23.8 23.8 0 004.19-2.25 11.66 11.66 0 002.13-1.25l1.21-.94c.65-.43 1.28-.86 1.89-1.33l.53-.45a8.8 8.8 0 001.44-1.14 11.53 11.53 0 011.39-.92.29.29 0 00.13-.39l.59-.89a18.3 18.3 0 001.84-4.49 14.38 14.38 0 00.33-5 7.1 7.1 0 00-.74-2.67l-.69-1.37c-.39-.77-.82-1.52-1.28-2.24a16.27 16.27 0 00-3.52-3.26 23.53 23.53 0 00-4.49-2.24 18.39 18.39 0 01-4.73-1.68.6.6 0 01-.2-.27c3-1.91 6-3.9 9-5.85 3.72-2.45 7.58-4.8 11.21-7.5l2.47-1.25v-.18a1.23 1.23 0 01-.81-1 1.3 1.3 0 01-.47-.85.48.48 0 00.16-.12 4.48 4.48 0 00.94-2.24.57.57 0 00.82 0 .53.53 0 00.17-.25 4.17 4.17 0 000-.5.7.7 0 00-.65-.63c.24-.42.47-.87.71-1.27a.58.58 0 00-.51-.65z\",fill:\"url(#Wordmark_svg__h)\"})]}))})}))(ht||(ht=Object(g.a)([\"\\n  > path {\\n    fill: \",\";\\n  }\\n\"])),(function(e){var t=e.color,n=e.theme;return t||(n===z?F:L)})),Ut=n(36),Kt=n.n(Ut),qt=Object(j.a)(\"div\")((function(e){return{fontSize:\"2rem\",fontWeight:\"600\",textAlign:\"center\",textTransform:\"uppercase\",color:e.theme===z?C:T}})),Qt=Object(j.a)(\"div\")(pt||(pt=Object(g.a)([\"\\n  display: flex;\\n  flex-direction: column;\\n  justify-content: center;\\n  margin: 0.5rem 0;\\n  text-align: center;\\n\\n  @media (min-width: \",\") {\\n    padding-top: 1rem;\\n    padding-bottom: 2rem;\\n  }\\n\"])),M),Jt=Object(j.a)(\"div\")(ft||(ft=Object(g.a)([\"\\n  width: 100%;\\n  height: 5rem;\\n\\n  @media (min-width: \",\") {\\n    height: 8rem;\\n  }\\n\\n  @media (min-width: \",\") {\\n    height: 16rem;\\n  }\\n\"])),P,M),Zt=Object(j.a)(\"div\")(mt||(mt=Object(g.a)([\"\\n  font-size: 2rem;\\n  font-weight: 600;\\n  text-transform: uppercase;\\n  color: \",\";\\n\\n  @media (min-width: \",\") {\\n    font-size: 3rem;\\n  }\\n\"])),(function(e){return e.theme===z?C:T}),M),$t=Object(j.a)(\"span\")(bt||(bt=Object(g.a)([\"\\n  display: inline-block;\\n  width: 6rem;\\n\"]))),en=Object(j.a)(\"div\")(gt||(gt=Object(g.a)([\"\\n  display: flex;\\n  flex-direction: column;\\n  width: 100%;\\n  height: 100%;\\n\\n  @media (min-width: \",\") {\\n    width: \",\";\\n  }\\n\"])),H,(function(e){return e.hideScoreboard?\"100%\":\"60vw\"})),tn=Object(j.a)(\"div\")(jt||(jt=Object(g.a)([\"\\n  display: none;\\n  width: 40vw;\\n  padding: 0 2rem;\\n\\n  @media (min-width: \",\") {\\n    display: \",\";\\n  }\\n\"])),H,(function(e){return e.hide?\"none\":\"block\"})),nn=Object(j.a)(\"p\")(vt||(vt=Object(g.a)([\"\\n  margin: 0.25rem;\\n  width: 100%;\\n  font-size: 1.2rem;\\n  text-align: center;\\n  color: #aaa;\\n  text-transform: capitalize;\\n\"]))),rn=function(e){Object(m.a)(n,e);var t=Object(b.a)(n);function n(){return Object(p.a)(this,n),t.apply(this,arguments)}return Object(f.a)(n,[{key:\"componentDidMount\",value:function(){var e=this.props.options;this.props.togglePlayButtons(\"show\"),e.theme&&this.props.toggleTheme(e.theme),e.game&&e.engine||(this.invalidArgs=!0),this.hideLogo=\"true\"===e.hideLogo,this.hideScoreboard=\"true\"===e.hideScoreboard,this.showFrameScrubber=e.showFrameScrubber,this.title=e.title&&decodeURIComponent(e.title),this.props.setGameOptions(e),0===this.props.frames.length&&this.props.fetchFrames()}},{key:\"render\",value:function(){return this.props.currentFrame?this.renderGame():Object(G.jsx)(B,{})}},{key:\"renderGame\",value:function(){var e=this.props,t=e.currentFrame,n=e.options;return Object(G.jsx)(\"main\",{className:n.theme,children:Object(G.jsxs)(\"section\",{className:Kt.a.game,children:[Object(G.jsxs)(en,{hideScoreboard:this.hideScoreboard,children:[Object(G.jsx)(qt,{theme:n.theme,children:this.title}),Object(G.jsx)(ge,{snakes:t.snakes,food:t.food,foodImage:n.foodImage,hazards:t.hazards,columns:this.props.grid.width,rows:this.props.grid.height,highlightedSnake:this.props.highlightedSnake,theme:n.theme,turn:t.turn,showCoordinateLabels:n.showCoordinateLabels}),Object(G.jsx)(Xt,{currentFrame:t,hideControls:\"true\"===n.hideMediaControls,reloadGame:this.props.reloadGame,toggleGamePause:this.props.toggleGamePause,stepBackwardFrame:this.props.stepBackwardFrame,stepForwardFrame:this.props.stepForwardFrame,stepToTurn:this.props.stepToTurn,pauseGame:this.props.pauseGame,paused:this.props.paused,theme:n.theme,persistAvailable:n.persistAvailable,maxTurn:this.props.frames[this.props.frames.length-1].turn,showFrameScrubber:this.showFrameScrubber,hasAllFrames:this.props.hasAllFrames})]}),!this.hideScoreboard&&Object(G.jsxs)(tn,{children:[Object(G.jsxs)(Qt,{children:[!this.hideLogo&&Object(G.jsx)(Jt,{children:Object(G.jsx)(Vt,{theme:n.theme})}),Object(G.jsxs)(Zt,{theme:n.theme,children:[\"Turn \",Object(G.jsx)($t,{children:t.turn})]})]}),Object(G.jsx)(Rt,{turn:t.turn,snakes:t.snakes,food:t.food,highlightSnake:this.props.highlightSnake,theme:n.theme}),Object(G.jsxs)(nn,{children:[\"Rules: \",this.props.ruleset.name]})]})]})})}}]),n}(a.a.Component),an=\"SET_GAME_OPTIONS\",cn=\"SET_THEME\",sn=\"GAME_OVER\",on=\"GAME_NOT_FOUND\",un=\"FETCH_FRAMES\",ln=\"REQUEST_FRAMES\",dn=\"RECEIVE_FRAME\",hn=\"SET_CURRENT_FRAME\",pn=\"PAUSE_GAME\",fn=\"RESUME_GAME\",mn=\"HIGHLIGHT_SNAKE\",bn=\"RECEIVE_EVENT_END\",gn=\"TOGGLE_SETTINGS_VIEW\",jn=\"THEME_CHANGED\",vn={frameRate:6,theme:I,autoplay:!1,showFrameScrubber:!1,persistAvailable:!1,showCoordinateLabels:!1},On=function(e,t){return{type:dn,game:e,frame:t}},xn=function(e,t,n){return{type:bn,game:e,endEvent:t,frame:n}},yn=function(e){return{type:hn,frame:e}},wn=function(){return{type:pn}},kn=function(){return{type:fn}},Sn=function e(t){return function(){var n=Object(xe.a)(Oe.a.mark((function n(r,a){var i,c,s,o,u,l,d,h,p,f,m;return Oe.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:i=a().game.gameOptions.frameRate,c=a().game.frames.slice(),s=c.indexOf(t),o=c.slice(s),u=Math.ceil(i||6),l=1e3/u,d=Object(je.a)(o),n.prev=7,d.s();case 9:if((h=d.n()).done){n.next=18;break}if(p=h.value,!a().game.paused){n.next=13;break}return n.abrupt(\"return\");case 13:return r(yn(p)),n.next=16,Me(l);case 16:n.next=9;break;case 18:n.next=23;break;case 20:n.prev=20,n.t0=n.catch(7),d.e(n.t0);case 23:return n.prev=23,d.f(),n.finish(23);case 26:(f=o[o.length-1]).gameOver?a().game.paused||(a().game.gameOptions.loop?(m=$e(c,0),r(e(m))):r({type:sn})):r(e(f));case 28:case\"end\":return n.stop()}}),n,null,[[7,20,23,26]])})));return function(e,t){return n.apply(this,arguments)}}()},_n=function(e){return{type:gn,showHide:e}},En=function(e){return{type:jn,theme:e}},Cn=function(e){if(!e||!e.length)return{};var t=e.substr(1).split(\"&\").map(u),n=window.location.href;return t.engine=n.substr(0,n.lastIndexOf(\"/\")+1),t.reduce((function(e,t){return e[t.key]=t.value,e}),{})}(window.location.search);\"undefined\"!==typeof Cn.autoplay&&(Cn.autoplay=\"true\"===Cn.autoplay),\"undefined\"!==typeof Cn.showFrameScrubber&&(Cn.showFrameScrubber=\"true\"===Cn.showFrameScrubber);var Tn=Object(c.b)((function(e){var t=e.game,n=e.settings;return{options:Object(o.a)(Object(o.a)({},n),Cn),ruleset:t.ruleset,grid:t.grid,gameNotFound:t.gameNotFound,paused:t.paused,currentFrame:t.currentFrame,frames:t.frames,highlightedSnake:t.highlightedSnake,theme:Cn.boardTheme||n.theme,hasAllFrames:!!t.endEvent}}),(function(e){return{setGameOptions:function(t){return e({type:an,gameOptions:t})},fetchFrames:function(){return e(function(){var e=Object(xe.a)(Oe.a.mark((function e(t,n){var r,a,i,c,s,o;return Oe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n().game.gameOptions,a=r.autoplay,i=r.engine,c=r.game,s=r.turn,console.log(\"a\"),t({type:ln}),e.prev=3,e.next=6,Je(i,c,(function(e,r,i){if(\"frame\"===r){var c=i;if(c.Turn=c.Turn||0,t(On(e,c)),0===c.Turn){var s=n().game.frames[0];t(yn(s)),a&&(t(kn()),t(Sn(s)))}}else if(\"game_end\"===r){var o=n().game.frames.length,u=n().game.frames[o-1];u.gameOver=!0,t(xn(e,i,u))}}));case 6:e.next=11;break;case 8:return e.prev=8,e.t0=e.catch(3),e.abrupt(\"return\",t({type:on}));case 11:s&&s<=n().game.frames.length&&(o=n().game.frames[s],t(yn(o)));case 12:case\"end\":return e.stop()}}),e,null,[[3,8]])})));return function(t,n){return e.apply(this,arguments)}}())},toggleTheme:function(t){return e((n=t,function(){var e=Object(xe.a)(Oe.a.mark((function e(t){return Oe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t({type:cn,theme:n});case 1:case\"end\":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));var n},reloadGame:function(){return e(function(){var e=Object(xe.a)(Oe.a.mark((function e(t,n){var r,a,i;return Oe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=n().game,a=r.frames,r.paused&&(i=$e(a,0),t(yn(i)));case 2:case\"end\":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}())},toggleGamePause:function(t){return e(function(){var e=Object(xe.a)(Oe.a.mark((function e(t,n){var r,a;return Oe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=n().game,a=r.currentFrame,r.paused?(t(kn()),t(Sn(a))):t(wn());case 2:case\"end\":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}())},pauseGame:function(){return e(function(){var e=Object(xe.a)(Oe.a.mark((function e(t,n){return Oe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n().game.paused||t(wn());case 2:case\"end\":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}())},stepForwardFrame:function(){return e(function(){var e=Object(xe.a)(Oe.a.mark((function e(t,n){var r,a,i,c,s;return Oe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=n().game,a=r.currentFrame,i=r.frames,c=a.turn+1,(s=$e(i,c))&&t(yn(s));case 4:case\"end\":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}())},stepBackwardFrame:function(){return e(function(){var e=Object(xe.a)(Oe.a.mark((function e(t,n){var r,a,i,c,s;return Oe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=n().game,a=r.currentFrame,i=r.frames,c=a.turn-1,(s=$e(i,c))&&t(yn(s));case 4:case\"end\":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}())},stepToTurn:function(t){return e((n=t,function(){var e=Object(xe.a)(Oe.a.mark((function e(t,r){var a,i;return Oe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=r().game.frames,(i=$e(a,n))&&t(yn(i));case 3:case\"end\":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()));var n},highlightSnake:function(t){return e(function(e){return{type:mn,snakeId:e}}(t))},togglePlayButtons:function(t){return e(_n(t))}}}))(rn),Ln=n(26);function Fn(e){var t;try{t=window[e];var n=\"__storage_test__\";return t.setItem(n,n),t.removeItem(n),!0}catch(r){return(r instanceof DOMException&&22===r.code||1014===r.code||\"QuotaExceededError\"===r.name||\"NS_ERROR_DOM_QUOTA_REACHED\"===r.name)&&t&&0!==t.length}}function Nn(e){if(Fn(\"localStorage\"))return window.localStorage.getItem(e)}function An(e,t){Fn(\"localStorage\")&&window.localStorage.setItem(e,t)}var Rn=Object(Ln.b)({name:\"settings\",initialState:vn,reducers:{frameRateUpdated:function(e,t){e.frameRate=t.payload},themeSelected:function(e,t){e.theme=t.payload},autoPlayUpdated:function(e,t){e.autoplay=t.payload},showFrameScrubberUpdated:function(e,t){e.showFrameScrubber=t.payload},showCoordinateLabelsUpdated:function(e,t){e.showCoordinateLabels=t.payload}}}),Hn=Rn.actions,Pn=Hn.frameRateUpdated,Mn=Hn.themeSelected,zn=Hn.autoPlayUpdated,In=Hn.showFrameScrubberUpdated,Gn=Hn.showCoordinateLabelsUpdated,Wn=function(e){return e.settings.frameRate},Bn=function(e){return e.settings.theme},Dn=function(e){return e.settings.autoplay},Xn=function(e){return e.settings.showFrameScrubber},Yn=function(e){return e.settings.showCoordinateLabels};var Vn=Rn.reducer,Un=n(37),Kn=n.n(Un),qn={min:1,max:5},Qn={min:6,max:12};function Jn(e){var t=2;return e<=qn.max?t=1:e>Qn.max&&(t=3),t}var Zn=function(e){return Object(G.jsxs)(G.Fragment,{children:[Object(G.jsx)(\"input\",{type:\"range\",min:1,max:3,value:Jn(e.default),onChange:function(t){return function(e,t){var n=20,r=e.target.valueAsNumber||e.target.value;r<=1?n=3:r<=2&&(n=6),t.call(this,n)}(t,e.onChange)}}),Object(G.jsxs)(\"div\",{className:Kn.a.labels,children:[Object(G.jsx)(\"span\",{children:\"Slow\"}),Object(G.jsx)(\"span\",{children:\"Medium\"}),Object(G.jsx)(\"span\",{children:\"Fast\"})]})]})},$n=n(8),er=n.n($n),tr=function(){var e=Object(s.f)(),t=Object(c.d)(Bn),n=Object(c.d)(Wn),a=Object(c.d)(Dn),i=Object(c.d)(Xn),o=Object(c.d)(Yn),u=Object(c.c)();return Object(r.useEffect)((function(){u(_n(\"hide\")),u(wn())})),Object(G.jsx)(\"main\",{children:Object(G.jsxs)(\"section\",{children:[Object(G.jsx)(\"h2\",{children:\"Playback Settings\"}),Object(G.jsxs)(\"fieldset\",{children:[Object(G.jsx)(\"legend\",{children:\"Playback Speed\"}),Object(G.jsx)(\"div\",{className:er.a.info,children:\"Adjust the playback speed of your games\"}),Object(G.jsx)(\"div\",{className:er.a.inputContainer,children:Object(G.jsx)(Zn,{default:n,onChange:function(e){u(Pn(e))}})})]}),Object(G.jsxs)(\"fieldset\",{children:[Object(G.jsx)(\"legend\",{children:\"Theme\"}),Object(G.jsx)(\"div\",{className:er.a.info,children:\"Change your game theme colors\"}),Object(G.jsxs)(\"div\",{className:er.a.inputContainer&&er.a.row,children:[Object(G.jsxs)(\"label\",{children:[Object(G.jsx)(\"input\",{type:\"radio\",value:\"light\",name:\"theme\",checked:\"light\"===t,onChange:function(e){return u(Mn(e.target.value))&&u(En(e.target.value))}}),Object(G.jsx)(\"span\",{className:er.a.radio}),\"Light\"]}),Object(G.jsxs)(\"label\",{children:[Object(G.jsx)(\"input\",{type:\"radio\",value:\"dark\",name:\"theme\",checked:\"dark\"===t,onChange:function(e){return u(Mn(e.target.value))&&u(En(e.target.value))}}),Object(G.jsx)(\"span\",{className:er.a.radio}),\"Projector\"]})]})]}),Object(G.jsxs)(\"fieldset\",{children:[Object(G.jsx)(\"legend\",{children:\"Autoplay\"}),Object(G.jsx)(\"div\",{className:er.a.info,children:\"All games will start playing as soon as the game loads\"}),Object(G.jsx)(\"div\",{className:er.a.inputContainer,children:Object(G.jsxs)(\"label\",{children:[Object(G.jsx)(\"input\",{type:\"checkbox\",name:\"autoplay\",checked:a,onChange:function(e){return u(zn(e.target.checked))}}),Object(G.jsx)(\"span\",{className:er.a.checkmark}),a?\"On\":\"Off\"]})})]}),Object(G.jsxs)(\"fieldset\",{children:[Object(G.jsx)(\"legend\",{children:\"Frame Scrubber [EXPERIMENTAL]\"}),Object(G.jsxs)(\"div\",{className:er.a.info,children:[\"Display progress bar that shows current frame and allows quickly jumping to specific frames. \\xa0\",Object(G.jsx)(\"a\",{href:\"https://github.com/BattlesnakeOfficial/feedback/discussions/171\",target:\"_blank\",rel:\"noreferrer\",children:\"Let us know what you think!\"})]}),Object(G.jsx)(\"div\",{className:er.a.inputContainer,children:Object(G.jsxs)(\"label\",{children:[Object(G.jsx)(\"input\",{type:\"checkbox\",name:\"showFrameScrubber\",checked:i,onChange:function(e){return u(In(e.target.checked))}}),Object(G.jsx)(\"span\",{className:er.a.checkmark}),i?\"On\":\"Off\"]})})]}),Object(G.jsxs)(\"fieldset\",{children:[Object(G.jsx)(\"legend\",{children:\"Show Coordinate Labels [EXPERIMENTAL]\"}),Object(G.jsxs)(\"div\",{className:er.a.info,children:[\"Adds coordinate labels to the game board. \\xa0 These go from 0 to the width/height of the board to make it easier to debug games\",Object(G.jsx)(\"a\",{href:\"https://github.com/orgs/BattlesnakeOfficial/discussions/231\",target:\"_blank\",rel:\"noreferrer\",children:\"Let us know what you think!\"})]}),Object(G.jsx)(\"div\",{className:er.a.inputContainer,children:Object(G.jsxs)(\"label\",{children:[Object(G.jsx)(\"input\",{type:\"checkbox\",name:\"showCoordinateLabels\",checked:o,onChange:function(e){return u(Gn(e.target.checked))}}),Object(G.jsx)(\"span\",{className:er.a.checkmark}),o?\"On\":\"Off\"]})})]}),Object(G.jsx)(\"fieldset\",{className:er.a.centered,children:Object(G.jsx)(\"button\",{onClick:function(){return e.goBack()},children:\"Return to Game\"})})]})})},nr=(n(53),function(){return Object(G.jsxs)(s.c,{children:[Object(G.jsx)(s.a,{path:\"/settings\",component:tr}),Object(G.jsx)(s.a,{component:Tn})]})}),rr=n(38),ar=n.n(rr),ir=\"head\",cr=\"tail\",sr=\"body\";function or(e){!function(e){e.Turn=e.Turn||0;var t,n=Object(je.a)(e.Snakes);try{for(n.s();!(t=n.n()).done;){var r,a=t.value,i=Object(je.a)(a.Body);try{for(i.s();!(r=i.n()).done;){var c=r.value;c.X=c.X||0,c.Y=c.Y||0}}catch(l){i.e(l)}finally{i.f()}}}catch(l){n.e(l)}finally{n.f()}var s,o=Object(je.a)(e.Food);try{for(o.s();!(s=o.n()).done;){var u=s.value;u.X=u.X||0,u.Y=u.Y||0}}catch(l){o.e(l)}finally{o.f()}}(e);var t=function(e){if(e){var t=e.map(lr);return t.forEach((function(e,n){if(e.death&&e.death.eliminatedBy&&e.death.eliminatedBy.length>0)for(var r in t)if(t[r]._id===e.death.eliminatedBy){t[n].death.eliminatedBy=t[r].name;break}})),t}}(e.Snakes);return{turn:e.Turn,snakes:t,food:pr(e.Food),hazards:pr(e.Hazards)}}function ur(e){var t=ar()(e);for(var n in t.snakes){var r=t.snakes[n];r.id=r._id,delete r._id,delete r.headSvg,delete r.tailSvg}return t}function lr(e){var t=e.Body.filter((function(t,n){return hr(e,n)}));return{body:e.Body.map((function(t,n){return function(e,t){var n=e.Body[t],r=function(e,t){if(0===t)return ir;if(t===e.Body.length-1)return cr;return sr}(e,t),a=fr(n),i=a.x,c=a.y,s=function(e,t,n,r){var a;if(\"head\"===e)a=mr(t.Body[1],t.Body[0]);else{var i;do{i=t.Body[Math.max(r-1,0)],--r}while(r>0&&i.X===n.X&&i.Y===n.Y);a=mr(n,i)}return a}(r,e,n,t),o=!hr(e,t)||void 0;return{direction:s,type:r,isOverlapped:o,x:i,y:c}}(e,n)})),color:e.Color,_id:e.ID,name:e.Name,effectiveSpace:t.length,health:e.Health,latency:e.Latency,error:e.Error,timing:e.TimingMicros,isDead:!!e.Death,death:dr(e.Death),head:e.HeadType&&e.HeadType.toLowerCase(),tail:e.TailType&&e.TailType.toLowerCase(),headSvg:e.HeadSvg,tailSvg:e.TailSvg,squad:e.Squad,author:e.Author,shout:e.Shout}}function dr(e){if(e)return{cause:e.Cause,turn:e.Turn||0,eliminatedBy:e.EliminatedBy}}function hr(e,t){var n=e.Body.length-1,r=e.Body[0],a=e.Body[n],i=e.Body[t];if(0===t)return!0;if(t===n)return!(r.X===i.X&&r.Y===i.Y);var c=e.Body[t-1];return!(a.X===i.X&&a.Y===i.Y)&&!(r.X===i.X&&r.Y===i.Y)&&!(c&&c.X===i.X&&c.Y===i.Y)}function pr(e){if(e)return e.map(fr)}function fr(e){return{x:e.X,y:e.Y}}function mr(e,t){if(e&&t){if(e.X+1===t.X)return\"right\";if(e.X-1===t.X)return\"left\";if(e.Y+1===t.Y)return\"up\";if(e.Y-1===t.Y)return\"down\";if(e.X>t.X&&0===t.X)return\"right\";if(e.X<t.X&&0===e.X)return\"left\";if(e.Y>t.Y&&0===t.Y)return\"up\";if(e.Y<t.Y&&0===e.Y)return\"down\"}return\"right\"}var br={options:null,grid:[],frames:[],endEvent:{},paused:!0,gameNotFound:!1,highlightedSnake:null,theme:I};function gr(e){if(window.parent)try{window.parent.postMessage(e,\"*\")}catch(t){console.error(t)}}var jr=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:br,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case cn:return Object(o.a)(Object(o.a)({},e),{},{theme:t.theme});case an:return t.gameOptions.turn=parseInt(t.gameOptions.turn)||0,t.gameOptions.loop=t.gameOptions.loop&&\"true\"===t.gameOptions.loop,Object(o.a)(Object(o.a)({},e),{},{gameOptions:t.gameOptions});case on:return Object(o.a)(Object(o.a)({},e),{},{gameNotFound:!0});case pn:return Object(o.a)(Object(o.a)({},e),{},{paused:!0});case sn:return gr({action:t.type,endEvent:t.endEvent}),Object(o.a)(Object(o.a)({},e),{},{paused:!0});case fn:return Object(o.a)(Object(o.a)({},e),{},{paused:!1});case hn:return gr({action:t.type,frame:ur(t.frame)}),Object(o.a)(Object(o.a)({},e),{},{currentFrame:t.frame});case dn:var n=or(t.frame);return Object(o.a)(Object(o.a)({},e),{},{ruleset:t.game.Game.Ruleset,grid:{height:t.game.Game.Height,width:t.game.Game.Width},frames:[].concat(Object(D.a)(e.frames),[n])});case bn:return Object(o.a)(Object(o.a)({},e),{},{endEvent:t.endEvent,frames:[].concat(Object(D.a)(e.frames),[t.frame])});case ln:case un:return Object(o.a)({},e);case mn:return gr({action:t.type,id:t.snakeId,name:t.snakeId?e.currentFrame.snakes.find((function(e){return e._id===t.snakeId})).name:null}),Object(o.a)(Object(o.a)({},e),{},{highlightedSnake:t.snakeId});case gn:return gr({action:t.type,value:t.showHide}),Object(o.a)({},e);case jn:return gr({action:t.type,value:t.theme}),Object(o.a)({},e);default:return Object(o.a)({},e)}};var vr=Object(Ln.a)({reducer:{game:jr,settings:Vn},middleware:function(e){return e({immutableCheck:!1,serializableCheck:!1})},preloadedState:function(){var e={game:{options:null,grid:[],frames:[],endEvent:null,paused:!0,gameNotFound:!1,highlightedSnake:null,theme:I},settings:vn};return Fn(\"localStorage\")?(e.settings=function(){var e=Nn(\"autoplay\"),t=Nn(\"showFrameScrubber\"),n=Nn(\"showCoordinateLabels\");return e=\"undefined\"===typeof e?vn.autoplay:\"true\"===e,t=\"undefined\"===typeof t?vn.showFrameScrubber:\"true\"===t,n=\"undefined\"===typeof n?vn.showCoordinateLabels:\"true\"===n,{frameRate:Number(Nn(\"frameRate\"))||6,theme:Nn(\"theme\")||vn.theme,showFrameScrubber:t,autoplay:e,showCoordinateLabels:n}}(),e.settings.persistAvailable=!0):console.info(\"Please enable localStorage for an improved experience that allows you to persist board settings.\"),e}()});vr.subscribe((function(){var e;(e=vr.getState()).settings.frameRate!==Nn(\"frameRate\")&&An(\"frameRate\",e.settings.frameRate),e.settings.theme!==Nn(\"theme\")&&An(\"theme\",e.settings.theme),e.settings.autoplay!==Nn(\"autoplay\")&&An(\"autoplay\",e.settings.autoplay),e.settings.showFrameScrubber!==Nn(\"showFrameScrubber\")&&An(\"showFrameScrubber\",e.settings.showFrameScrubber),e.settings.showCoordinateLabels!==Nn(\"showCoordinateLabels\")&&An(\"showCoordinateLabels\",e.settings.showCoordinateLabels)}));var Or=vr,xr=n(25);Object(i.render)(Object(G.jsx)(c.a,{store:Or,children:Object(G.jsx)(xr.a,{children:Object(G.jsx)(nr,{})})}),document.getElementById(\"root\"))},8:function(e,t,n){e.exports={info:\"SettingsPage_info__hnKuB\",inputContainer:\"SettingsPage_inputContainer__OMy_9\",row:\"SettingsPage_row__FjkX8\",centered:\"SettingsPage_centered__2a9Zh\",checkmark:\"SettingsPage_checkmark__1GbZH\",radio:\"SettingsPage_radio__2oWfC\"}}},[[55,1,2]]]);","name":"static/js/main.37b04d2b.chunk.js","map":{"version":3,"sources":["static/js/main.37b04d2b.chunk.js"],"names":["this","push","module","exports","__webpack_require__","__WEBPACK_AMD_DEFINE_FACTORY__","__WEBPACK_AMD_DEFINE_ARRAY__","__WEBPACK_AMD_DEFINE_RESULT__","undefined","window","ReconnectingWebSocket","prototype","onopen","event","onclose","onconnecting","onmessage","onerror","debugAll","CONNECTING","WebSocket","OPEN","CLOSING","CLOSED","url","protocols","options","settings","debug","automaticOpen","reconnectInterval","maxReconnectInterval","reconnectDecay","timeoutInterval","maxReconnectAttempts","binaryType","key","reconnectAttempts","readyState","protocol","ws","self","forcedClose","timedOut","eventTarget","document","createElement","generateEvent","s","args","evt","createEvent","initCustomEvent","addEventListener","bind","removeEventListener","dispatchEvent","open","reconnectAttempt","console","localWs","timeout","setTimeout","close","clearTimeout","e","isReconnect","code","reason","wasClean","Math","pow","data","send","refresh","apply","game","labels","__webpack_exports__","r","react","react_default","n","react_dom","es","react_router","objectSpread2","parseArg","a","parts","split","value","decodeURIComponent","makeQueryString","query","sep","result","concat","httpToWsProtocol","mappings","http","https","from","to","substr","length","Error","join","joinPair","b","cleanA","replace","cleanB","_len","arguments","Array","_key","reduce","current","next","classCallCheck","createClass","inherits","createSuper","taggedTemplateLiteral","emotion_styled_browser_esm","colors","breakpoints","themes","jsx_runtime","LoadingIndicatorWrapper","Object","display","alignItems","justifyContent","height","width","loading_indicator","_React$Component","LoadingIndicator","_super","children","className","style","color","Component","toConsumableArray","CELL_SIZE","FOOD_SIZE","toFixed","END_OVERLAP","DIRECTIONS_CW","GRID_ROWS","toGridSpaceX","slot","toGridSpaceY","getPartWidth","part","extraWidth","direction","getPartHeight","extraHeight","getPartXOffset","xBias","x","getPartYOffset","yBias","y","getCornerPartXOffset","type","getCornerPartYOffset","getHeadFillerXOffset","getHeadFillerYOffset","getTailFillerXOffset","getTailFillerYOffset","getFillerWidth","CELL_SPACING","getFillerHeight","getOpacity","snake","highlightedSnake","isDead","_id","getPartOpacity","shadeForOverlap","isOverlapped","getPartColor","range","size","i","checkIfCornerPart","partIndex","body","d1","d2","behind","abs","indexOf","isOverlappedByTail","head","grid","Grid","snakeIndex","renderHeadPart","renderTailPart","renderCornerPart","renderMiddlePart","getHeadXOffset","getHeadYOffset","box","headSvg","viewBox","baseVal","transform","halfX","halfY","getHeadTransform","viewBoxStr","opacity","fill","shapeRendering","dangerouslySetInnerHTML","__html","innerHTML","effectiveSpace","cornerType","determineCornerType","d","getTailXOffset","getTailYOffset","tailSvg","getTailTransform","row","col","label","fontSize","_this","props","rows","map","_","renderLabel","columns","_this2","snakes","unsortedSnakes","food","hazards","sortedSnakes","sort","aOrder","bOrder","gridCellsWithSnakeParts","j","_i","viewBoxWidth","viewBoxHeight","hazardOpacity","parseFloat","overflow","showCoordinateLabels","maxWidth","maxHeight","renderLabels","theme","reverse","renderPart","o","hazardIndex","fillOpacity","f","foodIndex","foodImage","href","cx","cy","renderGrid","BOARD_SIZE","board","Board","boardSize","turn","createForOfIteratorHelper","regenerator","regenerator_default","asyncToGenerator","reconnecting_websocket","reconnecting_websocket_default","streamAll","receive","turns","done","Promise","resolve","reject","obj","JSON","parse","eventData","Data","Turn","loaded","doesntExist","loadSvgs","paths","all","requireSvg","getSvg","path","_x","_fetchSvg","fetchSvg","mark","_callee","response","svgText","svg","wrap","_context","prev","fetch","sent","text","makeDom","abrupt","stop","wrapper","trim","firstChild","svgExists","_x2","_svgExists","_callee2","exists","_context2","startsWith","t0","warn","DEFAULT_SNAKE_HEAD","DEFAULT_SNAKE_TAIL","_get","log","status","json","then","responseJson","error","delay","millis","getReadableCauseOfDeath","death","cause","eliminatedBy","getAllSvgs","HeadType","TailType","unique","Set","assignHeadAndTailUrls","_x3","_assignHeadAndTailUrls","_iterator","_step","getSnakeHeadSvgUrl","getSnakeTailSvgUrl","finish","setHeadAndTailSvgs","_x4","_setHeadAndTailSvgs","_callee3","_iterator2","_step2","_context3","HeadSvg","TailSvg","err","isIllegalSvgPath","nameOrPath","svgUrlFromName","base","relative","prepareFrame","_x5","_prepareFrame","_callee4","frame","_context4","Snakes","fetchGameInfo","baseUrl","gameId","get","streamAllEvents","_x6","_x7","_x8","_streamAllEvents","_callee6","receiveEvent","chain","onEngineEvent","wsUrl","_context6","engineEvent","Type","_callee5","_context5","getFrameByTurn","frames","filter","slicedToArray","errorColor","scoreboard_error_message_ErrorMessage","message","_props$error$toString","toString","_props$error$toString2","cursor","margin","padding","_templateObject","scoreboard_templateObject","_templateObject2","mediaControls_templateObject","mediaControls_templateObject2","_templateObject3","_templateObject4","logo_templateObject","logo_templateObject2","game_templateObject","game_templateObject2","game_templateObject3","game_templateObject4","_templateObject5","_templateObject6","_templateObject7","status_indicator_StatusIndicator","_ref","errorMessage","_errorMessage$toStrin","AvatarWrapper","isEliminated","Name","textShadow","Length","_ref2","marginLeft","AuthorWrapper","fontWeight","flexDirection","Author","_ref3","flexGrow","Latency","_ref4","latency","HealthBarWrapper","marginTop","background","borderRadius","HealthBar","_ref5","backgroundColor","CauseOfDeath","_ref6","lineHeight","avatar","Avatar","call","state","showError","name","author","health","highlighted","orderSnakes","aliveSnakes","aLower","toLowerCase","bLower","deadSnakes","Wrapper","hide","scoreboard_AvatarWrapper","scoreboard","Scoreboard","toggleHighlight","getSnakeToHighlight","highlightSnake","setState","onClick","react_keyboard_event_handler","react_keyboard_event_handler_default","MediaControlsWrapper","KeyboardShortcutsWrapper","position","ShortcutsPane","ButtonWrapper","Button","Scrubber","mediaControls_MediaControls","MediaControls","paneHidden","handleParentKeyboardEvent","handleKeyEvent","keyboardCodeMap","handleReload","reloadGame","handlePlayPause","toggleGamePause","handleBackward","stepBackwardFrame","handleForward","stepForwardFrame","handleScrubMouseDown","pauseGame","handleScrubbing","stepToTurn","parseInt","target","handleSettings","persistAvailable","history","handleShortcutPaneShowToggle","preventDefault","KeyR","ArrowLeft","ArrowRight","Space","Settings","renderControls","hasAllFrames","currentFrame","max","maxTurn","showFrameScrubber","min","onMouseDown","onChange","disabled","_this$props","hideControls","paused","settingsInfo","renderScrubbing","title","handleKeys","values","onKeyEvent","mediaControls","SVGWrapper","logo","id","x1","y1","x2","y2","gradientTransform","gradientUnits","offset","stopColor","xlinkHref","GamePage_module","GamePage_module_default","BoardTitle","textAlign","textTransform","HeaderWrapper","LogoWrapper","TurnCount","TurnCountValue","BoardWrapper","hideScoreboard","ScoreboardWrapper","Ruleset","components_game","Game","togglePlayButtons","toggleTheme","engine","invalidArgs","hideLogo","setGameOptions","fetchFrames","renderGame","hideMediaControls","ruleset","SET_GAME_OPTIONS","SET_THEME","GAME_OVER","GAME_NOT_FOUND","FETCH_FRAMES","REQUEST_FRAMES","RECEIVE_FRAME","SET_CURRENT_FRAME","PAUSE_GAME","RESUME_GAME","HIGHLIGHT_SNAKE","RECEIVE_EVENT_END","TOGGLE_SETTINGS_VIEW","THEME_CHANGED","initialSettings","frameRate","autoplay","actions_receiveFrame","actions_receiveEventEnd","endEvent","actions_setCurrentFrame","actions_pauseGame","actions_resumeGame","actions_playFromFrame","playFromFrame","dispatch","getState","frameIndex","slicedFrames","ceiledFps","delayMillis","_frame4","lastFrame","_frame3","gameOptions","slice","ceil","gameOver","loop","actions_togglePlayButtons","showHide","actions_themeChanged","GamePage_options","q","location","lastIndexOf","arg","parseQueryString","search","GamePage","gameState","gameNotFound","boardTheme","_getState$game$gameOp","engineUrl","eventType","_frame","numFrames","_frame2","themeToSet","_x11","_getState$game","_getState$game2","_x9","_x10","_ref7","_callee7","_getState$game3","nextFrame","stepToFrame","_context7","_x12","_x13","_ref8","_callee8","_getState$game4","prevFrame","_context8","_x14","_x15","_ref9","_callee9","_context9","_x16","_x17","snakeId","actions_highlightSnake","redux_toolkit_esm","storageAvailable","storage","setItem","removeItem","DOMException","getLocalSetting","localStorage","getItem","setLocalSetting","settingsSlice","initialState","reducers","frameRateUpdated","action","payload","themeSelected","autoPlayUpdated","showFrameScrubberUpdated","showCoordinateLabelsUpdated","_settingsSlice$action","actions","currentFrameRate","currentTheme","currentAutoplay","currentShowFrameScrubber","currentShowCoordinateLabels","settings_slice","PlaybackSpeed_module","PlaybackSpeed_module_default","speedRanges","defaultValueHandler","defaultValue","playback_PlaybackSpeed","default","changeHandler","fps","sliderValue","valueAsNumber","valueChanged","SettingsPage_module","SettingsPage_module_default","settings_SettingsPage","playbackSpeed","info","inputContainer","checked","radio","checkmark","rel","centered","goBack","src_App_0","component","lodash_clonedeep","lodash_clonedeep_default","TYPE_HEAD","TYPE_TAIL","TYPE_BODY","formatFrame","_step3","_iterator3","Body","X","Y","Food","cleanFrame","newSnakes","formatSnake","forEach","index","formatSnakes","formatPositions","Hazards","sanitizeFrame","sanitizedFrame","renderedParts","shouldRenderPart","getType","_formatPosition","formatPosition","getDirection","prevPart","formatDirection","formatSnakePart","Color","ID","Health","timing","TimingMicros","Death","formatDeath","tail","squad","Squad","shout","Shout","Cause","EliminatedBy","tailIndex","currPart","nextPart","positions","pos","reducers_initialState","windowPostMessage","parent","postMessage","src_reducers","Height","Width","find","store","reducer","middleware","getDefaultMiddleware","immutableCheck","serializableCheck","preloadedState","checkAutoplay","checkShowFrameScrubber","Number","rehydrateLocalSettings","rehydrateInitialState","subscribe","app_store","react_router_dom","getElementById"],"mappings":"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"},"input":"(this[\"webpackJsonpbattlesnake-board\"] = this[\"webpackJsonpbattlesnake-board\"] || []).push([[0],{\n\n/***/ 33:\n/***/ (function(module, exports, __webpack_require__) {\n\nvar __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;/* eslint-disable */ // MIT License:\n//\n// Copyright (c) 2010-2012, Joe Walnes\n//\n// Permission is hereby granted, free of charge, to any person obtaining a copy\n// of this software and associated documentation files (the \"Software\"), to deal\n// in the Software without restriction, including without limitation the rights\n// to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n// copies of the Software, and to permit persons to whom the Software is\n// furnished to do so, subject to the following conditions:\n//\n// The above copyright notice and this permission notice shall be included in\n// all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n// IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n// FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n// AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n// LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n// OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n// THE SOFTWARE.\n/**\n * This behaves like a WebSocket in every way, except if it fails to connect,\n * or it gets disconnected, it will repeatedly poll until it successfully connects\n * again.\n *\n * It is API compatible, so when you have:\n *   ws = new WebSocket('ws://....');\n * you can replace with:\n *   ws = new ReconnectingWebSocket('ws://....');\n *\n * The event stream will typically look like:\n *  onconnecting\n *  onopen\n *  onmessage\n *  onmessage\n *  onclose // lost connection\n *  onconnecting\n *  onopen  // sometime later...\n *  onmessage\n *  onmessage\n *  etc...\n *\n * It is API compatible with the standard WebSocket API, apart from the following members:\n *\n * - `bufferedAmount`\n * - `extensions`\n * - `binaryType`\n *\n * Latest version: https://github.com/joewalnes/reconnecting-websocket/\n * - Joe Walnes\n *\n * Syntax\n * ======\n * var socket = new ReconnectingWebSocket(url, protocols, options);\n *\n * Parameters\n * ==========\n * url - The url you are connecting to.\n * protocols - Optional string or array of protocols.\n * options - See below\n *\n * Options\n * =======\n * Options can either be passed upon instantiation or set after instantiation:\n *\n * var socket = new ReconnectingWebSocket(url, null, { debug: true, reconnectInterval: 4000 });\n *\n * or\n *\n * var socket = new ReconnectingWebSocket(url);\n * socket.debug = true;\n * socket.reconnectInterval = 4000;\n *\n * debug\n * - Whether this instance should log debug messages. Accepts true or false. Default: false.\n *\n * automaticOpen\n * - Whether or not the websocket should attempt to connect immediately upon instantiation. The socket can be manually opened or closed at any time using ws.open() and ws.close().\n *\n * reconnectInterval\n * - The number of milliseconds to delay before attempting to reconnect. Accepts integer. Default: 1000.\n *\n * maxReconnectInterval\n * - The maximum number of milliseconds to delay a reconnection attempt. Accepts integer. Default: 30000.\n *\n * reconnectDecay\n * - The rate of increase of the reconnect delay. Allows reconnect attempts to back off when problems persist. Accepts integer or float. Default: 1.5.\n *\n * timeoutInterval\n * - The maximum time in milliseconds to wait for a connection to succeed before closing and retrying. Accepts integer. Default: 2000.\n *\n */(function(global,factory){if(true){!(__WEBPACK_AMD_DEFINE_ARRAY__ = [], __WEBPACK_AMD_DEFINE_FACTORY__ = (factory),\n\t\t\t\t__WEBPACK_AMD_DEFINE_RESULT__ = (typeof __WEBPACK_AMD_DEFINE_FACTORY__ === 'function' ?\n\t\t\t\t(__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__)) : __WEBPACK_AMD_DEFINE_FACTORY__),\n\t\t\t\t__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));}else {}})(this,function(){if(!(\"WebSocket\"in window)){return;}function ReconnectingWebSocket(url,protocols,options){// Default settings\nvar settings={/** Whether this instance should log debug messages. */debug:false,/** Whether or not the websocket should attempt to connect immediately upon instantiation. */automaticOpen:true,/** The number of milliseconds to delay before attempting to reconnect. */reconnectInterval:1000,/** The maximum number of milliseconds to delay a reconnection attempt. */maxReconnectInterval:30000,/** The rate of increase of the reconnect delay. Allows reconnect attempts to back off when problems persist. */reconnectDecay:1.5,/** The maximum time in milliseconds to wait for a connection to succeed before closing and retrying. */timeoutInterval:2000,/** The maximum number of reconnection attempts to make. Unlimited if null. */maxReconnectAttempts:null,/** The binary type, possible values 'blob' or 'arraybuffer', default 'blob'. */binaryType:\"blob\"};if(!options){options={};}// Overwrite and define settings with options if they exist.\nfor(var key in settings){if(typeof options[key]!==\"undefined\"){this[key]=options[key];}else{this[key]=settings[key];}}// These should be treated as read-only properties\n/** The URL as resolved by the constructor. This is always an absolute URL. Read only. */this.url=url;/** The number of attempted reconnects since starting, or the last successful connection. Read only. */this.reconnectAttempts=0;/**\n     * The current state of the connection.\n     * Can be one of: WebSocket.CONNECTING, WebSocket.OPEN, WebSocket.CLOSING, WebSocket.CLOSED\n     * Read only.\n     */this.readyState=WebSocket.CONNECTING;/**\n     * A string indicating the name of the sub-protocol the server selected; this will be one of\n     * the strings specified in the protocols parameter when creating the WebSocket object.\n     * Read only.\n     */this.protocol=null;// Private state variables\nvar self=this;var ws;var forcedClose=false;var timedOut=false;var eventTarget=document.createElement(\"div\");// Wire up \"on*\" properties as event handlers\neventTarget.addEventListener(\"open\",function(event){self.onopen(event);});eventTarget.addEventListener(\"close\",function(event){self.onclose(event);});eventTarget.addEventListener(\"connecting\",function(event){self.onconnecting(event);});eventTarget.addEventListener(\"message\",function(event){self.onmessage(event);});eventTarget.addEventListener(\"error\",function(event){self.onerror(event);});// Expose the API required by EventTarget\nthis.addEventListener=eventTarget.addEventListener.bind(eventTarget);this.removeEventListener=eventTarget.removeEventListener.bind(eventTarget);this.dispatchEvent=eventTarget.dispatchEvent.bind(eventTarget);/**\n     * This function generates an event that is compatible with standard\n     * compliant browsers and IE9 - IE11\n     *\n     * This will prevent the error:\n     * Object doesn't support this action\n     *\n     * http://stackoverflow.com/questions/19345392/why-arent-my-parameters-getting-passed-through-to-a-dispatched-event/19345563#19345563\n     * @param s String The name that the event should use\n     * @param args Object an optional object that the event will use\n     */function generateEvent(s,args){var evt=document.createEvent(\"CustomEvent\");evt.initCustomEvent(s,false,false,args);return evt;}this.open=function(reconnectAttempt){ws=new WebSocket(self.url,protocols||[]);ws.binaryType=this.binaryType;if(reconnectAttempt){if(this.maxReconnectAttempts&&this.reconnectAttempts>this.maxReconnectAttempts){return;}}else{eventTarget.dispatchEvent(generateEvent(\"connecting\"));this.reconnectAttempts=0;}if(self.debug||ReconnectingWebSocket.debugAll){console.debug(\"ReconnectingWebSocket\",\"attempt-connect\",self.url);}var localWs=ws;var timeout=setTimeout(function(){if(self.debug||ReconnectingWebSocket.debugAll){console.debug(\"ReconnectingWebSocket\",\"connection-timeout\",self.url);}timedOut=true;localWs.close();timedOut=false;},self.timeoutInterval);ws.onopen=function(event){clearTimeout(timeout);if(self.debug||ReconnectingWebSocket.debugAll){console.debug(\"ReconnectingWebSocket\",\"onopen\",self.url);}self.protocol=ws.protocol;self.readyState=WebSocket.OPEN;self.reconnectAttempts=0;var e=generateEvent(\"open\");e.isReconnect=reconnectAttempt;reconnectAttempt=false;eventTarget.dispatchEvent(e);};ws.onclose=function(event){clearTimeout(timeout);ws=null;if(forcedClose){self.readyState=WebSocket.CLOSED;eventTarget.dispatchEvent(generateEvent(\"close\"));}else{self.readyState=WebSocket.CONNECTING;var e=generateEvent(\"connecting\");e.code=event.code;e.reason=event.reason;e.wasClean=event.wasClean;eventTarget.dispatchEvent(e);if(!reconnectAttempt&&!timedOut){if(self.debug||ReconnectingWebSocket.debugAll){console.debug(\"ReconnectingWebSocket\",\"onclose\",self.url);}eventTarget.dispatchEvent(generateEvent(\"close\"));}var timeout=self.reconnectInterval*Math.pow(self.reconnectDecay,self.reconnectAttempts);setTimeout(function(){self.reconnectAttempts++;self.open(true);},timeout>self.maxReconnectInterval?self.maxReconnectInterval:timeout);}};ws.onmessage=function(event){if(self.debug||ReconnectingWebSocket.debugAll){console.debug(\"ReconnectingWebSocket\",\"onmessage\",self.url,event.data);}var e=generateEvent(\"message\");e.data=event.data;eventTarget.dispatchEvent(e);};ws.onerror=function(event){if(self.debug||ReconnectingWebSocket.debugAll){console.debug(\"ReconnectingWebSocket\",\"onerror\",self.url,event);}eventTarget.dispatchEvent(generateEvent(\"error\"));};};// Whether or not to create a websocket upon instantiation\nif(this.automaticOpen==true){this.open(false);}/**\n     * Transmits data to the server over the WebSocket connection.\n     *\n     * @param data a text string, ArrayBuffer or Blob to send to the server.\n     */this.send=function(data){if(ws){if(self.debug||ReconnectingWebSocket.debugAll){console.debug(\"ReconnectingWebSocket\",\"send\",self.url,data);}return ws.send(data);}else{throw\"INVALID_STATE_ERR : Pausing to reconnect websocket\";}};/**\n     * Closes the WebSocket connection or connection attempt, if any.\n     * If the connection is already CLOSED, this method does nothing.\n     */this.close=function(code,reason){// Default CLOSE_NORMAL code\nif(typeof code==\"undefined\"){code=1000;}forcedClose=true;if(ws){ws.close(code,reason);}};/**\n     * Additional public API method to refresh the connection if still open (close, re-open).\n     * For example, if the app suspects bad data / missed heart beats, it can try to refresh.\n     */this.refresh=function(){if(ws){ws.close();}};}/**\n   * An event listener to be called when the WebSocket connection's readyState changes to OPEN;\n   * this indicates that the connection is ready to send and receive data.\n   */ReconnectingWebSocket.prototype.onopen=function(event){};/** An event listener to be called when the WebSocket connection's readyState changes to CLOSED. */ReconnectingWebSocket.prototype.onclose=function(event){};/** An event listener to be called when a connection begins being attempted. */ReconnectingWebSocket.prototype.onconnecting=function(event){};/** An event listener to be called when a message is received from the server. */ReconnectingWebSocket.prototype.onmessage=function(event){};/** An event listener to be called when an error occurs. */ReconnectingWebSocket.prototype.onerror=function(event){};/**\n   * Whether all instances of ReconnectingWebSocket should log debug messages.\n   * Setting this to true is the equivalent of setting all instances of ReconnectingWebSocket.debug to true.\n   */ReconnectingWebSocket.debugAll=false;ReconnectingWebSocket.CONNECTING=WebSocket.CONNECTING;ReconnectingWebSocket.OPEN=WebSocket.OPEN;ReconnectingWebSocket.CLOSING=WebSocket.CLOSING;ReconnectingWebSocket.CLOSED=WebSocket.CLOSED;return ReconnectingWebSocket;});\n\n/***/ }),\n\n/***/ 36:\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\nmodule.exports = {\"game\":\"GamePage_game__3S4Mj\"};\n\n/***/ }),\n\n/***/ 37:\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\nmodule.exports = {\"labels\":\"PlaybackSpeed_labels__3XxZA\"};\n\n/***/ }),\n\n/***/ 50:\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\n\n/***/ }),\n\n/***/ 51:\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\n\n/***/ }),\n\n/***/ 53:\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\n\n/***/ }),\n\n/***/ 55:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n// ESM COMPAT FLAG\n__webpack_require__.r(__webpack_exports__);\n\n// EXTERNAL MODULE: ./node_modules/react/index.js\nvar react = __webpack_require__(1);\nvar react_default = /*#__PURE__*/__webpack_require__.n(react);\n\n// EXTERNAL MODULE: ./node_modules/react-dom/index.js\nvar react_dom = __webpack_require__(23);\n\n// EXTERNAL MODULE: ./node_modules/react-redux/es/index.js + 25 modules\nvar es = __webpack_require__(16);\n\n// EXTERNAL MODULE: ./node_modules/react-router/esm/react-router.js + 4 modules\nvar react_router = __webpack_require__(5);\n\n// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/esm/objectSpread2.js + 1 modules\nvar objectSpread2 = __webpack_require__(3);\n\n// CONCATENATED MODULE: ./src/utils/url.js\n// Creates a dictionary of parameters based on the given query string. q should\n// look like \"?foo=bar&thing=blah\".\nfunction parseQueryString(q){if(!q||!q.length){return{};}// Array of key/value pairs\nvar args=q.substr(1).split(\"&\").map(parseArg);//?game_idでアクセス可能\nvar href=window.location.href;args[\"engine\"]=href.substr(0,href.lastIndexOf(\"/\")+1);// Convert to object\nreturn args.reduce(function(result,arg){result[arg.key]=arg.value;return result;},{});}// Converts “asdf=qwer” to { asdf: “qwer” } or “asdf” to { asdf: true }. The\n// latter example is to allow switch-like parameters like ?enableThing without\n// an equals sign.\nfunction parseArg(a){var parts=a.split(\"=\");var key=parts[0];var value=parts[1]===undefined?true:decodeURIComponent(parts[1]);return{key:key,value:value};}// Converts { a: \"aaa\", b: \"bbb\" } to \"?a=aaa&b=bbb\"\nfunction makeQueryString(query){if(!query){return\"\";}var sep=\"?\";var result=\"\";for(var key in query){var value=query[key];result+=\"\".concat(sep).concat(key,\"=\").concat(value);sep=\"&\";}return result;}// Converts http://foo to ws://foo or https://foo to wss://foo\nfunction httpToWsProtocol(url){var mappings={http:\"ws\",https:\"wss\"};for(var from in mappings){var to=mappings[from];if(url.substr(0,from.length+1)===from+\":\"){return to+url.substr(from.length);}}throw new Error(\"Invalid URL: \"+url);}// Joins path components and makes sure there is exactly one '/' separating\n// them.\nfunction join(){function joinPair(a,b){var cleanA=a.replace(/\\/+$/,\"\");var cleanB=b.replace(/^\\/+/,\"\");if(cleanA===\"\"){return cleanB;}if(cleanB===\"\"){return cleanA;}return\"\".concat(cleanA,\"/\").concat(cleanB);}for(var _len=arguments.length,parts=new Array(_len),_key=0;_key<_len;_key++){parts[_key]=arguments[_key];}return parts.reduce(function(current,next){return joinPair(current,next);},\"\");}\n// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/esm/classCallCheck.js\nvar classCallCheck = __webpack_require__(9);\n\n// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/esm/createClass.js\nvar createClass = __webpack_require__(10);\n\n// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/esm/inherits.js + 1 modules\nvar inherits = __webpack_require__(12);\n\n// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/esm/createSuper.js + 5 modules\nvar createSuper = __webpack_require__(11);\n\n// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral.js\nvar taggedTemplateLiteral = __webpack_require__(6);\n\n// EXTERNAL MODULE: ./node_modules/@emotion/styled/dist/emotion-styled.browser.esm.js + 15 modules\nvar emotion_styled_browser_esm = __webpack_require__(4);\n\n// CONCATENATED MODULE: ./src/theme/index.js\nvar colors={// Page\npageBackground:\"transparent\",// Grid\ngridDot:\"#6a208f\",gridCellBackground:\"#f1f1f1\",gridCellBackgroundDark:\"#D6D5EA\",food:\"#ff5c75\",hazard:\"#000000\",hazardOpacity:\"0.3\",overlapSnake:\"#AAAAAA\",// Scoreboard\nhealthBar:\"#0f0\",healthBarBackground:\"#fefefe\",healthBarOutline:\"#666\",healthBarDeathBackground:\"#f1f1f1\",healthBarDeathBackgroundDark:\"#59526b\",avatarHoverBorder:\"#888\",avatarHighlightedBorder:\"#6f42c1\",// Misc\nlightText:\"#efefef\",darkText:\"#424242\",// Colour names (from theme)\nblue:\"#007bff\",indigo:\"#6610f2\",purple:\"#6f42c1\",pink:\"#e83e8c\",red:\"#dc3545\",orange:\"#fd7e14\",yellow:\"#ffc107\",green:\"#28a745\",teal:\"#20c997\",cyan:\"#17a2b8\",white:\"#fff\",gray:\"#6c757d\",grayLight:\"#f1f1f1\",grayDark:\"#343a40\",primary:\"#007bff\",secondary:\"#6c757d\",success:\"#28a745\",info:\"#17a2b8\",warning:\"#ffc107\",danger:\"#dc3545\",light:\"#f8f9fa\",dark:\"#343a40\"};var breakpoints={sm:\"576px\",md:\"768px\",lg:\"992px\",xl:\"1200px\",xxl:\"1650px\"};var themes={// Themes\ndark:\"dark\",light:\"light\"};\n// EXTERNAL MODULE: ./node_modules/react/jsx-runtime.js\nvar jsx_runtime = __webpack_require__(0);\n\n// CONCATENATED MODULE: ./src/components/loading-indicator.jsx\nvar LoadingIndicatorWrapper=Object(emotion_styled_browser_esm[\"a\" /* default */])(\"div\")({display:\"flex\",alignItems:\"center\",justifyContent:\"center\",height:\"100%\",width:\"100%\"});var loading_indicator_LoadingIndicator=/*#__PURE__*/function(_React$Component){Object(inherits[\"a\" /* default */])(LoadingIndicator,_React$Component);var _super=Object(createSuper[\"a\" /* default */])(LoadingIndicator);function LoadingIndicator(){Object(classCallCheck[\"a\" /* default */])(this,LoadingIndicator);return _super.apply(this,arguments);}Object(createClass[\"a\" /* default */])(LoadingIndicator,[{key:\"render\",value:function render(){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(LoadingIndicatorWrapper,{children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"la-ball-grid-beat la-dark la-2x\",style:{color:colors.food},children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{})]})});}}]);return LoadingIndicator;}(react_default.a.Component);/* harmony default export */ var loading_indicator = (loading_indicator_LoadingIndicator);\n// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/esm/toConsumableArray.js + 3 modules\nvar toConsumableArray = __webpack_require__(22);\n\n// CONCATENATED MODULE: ./src/components/grid.jsx\nvar HIGHLIGHT_DIM=0.15;var DEAD_OPACITY=0.1;var OVERLAP_OPACITY=0.3;var SNAKE_ON_SNAKE_OPACITY=0.8;var FULL_OPACITY=1.0;var CELL_SIZE=20;var CELL_SPACING=4;var FOOD_SIZE=(CELL_SIZE/3.25).toFixed(2);var END_OVERLAP=0.1;var DIRECTIONS_CW=[\"up\",\"right\",\"down\",\"left\"];// let GRID_COLUMNS = 0;  Unused for now.\nvar GRID_ROWS=0;function toGridSpaceX(slot){return(CELL_SIZE+CELL_SPACING)*slot+CELL_SPACING;}function toGridSpaceY(slot){// Y-Axis in board space is inverted, positive goes up\nreturn(CELL_SIZE+CELL_SPACING)*(GRID_ROWS-1-slot)+CELL_SPACING;}function getPartWidth(part){var extraWidth=part.direction===\"left\"||part.direction===\"right\"?2*CELL_SPACING:0;return CELL_SIZE+extraWidth;}function getPartHeight(part){var extraHeight=part.direction===\"up\"||part.direction===\"down\"?2*CELL_SPACING:0;return CELL_SIZE+extraHeight;}function getPartXOffset(part){var xBias=part.direction===\"left\"||part.direction===\"right\"?-CELL_SPACING:0;return toGridSpaceX(part.x)+xBias;}function getPartYOffset(part){var yBias=part.direction===\"up\"||part.direction===\"down\"?-CELL_SPACING:0;return toGridSpaceY(part.y)+yBias;}function getCornerPartXOffset(part,type){return toGridSpaceX(part.x)-CELL_SPACING;}function getCornerPartYOffset(part,type){return toGridSpaceY(part.y)-CELL_SPACING;}function getTailXOffset(part){// apply slight offset to avoid ugly white line in between parts (works most of the time)\nswitch(part.direction){case\"left\":return toGridSpaceX(part.x)-END_OVERLAP;case\"right\":return toGridSpaceX(part.x)+END_OVERLAP;default:return toGridSpaceX(part.x);}}function getTailYOffset(part){// apply slight offset to avoid ugly white line in between parts (works most of the time)\nswitch(part.direction){case\"up\":return toGridSpaceY(part.y)-END_OVERLAP;case\"down\":return toGridSpaceY(part.y)+END_OVERLAP;default:return toGridSpaceY(part.y);}}function getHeadXOffset(part){// apply slight offset to avoid ugly white line in between parts (works most of the time)\nswitch(part.direction){case\"left\":return toGridSpaceX(part.x)+END_OVERLAP;case\"right\":return toGridSpaceX(part.x)-END_OVERLAP;default:return toGridSpaceX(part.x);}}function getHeadYOffset(part){// apply slight offset to avoid ugly white line in between parts (works most of the time)\nswitch(part.direction){case\"up\":return toGridSpaceY(part.y)+END_OVERLAP;case\"down\":return toGridSpaceY(part.y)-END_OVERLAP;default:return toGridSpaceY(part.y);}}function getHeadFillerXOffset(part){// apply slight offset to avoid ugly white line in between parts (works most of the time)\nswitch(part.direction){case\"left\":return toGridSpaceX(part.x+1)-CELL_SPACING-END_OVERLAP;case\"right\":return toGridSpaceX(part.x)-CELL_SPACING-END_OVERLAP;default:return toGridSpaceX(part.x);}}function getHeadFillerYOffset(part){// apply slight offset to avoid ugly white line in between parts (works most of the time)\nswitch(part.direction){case\"up\":return toGridSpaceY(part.y-1)-CELL_SPACING-END_OVERLAP;case\"down\":return toGridSpaceY(part.y)-CELL_SPACING-END_OVERLAP;default:return toGridSpaceY(part.y);}}function getTailFillerXOffset(part){// apply slight offset to avoid ugly white line in between parts (works most of the time)\nswitch(part.direction){case\"right\":return toGridSpaceX(part.x+1)-CELL_SPACING-END_OVERLAP;case\"left\":return toGridSpaceX(part.x)-CELL_SPACING-END_OVERLAP;default:return toGridSpaceX(part.x);}}function getTailFillerYOffset(part){// apply slight offset to avoid ugly white line in between parts (works most of the time)\nswitch(part.direction){case\"down\":return toGridSpaceY(part.y-1)-CELL_SPACING-END_OVERLAP;case\"up\":return toGridSpaceY(part.y)-CELL_SPACING-END_OVERLAP;default:return toGridSpaceY(part.y);}}function getFillerWidth(part){return part.direction===\"left\"||part.direction===\"right\"?CELL_SPACING+2*END_OVERLAP:CELL_SIZE;}function getFillerHeight(part){return part.direction===\"left\"||part.direction===\"right\"?CELL_SIZE:CELL_SPACING+2*END_OVERLAP;}function getOpacity(snake,highlightedSnake){if(!snake.isDead){if(highlightedSnake){return snake._id===highlightedSnake?1:HIGHLIGHT_DIM;}}else{if(highlightedSnake){return snake._id===highlightedSnake?1:0;}}return snake.isDead?DEAD_OPACITY:1;}function getPartOpacity(part){if(part.shadeForOverlap){return SNAKE_ON_SNAKE_OPACITY;}else if(part.isOverlapped){return OVERLAP_OPACITY;}else{return FULL_OPACITY;}}function getPartColor(snake,part){if(part.shadeForOverlap){return colors.overlapSnake;}else{return snake.color;}}function range(size){var result=[];for(var i=0;i<size;i++){result.push(i);}return result;}function sortAliveSnakesOnTop(snakes,highlightedSnake){return snakes.concat().sort(function(a,b){var aOrder=a.isDead?0:1;var bOrder=b.isDead?0:1;// always put the highlighted snake up top\nif(a._id===highlightedSnake)aOrder=2;if(b._id===highlightedSnake)bOrder=2;return aOrder-bOrder;});}function getHeadTransform(direction,viewBox){var halfX=viewBox.width/2;var halfY=viewBox.height/2;switch(direction){case\"left\":return\"scale(-1,1) translate(-100, 0)\";case\"up\":return\"rotate(-90 \".concat(halfX,\" \").concat(halfY,\")\");case\"down\":return\"rotate(90 \".concat(halfX,\" \").concat(halfY,\")\");default:return\"\";}}function getTailTransform(direction,viewBox){var halfX=viewBox.width/2;var halfY=viewBox.height/2;switch(direction){case\"right\":return\"scale(-1,1) translate(-100,0)\";case\"down\":return\"scale(-1,1) translate(-100,0) rotate(-90 \".concat(halfX,\" \").concat(halfY,\")\");case\"up\":return\"scale(-1,1) translate(-100,0) rotate(90 \".concat(halfX,\" \").concat(halfY,\")\");default:return\"\";}}function areAdjacentDirections(d1,d2){// Check if the directions are adjacent in the circular directions array\n// Otherwise they are the same or opposite directions\nreturn Math.abs(DIRECTIONS_CW.indexOf(d1)-DIRECTIONS_CW.indexOf(d2))%2===1;}function checkIfCornerPart(snake,partIndex){// If head or tail of the snake, then false\nif(partIndex===0||partIndex===snake.body.length-1)return false;var behind=snake.body[partIndex+1];var current=snake.body[partIndex];// Return false if the behind part has the same position as the current.\n// Relevant for when the snake initially spawns.\nif(behind.x===current.x&&behind.y===current.y)return false;// Check if the directions are adjacent in the circular directions array\n// Otherwise they are the same or opposite directions and should be rendered with a straight part\nreturn areAdjacentDirections(current.direction,behind.direction);}function determineCornerType(snake,partIndex){// If head or tail of the snake, then false\nif(partIndex===0||partIndex===snake.body.length-1)return false;var behind=snake.body[partIndex+1];var current=snake.body[partIndex];return\"\".concat(current.direction,\" \").concat(behind.direction);}function isOverlappedByTail(snake,part){var head=snake.body[snake.body.length-1];return part.isOverlapped&&head.x===part.x&&head.y===part.y;}var grid_Grid=/*#__PURE__*/function(_React$Component){Object(inherits[\"a\" /* default */])(Grid,_React$Component);var _super=Object(createSuper[\"a\" /* default */])(Grid);function Grid(){Object(classCallCheck[\"a\" /* default */])(this,Grid);return _super.apply(this,arguments);}Object(createClass[\"a\" /* default */])(Grid,[{key:\"renderPart\",value:function renderPart(snake,snakeIndex,part,partIndex){if(isOverlappedByTail(snake,part))return;switch(part.type){case\"head\":return this.renderHeadPart(snake,snakeIndex,part);case\"tail\":return this.renderTailPart(snake,snakeIndex,part);default:if(checkIfCornerPart(snake,partIndex)){return this.renderCornerPart(snake,snakeIndex,part,partIndex);}else{return this.renderMiddlePart(snake,snakeIndex,part,partIndex);}}}},{key:\"renderHeadPart\",value:function renderHeadPart(snake,snakeIndex,part){var x=getHeadXOffset(part);var y=getHeadYOffset(part);var box=snake.headSvg.viewBox.baseVal;var transform=getHeadTransform(part.direction,box);var viewBoxStr=\"\".concat(box.x,\" \").concat(box.y,\" \").concat(box.width,\" \").concat(box.height);var color=getPartColor(snake,part);var opacity=getPartOpacity(part);return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"g\",{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"svg\",{viewBox:viewBoxStr,x:x,y:y,width:CELL_SIZE,height:CELL_SIZE,fill:color,opacity:opacity,shapeRendering:\"auto\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"g\",{transform:transform,dangerouslySetInnerHTML:{__html:snake.headSvg.innerHTML}})}),snake.effectiveSpace>1&&/*#__PURE__*/ // only add filler if the snake is effectively longer than one tile\nObject(jsx_runtime[\"jsx\"])(\"rect\",{x:getHeadFillerXOffset(part),y:getHeadFillerYOffset(part),width:getFillerWidth(part),height:getFillerHeight(part),fill:color,opacity:opacity,shapeRendering:\"auto\"})]},\"part\"+snakeIndex+\",head\");}},{key:\"renderMiddlePart\",value:function renderMiddlePart(snake,snakeIndex,part,partIndex){var color=getPartColor(snake,part);var opacity=getPartOpacity(part);return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"rect\",{x:getPartXOffset(part),y:getPartYOffset(part),width:getPartWidth(part),height:getPartHeight(part),fill:color,opacity:opacity,shapeRendering:\"auto\"},\"part\".concat(snakeIndex,\",\").concat(part.x,\",\").concat(part.y));}},{key:\"renderCornerPart\",value:function renderCornerPart(snake,snakeIndex,part,partIndex){var viewBox,transform;var path=\"M0,20 h60 a60,60 0 0 1 60,60 v60 h-100 v-20 h-20 z\";var color=getPartColor(snake,part);var opacity=getPartOpacity(part);viewBox=\"0 0 140 140\";var cornerType=determineCornerType(snake,partIndex);switch(cornerType){case\"down left\":case\"right up\":transform=\"rotate(270, 70, 70)\";break;case\"left down\":case\"up right\":transform=\"rotate(90, 70, 70)\";break;case\"left up\":case\"down right\":break;case\"right down\":case\"up left\":transform=\"rotate(180, 70, 70)\";break;default:break;}return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"svg\",{x:getCornerPartXOffset(part,cornerType),y:getCornerPartYOffset(part,cornerType),width:CELL_SIZE+2*CELL_SPACING,height:CELL_SIZE+2*CELL_SPACING,fill:color,opacity:opacity,viewBox:viewBox,shapeRendering:\"auto\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"path\",{d:path,transform:transform})},\"part\".concat(snakeIndex,\",\").concat(part.x,\",\").concat(part.y));}},{key:\"renderTailPart\",value:function renderTailPart(snake,snakeIndex,part){var x=getTailXOffset(part);var y=getTailYOffset(part);var box=snake.tailSvg.viewBox.baseVal;var transform=getTailTransform(part.direction,box);var viewBoxStr=\"\".concat(box.x,\" \").concat(box.y,\" \").concat(box.width,\" \").concat(box.height);var color=getPartColor(snake,part);var opacity=getPartOpacity(part);return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"g\",{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"svg\",{viewBox:viewBoxStr,x:x,y:y,width:CELL_SIZE,height:CELL_SIZE,fill:color,opacity:opacity,shapeRendering:\"auto\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"g\",{transform:transform,dangerouslySetInnerHTML:{__html:snake.tailSvg.innerHTML}})}),snake.effectiveSpace>1&&/*#__PURE__*/ // only add filler if the snake is effectively longer than one tile\nObject(jsx_runtime[\"jsx\"])(\"rect\",{x:getTailFillerXOffset(part),y:getTailFillerYOffset(part),width:getFillerWidth(part),height:getFillerHeight(part),fill:color,opacity:opacity,shapeRendering:\"auto\"})]},\"part\"+snakeIndex+\",tail\");}},{key:\"renderLabel\",value:function renderLabel(row,col,label){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"foreignObject\",{x:toGridSpaceX(col),y:toGridSpaceY(row),width:CELL_SIZE,height:CELL_SIZE,children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{style:{width:\"100%\",height:\"100%\",display:\"flex\",alignItems:\"center\",justifyContent:\"center\",opacity:0.5},children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{style:{fontSize:\"80%\"},children:label})})},\"label\"+row+col);}},{key:\"renderLabels\",value:function renderLabels(){var _this=this;return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(jsx_runtime[\"Fragment\"],{children:[range(this.props.rows).map(function(_,row){return _this.renderLabel(row,-1,row);}),range(this.props.columns).map(function(_,col){return _this.renderLabel(-1,col,col);})]});}},{key:\"renderGrid\",value:function renderGrid(){var _this2=this;// GRID_COLUMNS = this.props.columns;\nGRID_ROWS=this.props.rows;var unsortedSnakes=this.props.snakes||[];var food=this.props.food||[];var hazards=this.props.hazards||[];// Make alive snakes render on top of dead snakes\nvar sortedSnakes=sortAliveSnakesOnTop(unsortedSnakes,this.props.highlightedSnake);if(!this.props.highlightedSnake){// track all of the grid cells that will have a snake part drawn in them.  Successive snake parts\n// drawn in the same cell need to be flagged so they render differently and layer properly\nvar gridCellsWithSnakeParts=Array(this.props.rows);for(var i=0;i<gridCellsWithSnakeParts.length;i++){gridCellsWithSnakeParts[i]=Array(this.props.columns);for(var j=0;j<this.props.columns;j++){gridCellsWithSnakeParts[i][j]=false;}}// Go through each snake, in the order they will be drawn and mark the cells they will occupy.\n// flag parts that would be drawn in cells that are already claimed\nfor(var _i=0;_i<sortedSnakes.length;_i++){var snake=sortedSnakes[_i];if(!snake.isDead){for(var x=0;x<snake.body.length;x++){var part=snake.body[x];if(!isOverlappedByTail(snake,part)){if(gridCellsWithSnakeParts[part.y][part.x]){part.shadeForOverlap=true;}else{gridCellsWithSnakeParts[part.y][part.x]=true;}}}}}}var viewBoxWidth=(CELL_SIZE+CELL_SPACING)*this.props.columns+CELL_SPACING;var viewBoxHeight=(CELL_SIZE+CELL_SPACING)*this.props.rows+CELL_SPACING;var hazardOpacity=parseFloat(colors.hazardOpacity);var overflow=this.props.showCoordinateLabels?\"visible\":\"hidden\";return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"svg\",{className:\"grid\",width:this.props.maxWidth,height:this.props.maxHeight,x:this.props.x,y:this.props.y,viewBox:\"0 0 \".concat(viewBoxWidth,\" \").concat(viewBoxHeight),overflow:overflow,children:[this.props.showCoordinateLabels&&this.renderLabels(),range(this.props.rows).map(function(_,row){return range(_this2.props.columns).map(function(_,col){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"rect\",{x:toGridSpaceX(col),y:toGridSpaceY(row),width:CELL_SIZE,height:CELL_SIZE,fill:_this2.props.theme===themes.dark?colors.gridCellBackgroundDark:colors.gridCellBackground,shapeRendering:\"auto\"},\"cell\"+row+\",\"+col);});}),sortedSnakes.map(function(snake,snakeIndex){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"g\",{className:\"snake\",opacity:getOpacity(snake,_this2.props.highlightedSnake),children:Object(toConsumableArray[\"a\" /* default */])(snake.body).reverse().map(function(part,partIndex){return _this2.renderPart(snake,snakeIndex,part,snake.body.length-partIndex-1,_this2.props.highlightedSnake);})},\"snake\".concat(snakeIndex));}),hazards.map(function(o,hazardIndex){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"rect\",{x:toGridSpaceX(o.x),y:toGridSpaceY(o.y),width:CELL_SIZE,height:CELL_SIZE,fill:colors.hazard,fillOpacity:hazardOpacity,shapeRendering:\"auto\"},\"hazard\"+hazardIndex);}),food.map(function(f,foodIndex){if(_this2.props.foodImage){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"image\",{x:toGridSpaceX(f.x),y:toGridSpaceY(f.y),width:CELL_SIZE,height:CELL_SIZE,href:_this2.props.foodImage},\"food\"+foodIndex);}else{return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"circle\",{className:\"food\",cx:toGridSpaceX(f.x)+CELL_SIZE/2,cy:toGridSpaceY(f.y)+CELL_SIZE/2,r:FOOD_SIZE,fill:colors.food,shapeRendering:\"optimizeQuality\"},\"food\"+foodIndex);}})]});}},{key:\"render\",value:function render(){if(this.props.snakes){return this.renderGrid();}else{return;}}}]);return Grid;}(react_default.a.Component);/* harmony default export */ var grid = (grid_Grid);\n// CONCATENATED MODULE: ./src/components/board.jsx\nvar BOARD_SIZE=100;var LABEL_ADJUSTMENT=10;var board_Board=/*#__PURE__*/function(_React$Component){Object(inherits[\"a\" /* default */])(Board,_React$Component);var _super=Object(createSuper[\"a\" /* default */])(Board);function Board(){Object(classCallCheck[\"a\" /* default */])(this,Board);return _super.apply(this,arguments);}Object(createClass[\"a\" /* default */])(Board,[{key:\"render\",value:function render(){var boardSize=this.props.showCoordinateLabels?BOARD_SIZE-LABEL_ADJUSTMENT:BOARD_SIZE;var x=this.props.showCoordinateLabels?LABEL_ADJUSTMENT:0;return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"svg\",{viewBox:\"0 0 \".concat(BOARD_SIZE,\" \").concat(BOARD_SIZE),children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(grid,{snakes:this.props.snakes,food:this.props.food,foodImage:this.props.foodImage,hazards:this.props.hazards,columns:this.props.columns,rows:this.props.rows,highlightedSnake:this.props.highlightedSnake,theme:this.props.theme,maxWidth:boardSize,maxHeight:boardSize,x:x,y:0,turn:this.props.turn,showCoordinateLabels:this.props.showCoordinateLabels})});}}]);return Board;}(react_default.a.Component);/* harmony default export */ var board = (board_Board);\n// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/esm/createForOfIteratorHelper.js\nvar createForOfIteratorHelper = __webpack_require__(17);\n\n// EXTERNAL MODULE: ./node_modules/@babel/runtime/regenerator/index.js\nvar regenerator = __webpack_require__(2);\nvar regenerator_default = /*#__PURE__*/__webpack_require__.n(regenerator);\n\n// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\nvar asyncToGenerator = __webpack_require__(7);\n\n// EXTERNAL MODULE: ./src/io/reconnecting-websocket.js\nvar reconnecting_websocket = __webpack_require__(33);\nvar reconnecting_websocket_default = /*#__PURE__*/__webpack_require__.n(reconnecting_websocket);\n\n// CONCATENATED MODULE: ./src/io/websocket.js\n// Establishes websocket connection on given url and then calls receive for\n// every object sent from the server. Returns a promise that resolves when\n// receive returns true or when the server closes the connection.\nfunction streamAll(url,receive){var turns={};var done=false;return new Promise(function(resolve,reject){var ws=new reconnecting_websocket_default.a(url);ws.addEventListener(\"message\",function(e){var obj=JSON.parse(e.data);var eventData=obj.Data;if(turns[eventData.Turn]){return;}turns[eventData.Turn]=true;done=receive(obj);if(done){ws.close();resolve();}});ws.addEventListener(\"onerror\",function(e){reject(e);});ws.addEventListener(\"onclose\",function(e){if(!done){done=true;resolve();}});});}\n// CONCATENATED MODULE: ./src/utils/inline-svg.js\n/**\n * This file contains helper functions for async loading svg files that\n * can be injected inline into an html <svg> element. This is better than\n * alternatives for the following reasons:\n *\n *    <use href=\"...\"> has a problem where the game could start before the\n *    svg has finished loading whereas this method gives a promise we can wait\n *    for.\n *\n *    <image src=\"...\"> has a problem where the fill color of the image cannot\n *    be overriden. Inline svg solves this problem and allows css styles to\n *    cascade into the svg content. <use> may also have this problem?\n *\n *    Directly embedding the svg xml into react components (or similar) would\n *    mostly solve everything except that it eliminates the possibility of\n *    pulling in svg data from external trusted sources.\n *\n * The main downside to this method is that the source of the svg must be\n * trusted or else you are vulnerable to xss attacks.\n */var loaded={};var doesntExist={};function loadSvgs(paths){return Promise.all(paths.map(requireSvg));}function getSvg(path){return loaded[path];}function requireSvg(path){if(path in loaded){return Promise.resolve(loaded[path]);}return fetchSvg(path);}function fetchSvg(_x){return _fetchSvg.apply(this,arguments);}function _fetchSvg(){_fetchSvg=Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/regenerator_default.a.mark(function _callee(path){var response,svgText,svg;return regenerator_default.a.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return fetch(path);case 2:response=_context.sent;_context.next=5;return response.text();case 5:svgText=_context.sent;svg=makeDom(svgText);loaded[path]=svg;return _context.abrupt(\"return\",svg);case 9:case\"end\":return _context.stop();}}},_callee);}));return _fetchSvg.apply(this,arguments);}function makeDom(svgText){var wrapper=document.createElement(\"div\");wrapper.innerHTML=svgText.trim();return wrapper.firstChild;}function svgExists(_x2){return _svgExists.apply(this,arguments);}function _svgExists(){_svgExists=Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/regenerator_default.a.mark(function _callee2(path){var response,svgText,exists;return regenerator_default.a.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:if(!(path in loaded)){_context2.next=2;break;}return _context2.abrupt(\"return\",true);case 2:if(!(path in doesntExist)){_context2.next=4;break;}return _context2.abrupt(\"return\",false);case 4:_context2.prev=4;_context2.next=7;return fetch(path);case 7:response=_context2.sent;_context2.next=10;return response.text();case 10:svgText=_context2.sent;exists=svgText.startsWith(\"<svg\");if(!exists){doesntExist[path]=true;}return _context2.abrupt(\"return\",exists);case 16:_context2.prev=16;_context2.t0=_context2[\"catch\"](4);//Most likely a CORS issue for a specific svg\nconsole.warn(_context2.t0,path,\"Fallback to default\");return _context2.abrupt(\"return\",false);case 20:case\"end\":return _context2.stop();}}},_callee2,null,[[4,16]]);}));return _svgExists.apply(this,arguments);}\n// CONCATENATED MODULE: ./src/utils/engine-client.js\nvar DEFAULT_SNAKE_HEAD=\"default\";var DEFAULT_SNAKE_TAIL=\"default\";var APP_VERSION=\"1.2.1\";function get(_x,_x2){return _get.apply(this,arguments);}function _get(){_get=Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/regenerator_default.a.mark(function _callee(url,query){var response;return regenerator_default.a.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:console.log(\"output game config\");_context.next=3;return fetch(url+makeQueryString(query));case 3:response=_context.sent;console.log(response);if(!(response.status===200)){_context.next=9;break;}return _context.abrupt(\"return\",Promise.resolve(response.json()));case 9:return _context.abrupt(\"return\",Promise.resolve(response.json()).then(function(responseJson){console.error(responseJson.error);return Promise.reject(responseJson.error);}));case 10:case\"end\":return _context.stop();}}},_callee);}));return _get.apply(this,arguments);}function delay(millis){return new Promise(function(resolve){return setTimeout(resolve,millis);});}function getReadableCauseOfDeath(death){// See https://github.com/BattlesnakeOfficial/rules/blob/master/standard.go\nswitch(death.cause){case\"snake-collision\":return\"Ran into \".concat(death.eliminatedBy,\"'s body\");case\"snake-self-collision\":return\"Collided with itself\";case\"out-of-health\":return\"Out of health\";case\"hazard\":return\"Eliminated by hazard\";case\"head-collision\":return\"Lost head-to-head with \".concat(death.eliminatedBy);case\"wall-collision\":return\"Moved out of bounds\";case\"squad-eliminated\":return\"Squad was eliminated\";default:return death.cause;}}// Gets a list of all unique SVG paths required by the snakes.\nfunction getAllSvgs(snakes){var all=snakes.reduce(function(result,snake){return result.concat([snake.HeadType,snake.TailType]);},[]);var unique=new Set(all);return Array.from(unique);}function assignHeadAndTailUrls(_x3){return _assignHeadAndTailUrls.apply(this,arguments);}function _assignHeadAndTailUrls(){_assignHeadAndTailUrls=Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/regenerator_default.a.mark(function _callee2(snakes){var _iterator,_step,snake;return regenerator_default.a.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_iterator=Object(createForOfIteratorHelper[\"a\" /* default */])(snakes);_context2.prev=1;_iterator.s();case 3:if((_step=_iterator.n()).done){_context2.next=19;break;}snake=_step.value;// Assign default if missing\nif(!snake.HeadType){snake.HeadType=DEFAULT_SNAKE_HEAD;}if(!snake.TailType){snake.TailType=DEFAULT_SNAKE_TAIL;}// Format as actual URL if it's just a name\nsnake.HeadType=getSnakeHeadSvgUrl(snake.HeadType);snake.TailType=getSnakeTailSvgUrl(snake.TailType);_context2.next=11;return svgExists(snake.HeadType);case 11:if(_context2.sent){_context2.next=13;break;}snake.HeadType=getSnakeHeadSvgUrl(DEFAULT_SNAKE_HEAD);case 13:_context2.next=15;return svgExists(snake.TailType);case 15:if(_context2.sent){_context2.next=17;break;}snake.TailType=getSnakeTailSvgUrl(DEFAULT_SNAKE_TAIL);case 17:_context2.next=3;break;case 19:_context2.next=24;break;case 21:_context2.prev=21;_context2.t0=_context2[\"catch\"](1);_iterator.e(_context2.t0);case 24:_context2.prev=24;_iterator.f();return _context2.finish(24);case 27:case\"end\":return _context2.stop();}}},_callee2,null,[[1,21,24,27]]);}));return _assignHeadAndTailUrls.apply(this,arguments);}function setHeadAndTailSvgs(_x4){return _setHeadAndTailSvgs.apply(this,arguments);}function _setHeadAndTailSvgs(){_setHeadAndTailSvgs=Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/regenerator_default.a.mark(function _callee3(snakes){var _iterator2,_step2,snake;return regenerator_default.a.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:_context3.next=2;return assignHeadAndTailUrls(snakes);case 2:_context3.next=4;return loadSvgs(getAllSvgs(snakes));case 4:_iterator2=Object(createForOfIteratorHelper[\"a\" /* default */])(snakes);try{for(_iterator2.s();!(_step2=_iterator2.n()).done;){snake=_step2.value;snake.HeadSvg=getSvg(snake.HeadType);snake.TailSvg=getSvg(snake.TailType);}}catch(err){_iterator2.e(err);}finally{_iterator2.f();}case 6:case\"end\":return _context3.stop();}}},_callee3);}));return _setHeadAndTailSvgs.apply(this,arguments);}function isIllegalSvgPath(nameOrPath){return nameOrPath.indexOf(\"/\")>=0||nameOrPath.indexOf(\".\")>=0;}function svgUrlFromName(base,relative){//appending the git hash of this version allows for cache busting on deploy\nvar extension=\".svg?board_version=\"+APP_VERSION;return join(\"https://media.battlesnake.com\",base,relative)+extension;}function getSnakeHeadSvgUrl(path){var effectivePath=isIllegalSvgPath(path)?DEFAULT_SNAKE_HEAD:path;return svgUrlFromName(\"/snakes/heads\",effectivePath);}function getSnakeTailSvgUrl(path){var effectivePath=isIllegalSvgPath(path)?DEFAULT_SNAKE_TAIL:path;return svgUrlFromName(\"/snakes/tails\",effectivePath);}function prepareFrame(_x5){return _prepareFrame.apply(this,arguments);}function _prepareFrame(){_prepareFrame=Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/regenerator_default.a.mark(function _callee4(frame){return regenerator_default.a.wrap(function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:_context4.next=2;return setHeadAndTailSvgs(frame.Snakes);case 2:case\"end\":return _context4.stop();}}},_callee4);}));return _prepareFrame.apply(this,arguments);}function fetchGameInfo(baseUrl,gameId){var url=join(baseUrl,\"games/\".concat(gameId));console.log(\"output:\");console.log(url);return get(url);}function streamAllEvents(_x6,_x7,_x8){return _streamAllEvents.apply(this,arguments);}function _streamAllEvents(){_streamAllEvents=Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/regenerator_default.a.mark(function _callee6(baseUrl,gameId,receiveEvent){var game,chain,onEngineEvent,wsUrl;return regenerator_default.a.wrap(function _callee6$(_context6){while(1){switch(_context6.prev=_context6.next){case 0:onEngineEvent=function _onEngineEvent(engineEvent){if(engineEvent.Type){var eventData=engineEvent.Data||engineEvent;//output eventdata\nconsole.log(eventData);chain=chain.then(/*#__PURE__*/Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/regenerator_default.a.mark(function _callee5(){return regenerator_default.a.wrap(function _callee5$(_context5){while(1){switch(_context5.prev=_context5.next){case 0:if(!(engineEvent.Type===\"frame\")){_context5.next=3;break;}_context5.next=3;return prepareFrame(eventData);case 3:return _context5.abrupt(\"return\",receiveEvent(game,engineEvent.Type,eventData));case 4:case\"end\":return _context5.stop();}}},_callee5);})));}return engineEvent.Type&&engineEvent.Type===\"game_end\";};_context6.next=3;return fetchGameInfo(baseUrl,gameId);case 3:game=_context6.sent;console.log(game);chain=Promise.resolve();wsUrl=join(httpToWsProtocol(baseUrl),\"games/\".concat(gameId,\"/events\"));console.log(\"output wsurl\");console.log(wsUrl);_context6.next=11;return streamAll(wsUrl,onEngineEvent);case 11:_context6.next=13;return chain;case 13:case\"end\":return _context6.stop();}}},_callee6);}));return _streamAllEvents.apply(this,arguments);}function getFrameByTurn(frames,turn){return frames.filter(function(frame){return frame.turn===turn;})[0];}\n// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/esm/slicedToArray.js + 3 modules\nvar slicedToArray = __webpack_require__(27);\n\n// EXTERNAL MODULE: ./src/components/scoreboard/error-message/ErrorMessage.css\nvar error_message_ErrorMessage = __webpack_require__(50);\n\n// CONCATENATED MODULE: ./src/components/scoreboard/error-message/ErrorMessage.jsx\nvar errorColor={color:colors.danger};function getIcon(code){return\"error\";}var ErrorMessage_ErrorMessage=function ErrorMessage(props){var code,message;if(props.error===\"\"){return\"\";}var _props$error$toString=props.error.toString().split(\":\");var _props$error$toString2=Object(slicedToArray[\"a\" /* default */])(_props$error$toString,2);code=_props$error$toString2[0];message=_props$error$toString2[1];return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"error-message\",style:errorColor,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"span\",{className:\"material-icons material-icons-inline\",children:getIcon(code)}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"span\",{children:message})]});};/* harmony default export */ var scoreboard_error_message_ErrorMessage = (ErrorMessage_ErrorMessage);\n// EXTERNAL MODULE: ./src/components/scoreboard/avatar/Avatar.css\nvar avatar_Avatar = __webpack_require__(51);\n\n// CONCATENATED MODULE: ./src/components/scoreboard/status-indicator/StatusIndicator.jsx\nvar style={color:colors.danger,cursor:\"pointer\",margin:0,padding:0};function StatusIndicator_getIcon(code){return\"error\";}var StatusIndicator_StatusIndicator=function StatusIndicator(_ref){var errorMessage=_ref.errorMessage;if(errorMessage===\"\"){return\"\";}// until we can refactor Avatar and not pass the whole error object\nvar _errorMessage$toStrin=errorMessage.toString().split(\":\"),_errorMessage$toStrin2=Object(slicedToArray[\"a\" /* default */])(_errorMessage$toStrin,1),code=_errorMessage$toStrin2[0];return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{style:style,children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"span\",{className:\"material-icons material-icons-inline\",children:StatusIndicator_getIcon(code)})});};/* harmony default export */ var status_indicator_StatusIndicator = (StatusIndicator_StatusIndicator);\n// CONCATENATED MODULE: ./src/components/avatar.jsx\nvar _templateObject;var AvatarWrapper=Object(emotion_styled_browser_esm[\"a\" /* default */])(\"div\")(_templateObject||(_templateObject=Object(taggedTemplateLiteral[\"a\" /* default */])([\"\\n  width: 100%;\\n  white-space: nowrap;\\n  overflow: hidden;\\n\\n  opacity: \",\";\\n\"])),function(props){return props.isEliminated?\"0.5\":\"1.0\";});var Name=Object(emotion_styled_browser_esm[\"a\" /* default */])(\"span\")(function(_ref){var theme=_ref.theme;return{display:\"block\",textShadow:theme===themes.dark?\"0 1px 2px rgba(0,0,0,0.90)\":null};});var Length=Object(emotion_styled_browser_esm[\"a\" /* default */])(\"span\")(function(_ref2){var theme=_ref2.theme;return{marginLeft:\"auto\",textShadow:theme===themes.dark?\"0 1px 2px rgba(0,0,0,0.90)\":null};});var AuthorWrapper=Object(emotion_styled_browser_esm[\"a\" /* default */])(\"div\")({fontSize:\"1rem\",fontWeight:\"400\",display:\"flex\",flexDirection:\"row\",height:\"1.25rem\"});var Author=Object(emotion_styled_browser_esm[\"a\" /* default */])(\"span\")(function(_ref3){var theme=_ref3.theme;return{display:\"block\",flexGrow:1,textShadow:theme===themes.dark?\"0 1px 2px rgba(0,0,0,0.90)\":null};});var Latency=Object(emotion_styled_browser_esm[\"a\" /* default */])(\"span\")(function(_ref4){var theme=_ref4.theme,latency=_ref4.latency;return{color:latency===\"0\"?\"red\":\"inherit\",marginLeft:\"auto\",textShadow:theme===themes.dark?\"0 1px 2px rgba(0,0,0,0.90)\":null,display:latency===\"\"?\"none\":\"block\"};});var HealthBarWrapper=Object(emotion_styled_browser_esm[\"a\" /* default */])(\"div\")({marginTop:\"0.2rem\",width:\"100%\",height:\"1.0rem\",background:colors.healthBarBackground,borderRadius:\"1.5rem\"});var HealthBar=Object(emotion_styled_browser_esm[\"a\" /* default */])(\"div\")(function(_ref5){var color=_ref5.color;return{height:\"100%\",backgroundColor:color,borderRadius:\"inherit\"};});var CauseOfDeath=Object(emotion_styled_browser_esm[\"a\" /* default */])(\"div\")(function(_ref6){var theme=_ref6.theme;return{width:\"100%\",marginTop:\"0.2rem\",fontSize:\"1rem\",lineHeight:\"1rem\",color:theme===themes.dark?colors.lightText:colors.darkText};});var components_avatar_Avatar=/*#__PURE__*/function(_React$Component){Object(inherits[\"a\" /* default */])(Avatar,_React$Component);var _super=Object(createSuper[\"a\" /* default */])(Avatar);function Avatar(props){var _this;Object(classCallCheck[\"a\" /* default */])(this,Avatar);_this=_super.call(this,props);_this.state={showError:false};return _this;}Object(createClass[\"a\" /* default */])(Avatar,[{key:\"render\",value:function render(){return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(AvatarWrapper,{isEliminated:this.props.snake.death?true:false,children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"row\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Name,{children:this.props.snake.name}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Length,{children:this.props.snake.body.length})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(AuthorWrapper,{children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Author,{children:[\"by \",this.props.snake.author]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(status_indicator_StatusIndicator,{errorMessage:this.props.snake.error}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Latency,{latency:this.props.snake.latency,children:[this.props.snake.latency,\" ms\"]})]}),this.props.snake.death?/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(CauseOfDeath,{theme:this.props.theme,children:getReadableCauseOfDeath(this.props.snake.death)}):/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(HealthBarWrapper,{children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(HealthBar,{color:this.props.snake.color,style:{width:\"\".concat(this.props.snake.health,\"%\")}})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(scoreboard_error_message_ErrorMessage,{error:this.props.highlighted?this.props.snake.error:\"\"})]});}}]);return Avatar;}(react_default.a.Component);/* harmony default export */ var avatar = (components_avatar_Avatar);\n// CONCATENATED MODULE: ./src/components/scoreboard.jsx\nvar scoreboard_templateObject,_templateObject2;var orderSnakes=function orderSnakes(snakes){// Sort by name\nvar aliveSnakes=snakes.filter(function(s){return!s.isDead;}).sort(function(a,b){var aLower=a.name.toLowerCase();var bLower=b.name.toLowerCase();if(aLower<bLower){return-1;}if(aLower>bLower){return 1;}return 0;});// Sort by turn died, descending\nvar deadSnakes=snakes.filter(function(s){return s.isDead;}).sort(function(a,b){return a.death.turn-b.death.turn;}).reverse();return aliveSnakes.concat(deadSnakes);};var Wrapper=Object(emotion_styled_browser_esm[\"a\" /* default */])(\"div\")(scoreboard_templateObject||(scoreboard_templateObject=Object(taggedTemplateLiteral[\"a\" /* default */])([\"\\n  display: none;\\n  color: \",\";\\n  font-weight: 600;\\n  font-size: 1.4rem;\\n\\n  @media (min-width: \",\") {\\n    display: \",\";\\n    font-size: 1.8rem;\\n  }\\n\\n  @media (min-width: \",\") {\\n    font-size: 3.2rem;\\n    letter-spacing: 0.1rem;\\n  }\\n\"])),function(_ref){var theme=_ref.theme;return theme===themes.dark?colors.lightText:colors.darkText;},breakpoints.md,function(_ref2){var hide=_ref2.hide;return hide?\"none\":\"block\";},breakpoints.xxl);var scoreboard_AvatarWrapper=Object(emotion_styled_browser_esm[\"a\" /* default */])(\"div\")(_templateObject2||(_templateObject2=Object(taggedTemplateLiteral[\"a\" /* default */])([\"\\n  padding: 0.75rem;\\n  transition: background-color 0.2s, box-shadow 0.2s;\\n  border: 2px solid\\n    \",\";\\n  &:hover {\\n    background-color: \",\";\\n    cursor: pointer;\\n    border-color: \",\";\\n  }\\n\"])),function(props){return props.highlighted?colors.avatarHighlightedBorder:\"transparent\";},function(props){return props.theme===themes.dark?colors.purple:colors.light;},function(props){return props.highlighted?colors.avatarHighlightedBorder:colors.avatarHoverBorder;});var scoreboard_Scoreboard=/*#__PURE__*/function(_React$Component){Object(inherits[\"a\" /* default */])(Scoreboard,_React$Component);var _super=Object(createSuper[\"a\" /* default */])(Scoreboard);function Scoreboard(){var _this;Object(classCallCheck[\"a\" /* default */])(this,Scoreboard);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={highlightedSnake:null};_this.toggleHighlight=function(snake){var getSnakeToHighlight=function getSnakeToHighlight(state,snake){return state.highlightedSnake!==snake._id?snake._id:null;};_this.props.highlightSnake(getSnakeToHighlight(_this.state,snake));_this.setState(function(state){return{highlightedSnake:getSnakeToHighlight(state,snake)};});};return _this;}Object(createClass[\"a\" /* default */])(Scoreboard,[{key:\"render\",value:function render(){var _this2=this;var highlightedSnake=this.state.highlightedSnake;return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Wrapper,{theme:this.props.theme,children:this.props.snakes?orderSnakes(this.props.snakes).map(function(snake,i){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(scoreboard_AvatarWrapper,{onClick:function onClick(){return _this2.toggleHighlight(snake);},highlighted:highlightedSnake===snake._id,theme:_this2.props.theme,children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(avatar,{snake:snake,theme:_this2.props.theme,highlighted:highlightedSnake===snake._id},\"avatar\"+i)},\"avatarwrapper\"+i);}):undefined});}}]);return Scoreboard;}(react_default.a.Component);/* harmony default export */ var scoreboard = (scoreboard_Scoreboard);\n// EXTERNAL MODULE: ./node_modules/react-keyboard-event-handler/lib/react-keyboard-event-handler.js\nvar react_keyboard_event_handler = __webpack_require__(34);\nvar react_keyboard_event_handler_default = /*#__PURE__*/__webpack_require__.n(react_keyboard_event_handler);\n\n// CONCATENATED MODULE: ./src/components/mediaControls.jsx\nvar mediaControls_templateObject,mediaControls_templateObject2,_templateObject3,_templateObject4;var MediaControlsWrapper=Object(emotion_styled_browser_esm[\"a\" /* default */])(\"div\")(mediaControls_templateObject||(mediaControls_templateObject=Object(taggedTemplateLiteral[\"a\" /* default */])([\"\\n  display: \",\";\\n  margin-top: 1rem;\\n  width: 100%;\\n\"])),function(_ref){var hide=_ref.hide;return hide?\"none\":\"block\";});var KeyboardShortcutsWrapper=Object(emotion_styled_browser_esm[\"a\" /* default */])(\"div\")({position:\"relative\"});var ShortcutsPane=Object(emotion_styled_browser_esm[\"a\" /* default */])(\"div\")(mediaControls_templateObject2||(mediaControls_templateObject2=Object(taggedTemplateLiteral[\"a\" /* default */])([\"\\n  position: absolute;\\n  bottom: 2.5rem;\\n  right: 2.5rem;\\n  width: 20rem;\\n  padding: 1rem;\\n  border: solid 1px #999;\\n  background: #fff;\\n\\n  @media (min-width: \",\") {\\n    left: 2.5rem;\\n    right: 0;\\n  }\\n\\n  h4 {\\n    margin-top: 0;\\n    margin-bottom: 1rem;\\n  }\\n\\n  ul {\\n    list-style-type: none;\\n    margin: 0;\\n    padding: 0;\\n  }\\n\"])),breakpoints.md);var ButtonWrapper=Object(emotion_styled_browser_esm[\"a\" /* default */])(\"div\")({display:\"flex\",justifyContent:\"center\",width:\"100%\"});var Button=Object(emotion_styled_browser_esm[\"a\" /* default */])(\"button\")(_templateObject3||(_templateObject3=Object(taggedTemplateLiteral[\"a\" /* default */])([\"\\n  display: inline-block;\\n  min-width: 3rem;\\n  text-align: center;\\n  background: transparent;\\n  color: \",\";\\n  font-size: 1.4rem;\\n  border: none;\\n  text-decoration: none;\\n  cursor: pointer;\\n  transition: background 250ms ease-in-out, transform 150ms ease;\\n  -webkit-appearance: none;\\n  -moz-appearance: none;\\n\\n  &:hover {\\n    cursor: pointer;\\n  }\\n\\n  &:focus {\\n    outline: none;\\n  }\\n\\n  &:disabled {\\n    color: #ccc;\\n    cursor: not-allowed;\\n  }\\n\\n  @media (max-width: \",\") {\\n    padding: 2rem 2rem;\\n  }\\n\"])),function(_ref2){var theme=_ref2.theme;return theme===themes.dark?\"#eee\":\"#333\";},breakpoints.sm);var Scrubber=Object(emotion_styled_browser_esm[\"a\" /* default */])(\"input\")(_templateObject4||(_templateObject4=Object(taggedTemplateLiteral[\"a\" /* default */])([\"\\n  width: 100%;\\n  max-width: 60rem;\\n\\n  &:disabled,\\n  &:disabled:hover {\\n    opacity: 0.2;\\n    cursor: not-allowed;\\n  }\\n\"])));var mediaControls_MediaControls=/*#__PURE__*/function(_React$Component){Object(inherits[\"a\" /* default */])(MediaControls,_React$Component);var _super=Object(createSuper[\"a\" /* default */])(MediaControls);function MediaControls(props){var _this;Object(classCallCheck[\"a\" /* default */])(this,MediaControls);_this=_super.call(this,props);_this.state={paneHidden:true};_this.handleParentKeyboardEvent=function(e){var code=e.data.code;_this.handleKeyEvent(_this.keyboardCodeMap[code],e);};_this.handleReload=function(){_this.props.reloadGame();};_this.handlePlayPause=function(){_this.props.toggleGamePause();};_this.handleBackward=function(){_this.props.stepBackwardFrame();};_this.handleForward=function(){_this.props.stepForwardFrame();};_this.handleScrubMouseDown=function(){_this.props.pauseGame();};_this.handleScrubbing=function(event){_this.props.stepToTurn(parseInt(event.target.value));};_this.handleSettings=function(){if(_this.props.persistAvailable){_this.props.history.push(\"/settings\");}};_this.handleShortcutPaneShowToggle=function(){_this.setState({paneHidden:!_this.state.paneHidden});};_this.handleKeyEvent=function(key,e){e.preventDefault();switch(key){case\"r\":_this.handleReload();break;case\"left\":_this.handleBackward();break;case\"right\":_this.handleForward();break;case\"space\":_this.handlePlayPause();break;case\",\":_this.handleSettings();break;default:break;}};_this.keyboardCodeMap={KeyR:\"r\",ArrowLeft:\"left\",ArrowRight:\"right\",Space:\"space\",Settings:\",\"};return _this;}Object(createClass[\"a\" /* default */])(MediaControls,[{key:\"componentDidMount\",value:function componentDidMount(){window.addEventListener(\"message\",this.handleParentKeyboardEvent);}},{key:\"componentWillUnmount\",value:function componentWillUnmount(){window.removeEventListener(\"message\",this.handleParentKeyboardEvent);}},{key:\"render\",value:function render(){return this.renderControls();}},{key:\"renderScrubbing\",value:function renderScrubbing(){var value=this.props.hasAllFrames?this.props.currentFrame.turn:0;var max=this.props.hasAllFrames?this.props.maxTurn:0;return this.props.showFrameScrubber&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(ButtonWrapper,{children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Scrubber,{type:\"range\",min:\"0\",max:max,value:value,onMouseDown:this.handleScrubMouseDown,onChange:this.handleScrubbing,disabled:!this.props.hasAllFrames})});}},{key:\"renderControls\",value:function renderControls(){var _this$props=this.props,currentFrame=_this$props.currentFrame,hideControls=_this$props.hideControls,paused=_this$props.paused,theme=_this$props.theme,persistAvailable=_this$props.persistAvailable;var settingsInfo=persistAvailable?\"Configure playback settings\":\"Enable localStorage to configure playback settings\";return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(MediaControlsWrapper,{hide:hideControls,children:[this.renderScrubbing(),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(ButtonWrapper,{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button,{onClick:this.handleBackward,disabled:currentFrame.turn===0||!paused,theme:theme,children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"span\",{className:\"material-icons icon-image-preview\",children:\"skip_previous\"})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button,{onClick:this.handlePlayPause,theme:theme,children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"span\",{className:\"material-icons icon-image-preview\",children:paused?\"play_arrow\":\"pause\"})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button,{onClick:this.handleForward,disabled:!paused,theme:theme,children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"span\",{className:\"material-icons icon-image-preview\",children:\"skip_next\"})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button,{onClick:this.handleReload,disabled:currentFrame.turn===0||!paused,theme:theme,children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"span\",{className:\"material-icons icon-image-preview\",children:\"refresh\"})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button,{onClick:this.handleSettings,disabled:!persistAvailable,theme:theme,children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"span\",{className:\"material-icons icon-image-preview\",title:settingsInfo,children:\"settings\"})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_keyboard_event_handler_default.a,{handleKeys:Object.values(this.keyboardCodeMap),onKeyEvent:this.handleKeyEvent}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(KeyboardShortcutsWrapper,{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button,{onClick:this.handleShortcutPaneShowToggle,theme:theme,children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"span\",{className:\"material-icons icon-image-preview\",children:\"help\"})}),!this.state.paneHidden&&/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(ShortcutsPane,{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h4\",{children:\"Keyboard shortcuts\"}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"ul\",{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"li\",{children:\"Reload = r\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"li\",{children:\"Play/Pause = space\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"li\",{children:\"Backward = left arrow\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"li\",{children:\"Forward = right arrow\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"li\",{children:\"Settings = comma\"})]})]})]})]})]});}}]);return MediaControls;}(react_default.a.Component);/* harmony default export */ var mediaControls = (Object(react_router[\"g\" /* withRouter */])(mediaControls_MediaControls));\n// CONCATENATED MODULE: ./src/components/logo.jsx\nvar logo_templateObject,logo_templateObject2;var SVGWrapper=Object(emotion_styled_browser_esm[\"a\" /* default */])(\"div\")(logo_templateObject||(logo_templateObject=Object(taggedTemplateLiteral[\"a\" /* default */])([\"\\n  height: 100%;\\n  width: 100%;\\n\\n  > svg {\\n    object-fit: contain;\\n    width: 100%;\\n    height: 100%;\\n    max-width: 100%;\\n    max-height: 100%;\\n  }\\n\"])));var logo_SVGLogo=function SVGLogo(props){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(SVGWrapper,{children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"svg\",Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({\"data-name\":\"Layer 1\",viewBox:\"0 0 360 150.82\",width:\"1em\",height:\"1em\"},props),{},{children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"defs\",{children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"linearGradient\",{id:\"Wordmark_svg__a\",x1:118.62,y1:69.31,x2:345.43,y2:181.87,gradientTransform:\"matrix(1 0 0 -1 0 150.95)\",gradientUnits:\"userSpaceOnUse\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"stop\",{offset:0,stopColor:\"#3d2f90\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"stop\",{offset:1,stopColor:\"#ea0578\"})]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"linearGradient\",{id:\"Wordmark_svg__b\",x1:153.2,y1:-0.36,x2:380.02,y2:112.21,xlinkHref:\"#Wordmark_svg__a\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"linearGradient\",{id:\"Wordmark_svg__c\",x1:110.47,y1:85.74,x2:337.28,y2:198.31,xlinkHref:\"#Wordmark_svg__a\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"linearGradient\",{id:\"Wordmark_svg__d\",x1:132.19,y1:41.99,x2:359,y2:154.56,xlinkHref:\"#Wordmark_svg__a\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"linearGradient\",{id:\"Wordmark_svg__e\",x1:98.64,y1:109.56,x2:325.45,y2:222.13,xlinkHref:\"#Wordmark_svg__a\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"linearGradient\",{id:\"Wordmark_svg__f\",x1:130.52,y1:47.49,x2:364.27,y2:163.5,xlinkHref:\"#Wordmark_svg__a\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"linearGradient\",{id:\"Wordmark_svg__g\",x1:13.42,y1:72.58,x2:346.58,y2:72.58,xlinkHref:\"#Wordmark_svg__a\"}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"linearGradient\",{id:\"Wordmark_svg__h\",x1:86.06,y1:89.18,x2:274.73,y2:89.18,gradientUnits:\"userSpaceOnUse\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"stop\",{offset:0.23,stopColor:\"#3d2f90\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"stop\",{offset:1,stopColor:\"#9f1782\"})]})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"g\",{opacity:0.15,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"path\",{d:\"M215.54 86.65h-23.25V41h-10.54v45.65H158.5V41H142l-8.33-20h94.25l-.45 20h-12z\",fill:\"url(#Wordmark_svg__a)\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"path\",{d:\"M339.67 139L254 92.43l22-22.36-21.6-49.25h86.18v8.25L326.36 39l15.87 13.86h-39.14l11.13 24-12.44 12.6z\",fill:\"url(#Wordmark_svg__b)\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"path\",{d:\"M105.76 87.44L88.25 69.73l20.55-49.12h22.4l27.62 66H133.6l-3.38-8.53h-20.79z\",fill:\"url(#Wordmark_svg__c)\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"path\",{d:\"M256.83 86.65h-27.21V21.06h23.24V63h18l3 6.8z\",fill:\"url(#Wordmark_svg__d)\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"path\",{d:\"M21.56 139l38-49.57-12.47-12.67 11.14-24H19l15.87-13.83L20.63 29v-8.28h86.17L85.28 70.13l22 22.3z\",fill:\"url(#Wordmark_svg__e)\"})]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"path\",{d:\"M87.27 125.08a3.06 3.06 0 00.84-.72l-1.65 1.11z\",fill:\"url(#Wordmark_svg__f)\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"path\",{d:\"M343.93 133.36l-88.33-48 22.65-23.05-22.17-50.51h88.81V20l-14.66 10.19 16.35 14.28h-40.34l11.48 24.69-12.82 13.1zM259 84.84L336.51 127l-34.3-44.92 13.07-13.35L303 42.4h38.11L326.92 30l15.93-11.13v-5.39h-83.66l21.48 49.26zm57.7-57.75a4.75 4.75 0 114.74-4.75 4.66 4.66 0 01-4.79 4.75zm0-7.49a2.74 2.74 0 102.74 2.74 2.7 2.7 0 00-2.79-2.74zm-185-7.81l8.3 20.58h17.31v46.21L129.1 11.81H106C99 28.68 91.89 45.08 84.83 62l18 18.25 3.68-9.63h21.59q1.72 4.41 3.47 8.8h49.62v-47h10.88v47H216v-47h12.28V11.8zm1.3 65.55l-3.47-8.8h-24.38l-3.05 8-14.86-15c6.71-16.05 13.42-31.6 20.13-47.64h20.37c8.93 21.32 17.85 42.16 26.77 63.49zm93.34-47H214v47h-19.9v-47h-14.95v47h-19.87v-47h-17.94l-6.77-16.5h91.73zM109.91 55h14.93l-7.47-19.8q-3.73 9.92-7.46 19.8zm2.94-2l4.52-12 4.52 12zm160 2h-18.54V11.8h-23.52l-.43 67.39 28.09.19 17.46-17.29zm-15.24 22.34l-25.21-.18V13.47h19.85V57h19.21l2 4.59zm-155.18 9.09zm0 0zm0 0zM43.4 17.6a4.75 4.75 0 104.75 4.74 4.65 4.65 0 00-4.75-4.74zm0 7.48a2.74 2.74 0 112.74-2.74 2.69 2.69 0 01-2.74 2.74zm38.33 37.55l22.12-50.8H15.12V20l14.65 10.22-16.35 14.27h40.34l-11.48 24.7 12.8 13.11L16.81 133l82.84-45.06 4.68-2.54zm19.37 22.2L23.53 127l34.31-44.91-13.07-13.35L57 42.4H18.89L33.12 30 17.2 18.89v-5h83.62c-5 11.68-21.57 49.2-21.57 49.2z\",fill:\"url(#Wordmark_svg__g)\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"path\",{d:\"M271.62 55.66c-.23-.26-.17-.48-.69-.44a.74.74 0 00-.43 1.21c.08.09-.2.2-.24.18a3.85 3.85 0 00-.44-.19c-.08 0-.13.11-.17-.05s-.34-.41-.52-.35-.05.08-.15 0-.2-.21-.36-.18a26.54 26.54 0 00-6.15 2.16 4.38 4.38 0 01-1.27.5c-.2 0-.37-.38-.65-.23a5.68 5.68 0 01-.77.42c-.19 0-.24-.09-.39 0-3.16 1.26-6.21 2.65-9.28 4.07a6.76 6.76 0 01-1 .32c-1.08.36-2.12.67-3.22 1a15.64 15.64 0 00-3.32 1.12.55.55 0 00.06 1c-2.37 1-4.82 1.88-7.25 2.74-.78.27-.46 1.19.29 1.19-.21.23-.16.1-.43.41a4.37 4.37 0 00-.93 1.57c0 .18.25.49.25.62a1.69 1.69 0 010 .21c-.12 5.6.05 11.16.23 16.75l-.54.15a40.47 40.47 0 01-6 1 21.23 21.23 0 01-3.56.12c-.18 0-.3-.36-.48-.39a.63.63 0 01-.39-.13c-.83-.65-1.57-1-2.38-1.81a18.7 18.7 0 01-2.26-3l.06-.12a7 7 0 01.54-.76c.17-.21.38-.52.58-.75a6.21 6.21 0 00.42-.81 15.73 15.73 0 011.7-2.19c.68-.77.86-.9 1.78-2s3.47-4 4.35-5.13a11.59 11.59 0 001.53-2.28c.22-.44 0-.76.14-1.14a2.57 2.57 0 00.16-.93 2.13 2.13 0 00-.63-1.13 2.94 2.94 0 00-.81-.56c-.31-.15-.52-.31-.86-.44s-.52-.63-.87-.76a4.06 4.06 0 01-1.23-.45c-.34-.26-.76-.78-1.12-.8s-.71.54-1 .76-.81.56-1.09.77.12.4.21.41.34.26.26.33-.31-.13-.51-.07-.34-.14-.62.2c-1.47 1.75-3.95 4.69-5.31 6.22a20.74 20.74 0 00-2.45 3.44c-.32.49-.62.91-1 1.36l-1.12 1.43c-.29.39-.36.47-.61.83v-1.84c0-.84 0-2.07.05-3 0-1.52-.09-3.48-.09-4.9a11.51 11.51 0 00-.72-3.5c-.23-.83.2-1.82.12-2.56s-.46-.72-1-.67a.73.73 0 00-1.24-.76c-.55.61-.73 1.28-1.28 1.77-.88.77-1.84 1.33-2.69 2.12-2.23 0-2.4 1.66-2.55 3.52a1.51 1.51 0 000 .7 4.64 4.64 0 01.05 1c.06.82 0 2 .07 2.68s-.38 1.06-.38 1.55c0 1.71.19 3.36.08 5-.08 1.09-.11 2-.19 3.11-.43-.5-.85-1-1.26-1.51-2.74 1.08-5.55 2.22-8.29 3.15a3.45 3.45 0 01-.66.19c-.23 0-.36.25-.54.21s-.38.18-.54 0a12 12 0 01-1.2-2.32c-.36-.76-.8-1.81-1.1-2.54l-.78-1.88c-.27-.66-.6-1.2-.86-1.86s-.39-1.44-.67-2.11a2.09 2.09 0 01-.08-.23 18 18 0 00-2.83-6.09c-.14-.23-.26-.71-.38-.67a2.44 2.44 0 00-.79 1c-.06.28.64.89.62 1.12s-.58 0-.64-.09 0-.05 0-.15a.66.66 0 00-.25-.37c-.08 0 0-.15 0-.11a12.69 12.69 0 00-.75 1.09 1.39 1.39 0 01-1.69.42c-1.19-.55-2.33-1.15-3.51-1.71a5.54 5.54 0 00-.57-.21c-1.07 2.51-1.71 5.11-3.37 7.32 0 .07-.19.11-.24.16a4.61 4.61 0 00-.76 2 1.91 1.91 0 01-.07.3c-.27.59-.64 1.51-.87 2s.06.6.12.9 0 .07-.09.46a18.56 18.56 0 01-.56 1.78 2.17 2.17 0 000 .51c0 .14.15.28.13.39-.1.61-.3 1.32-.42 1.89s-.32 1.42-.42 1.87-.18.79-.24 1 0 0-.05.09 0 0 0 .06a.1.1 0 010 .09v.07a1 1 0 000 .12v.13a1.27 1.27 0 01-.06.18V92c0 .07 0 0 0 0v.07a.13.13 0 000 .08v.07c0 .07 0-.1 0 0a3.48 3.48 0 01-.1.41v.2c0 .02 0 0 0 0v-.07c0 .01 0 0 0 0v.15c0 .02 0 0 0 0v.25c0 .05 0 0 0 0v.19a.58.58 0 000 .18v.06a.51.51 0 010 .13v.06a.45.45 0 000 .11v.19c0 .04 0 0 0 0a.54.54 0 010 .15s0 .22-.08.31 0-.07 0 0v.11c0 .19-.15.65-.23 1a28.7 28.7 0 00-1.06 5.79 5.35 5.35 0 00.15 1c-.16.21-.32.38-.48.58a2 2 0 01.63.44c.08.12 0 .1 0 .15s-.05 0-.05.06v.08a.33.33 0 010 .14v.14a.26.26 0 000 .15V104.62c0 .07 0-.06 0 0v.35c0 .05.05 0 0 0s0 0 0 .06v1.04c0 .03 0 .06 0 0v.1c0 .03 0 0 0 0v.06c0 .06 0 0 0 0a.31.31 0 010 .1v.09a1.94 1.94 0 010 .24s0-.06 0 0a1.29 1.29 0 010 .19s.06 0 0 .07a.19.19 0 00-.05.11v1.83c0 .21-.06 0 0 0s0 .06 0 .1 0-.06 0 0v.5c0 .02 0 .1 0 0s-.05-.37-.06-.46a1.15 1.15 0 010-.21v-.07-.52-.39a.72.72 0 010-.23v-.05a.16.16 0 000-.09v-.05c0-.05.06 0 0-.07a1.77 1.77 0 01-.05-.32c0-.06.05 0 .06 0a2.36 2.36 0 010-.37v-.07-.05a1.89 1.89 0 00-.06.18v.09a.55.55 0 000 .18v.06c0 .06 0 0 0 0v-.06c0 .01-.06 0-.07 0s0 .14 0 .22V107.65c0 .01 0 0 0 0a.53.53 0 010 .13V108.93a1.07 1.07 0 000 .25v.07a.29.29 0 010 .09V109.83a2.18 2.18 0 000 .25 1.62 1.62 0 000-.22.31.31 0 000-.1v-.06a1.82 1.82 0 010-.33v-.18a.74.74 0 000-.15s0-.06 0 0a1.19 1.19 0 01.05.22v.11a.13.13 0 010 .09v.1s0-.07 0 0a.65.65 0 010 .2v.25a1.48 1.48 0 010 .22.12.12 0 000 .09v-.1c0-.01 0 0 0 0s0-.06 0 0v.12a.46.46 0 010 .14c0 .09.06.4.08.49s0 0 0 .1v.21h.07v-.08-.06s0-.12.05-.11 0 .06.05.08a.15.15 0 010 .07v-.07c0-.03 0 0 0 0a2.64 2.64 0 010-.29c0-.05.05 0 0-.05s0 0 0-.06v-.06-.12a3.23 3.23 0 00.58 1.24 2 2 0 002 .71 34.67 34.67 0 003.8 3.47c.45.33 1.3.2 1.24-.52a42.61 42.61 0 011-11 37.32 37.32 0 00.6-5c0-.45.08-1.23.07-1.71a17.14 17.14 0 001.53 2.92c.6.72 1.28.24 1.25-.47 0 0-.06-.08 0-.1a60.1 60.1 0 015.64-2.31c.5-.17 1-.34 1.54-.48.16.52.51 1.57.66 1.94s0 0 0 .06 0 .2.17.21a1.78 1.78 0 01.88.33c.1.14.1.08.11.12.88 3.28 1.53 6.54 2.08 9.87a.32.32 0 00.54.13c.88-1 1.12-2.38 1.57-3.53s1-2 1.42-3.13c.09-.2.3-.31.43-.5a9.13 9.13 0 001.06-1.91c.06-.15.09-.3.16-.44a3.21 3.21 0 01.24-.36c.1-.15 0-.21 0-.39a6.1 6.1 0 01.13-.84c0-.18 0-.11.06-.27s-.07 0 0-.28a13.8 13.8 0 00.35-1.41.74.74 0 00-.94-.8c-.12-.43-.44-1.16-.54-1.5s-.31-.42-.27-.67-.48-.45-.17-.63c1.12-.7 2.3 0 3.77-1.15A32.81 32.81 0 01202 90.6c.18 1.94.11 4.31.27 6.18 0 .4-.23.13-.32.32a.39.39 0 000 .44c.09.13.18.1.2.24s.28.3.32.39.05 0 0 .13-.36.07-.45.21a.87.87 0 00.06.66c.09.18.25.42.34.56a1.28 1.28 0 01.19.34c0 .16.05.56.07.68s-.06.12-.06.18.08 0 .08 0c.19 1.64.42 3.29.5 4.94a2.84 2.84 0 01-.1.65c0 .21.11.38.12.56a10.85 10.85 0 01-.16 2.28c-.05.27-.32.45-.4.71-.26.8.47 1.49 1.21.92 0 0-.06 0 0-.05a.86.86 0 00.47-.37c.13-.25.62-1 .74-1.24-.13.32-.36.7-.49 1.05-.3.87.78 1.61 1.28.76.92-1.54 1.55-3.23 2.43-4.76.06-.1.25 0 .35-.06a6.31 6.31 0 001.88-2.61 34.47 34.47 0 001-3.31 8.37 8.37 0 01.37-1.35c.51-1.24 1.26-2.64 1.92-3.87a7 7 0 001.44 1 37.56 37.56 0 006.37 1.92c.34.09.52.23.78.29s.19 0 .47 0 1.18.28 1.39.34.14.1.19.11a15.09 15.09 0 002.6.38 16.39 16.39 0 003 0c.37 0 .78-.15 1.14-.18 1.2-.12 2.37-.19 3.55-.4 0 .65.12 1.31.12 1.95 0 .12-.15.19-.18.32a3.18 3.18 0 00.54 2.85v1c0 1.14-.17 2.53.6 3.52 0 0 .12.07.13.12.13.8.33 1.8 1.26 1.86a7.35 7.35 0 002.34-.51c1-.21 1.82-.49 3-.75s2.4-.69 3.77-.94 3.3-.54 4.71-.93 2.45-.83 3.88-1.29 3.22-.75 4.7-1.24a.74.74 0 00-.21-1.46 14.51 14.51 0 00-2.94.61 13 13 0 002.63-1.16c.33-.21.9-.4.95-.72.19-1.07.35-2.65.61-3.58s.42-1.3.6-2.06c.05-.19-.18-.39-.36-.45s-.58 0-.82-.17-.51-.4-.74-.62-.53-.57-.77-.76-.55-.6-.86-.51a20 20 0 01-2.52.94 12.39 12.39 0 00-2.31 1.1c-.93.33-1.95.21-2.76.47s-1.4.36-2.12.57a18.91 18.91 0 01-2.18.46 4.08 4.08 0 01-1.64-.23v-2.94c0-1.04 0-2.21-.05-3.27a3.52 3.52 0 001.21 0c.43-.12 1 .12 1.42.07s.78-.35 1.15-.27a1.9 1.9 0 00.94-.15 1.42 1.42 0 01.4-.06h.61a7.28 7.28 0 002.23-.54.85.85 0 01.19-.09c.14 0 .74-.26.86-.28s.13-.13.15-.08c.32.61.9.44 1.31.2s.57-.36.59-.75-.05-1 0-1.26.16-.18.21-.26c.34-.52 1.11-1.1 1.35-1.54a1.51 1.51 0 00-.06-1.19 1.94 1.94 0 00-.5-1c-.21-.11-.79 0-.91-.12 0-.77.06-1.52.12-2.28 0-.23-.1-.35-.16-.53a.79.79 0 00-1.52-.09c0 .07 0 .21-.06.21s0 0-.19-.06-.33-.36-.8-.23-1.08.32-1.78.45-1.89.45-2.69.54c-1.28.14-2.79.89-4 .32-.27-.12.69-3.9.7-4.3s-.07-.26 0-.28c2.09-1 4.15-2.11 6.25-3.08 2.62-1.21 5.27-2.3 7.95-3.35 2-.79 4.08-1.48 6.13-2.18-.12-.31-.1-.59.26-.75 1.25-.57 2.59-1 3.9-1.43a6.92 6.92 0 001.3-.5 1.15 1.15 0 00.29-.84c0-.09-.5.11-.76.09a4.71 4.71 0 01-1 0c-.43-.07-.93-.73-.46-1.17.08-.07.12.2.21.19s.14.08.22.08h.13c-.07 0-.1 0 0 0a.69.69 0 00.32 0h.07c.07 0 .06 0 .22-.11a1 1 0 00.39-.77.66.66 0 00-.48-.61c-.31-.11-.52.15-.7.31a2.08 2.08 0 00-.37.35c-.13.16.14.28-.08.39a2.21 2.21 0 01-1 .15c-.52 0-.78-.88-.32-1.26s1.09-.47 1.31-.74 0-.74 0-.81a4.37 4.37 0 00-.94.13c-.22 0-.81-.27-.83-.41s-.09 0 .08 0 .59 0 .94.09a1.1 1.1 0 001.27-1.19c-.06-.64-.78-.76-1-.87s-.39 0-.31-.06a22.56 22.56 0 012.11-1.2 2.39 2.39 0 00.34-.18c.23-.14.78-.39 1.14-.58.75-.4 1.63-.8 2.4-1.23.16-.08.33-.09.48-.27s.26-.71.41-1c-1.07.44-2.12.85-3.15 1.22zm-90.93 35.1c-1 .21-1.92.39-2.88.57a1.85 1.85 0 01-.54.11c-.15 0-.56.22-.57.09a4 4 0 01.33-1c.1-.34.29-.69.42-1.09a29.15 29.15 0 011.09-2.94c.42-1 1-1.91 1.48-2.89.07-.15.14-.42.2-.59.58 1.16 1.16 2.37 1.71 3.54s1 2.29 1.58 3.46c-.93.25-1.87.53-2.82.74zm-19.42-16.94a.61.61 0 00-.77-.21l-.36-.33c-1.9-2.24-3.76-4.49-5.8-6.51a.62.62 0 00-.32.47l-.31 2v.23c-.38 2.38-.74 4.73-1.1 7.09a.75.75 0 00.38.8 3.19 3.19 0 01-.45 1.19c0 1.1.16 2.24.22 3.21v2.71a1.22 1.22 0 000 .27 1.09 1.09 0 010 .36 1 1 0 010 .34v1.28a.54.54 0 000 .18v1.54a.17.17 0 010 .14 3.53 3.53 0 010 .65 20.08 20.08 0 01-1 4.78 6.22 6.22 0 01-.29.71 101.58 101.58 0 00-4.11-11.21 7.49 7.49 0 00-.24-1.39.2.2 0 01.29 0l-.09.11a1.93 1.93 0 010-.34.49.49 0 000-.24 1.81 1.81 0 00-.22-.32v-.2h.15c.16 0 .18 0 .2-.31a10.6 10.6 0 00-.6-1.33c-.45-3-.79-5.92-1-9a.73.73 0 00-.76-.68 4 4 0 01-.16-.45 1 1 0 00-.22-.34l-.36.3a66.17 66.17 0 01-7.72 8.25c-.49.74-1 1.48-1.43 2.24V80a1.27 1.27 0 01.9.87.77.77 0 00.4-.29l.36-.52c-.5 2.61-1 5.21-1.55 7.79L134 93.71a28.65 28.65 0 00-1 5.74.25.25 0 00.25.25c-.2 1-.43 2.11-.63 3.12a.58.58 0 00-.31.63 7.39 7.39 0 001.25 2.49c.29.47.63 1 1 1.61s.89 1.48 1.39 2.24a13.37 13.37 0 001.59 1.93 4.63 4.63 0 00.65.52 43.92 43.92 0 012.09 4 .72.72 0 001.32-.17l2.76-15.3.2.36c.16-.41 2.09-1.77 2.09-1.06v.45a.46.46 0 01.42.27c.59 1.26 4 8 4.49 9a37.3 37.3 0 003 4.8 18.27 18.27 0 012.51 2.69.72.72 0 001 .23.73.73 0 00.33-.58c.52-4.06 1.95-11.65 2.09-15.71a4.18 4.18 0 01.51-.8c.05-1 .15-2 .3-3 0-1.06.18-2 .26-2.94.39-2.92.74-5.83 1.13-8.73.29-2.24.62-4.48.83-6.72a7.27 7.27 0 00-2.25-5.21zm-25.46-11.64l-.63.92a.67.67 0 00-.88-.37l-.27.13a.75.75 0 00-.31-.6.53.53 0 000-.74.53.53 0 00-.25-.63 1.19 1.19 0 00-.6-.2.51.51 0 00-.25-.59 12.81 12.81 0 001.3-.74.61.61 0 010-.27 2.18 2.18 0 01.61-.6l-2.25 1.59a1.09 1.09 0 00-.67 0 .72.72 0 00-.54 0 .68.68 0 00-.49.63c-1.12.65-2.24 1.34-3.3 2H127a1.36 1.36 0 00-.81.62l-2.24 1.4a16.6 16.6 0 00-2.87 1.9l-.94.49q.33-.27.69-.51c2.25-1.66 4.65-3.21 6.73-5.07.43-.36 0-1-.58-.74a59.61 59.61 0 00-7.25 4.87c-2.24 1.7-4.68 3.43-7 5.2-4.49 3.45-9.13 6.95-13.46 10.77a.62.62 0 00-.25.47 12 12 0 00-2.78 2.35c.49 3.12 2.74 5.5 4.22 8.28a71.94 71.94 0 019.4 2c1 .29 2 .61 2.91.94a8 8 0 012.8 1.28 4.35 4.35 0 01.66 4.73 30.7 30.7 0 01-3.95 3.7c-1.64.81-3.28 1.6-4.89 2.43s-2.83 1.48-4.22 2.24a1 1 0 010 .25c-.85.27-1.68.67-2.35.89a45 45 0 00-5 2 .56.56 0 00-.19.77.53.53 0 00.37.26.5.5 0 00.11.69.5.5 0 00.43.08 23.27 23.27 0 004.24-1.8l.29-.13a89 89 0 01-10.45 7.42c-1.51 1-3 2-4.49 3a.69.69 0 01.16.18 47.72 47.72 0 017.49-4.26c.54-.25 1.14.42.65.87a52.65 52.65 0 00-4.17 3.57l.45-.16H91a24.48 24.48 0 013.22-1.86.83.83 0 011.08.47l.16-.13h.13l1-.41-1.26.7a.51.51 0 01-.22.54l-.18.13a7.83 7.83 0 00.92-.45l.38-.24c.56-.36 1 .38.67.83 1.8-1 3.59-1.91 5.41-2.79a.73.73 0 000 .36l-.36.23a.33.33 0 00.25.6 36.92 36.92 0 004.1-1.32l2.92-1.68.38-.2a5.38 5.38 0 011.5 0 .36.36 0 00.42-.29 1.14 1.14 0 010-.45.34.34 0 00.54.36 4.73 4.73 0 01.83-.78 23.8 23.8 0 004.19-2.25 11.66 11.66 0 002.13-1.25l1.21-.94c.65-.43 1.28-.86 1.89-1.33l.53-.45a8.8 8.8 0 001.44-1.14 11.53 11.53 0 011.39-.92.29.29 0 00.13-.39l.59-.89a18.3 18.3 0 001.84-4.49 14.38 14.38 0 00.33-5 7.1 7.1 0 00-.74-2.67l-.69-1.37c-.39-.77-.82-1.52-1.28-2.24a16.27 16.27 0 00-3.52-3.26 23.53 23.53 0 00-4.49-2.24 18.39 18.39 0 01-4.73-1.68.6.6 0 01-.2-.27c3-1.91 6-3.9 9-5.85 3.72-2.45 7.58-4.8 11.21-7.5l2.47-1.25v-.18a1.23 1.23 0 01-.81-1 1.3 1.3 0 01-.47-.85.48.48 0 00.16-.12 4.48 4.48 0 00.94-2.24.57.57 0 00.82 0 .53.53 0 00.17-.25 4.17 4.17 0 000-.5.7.7 0 00-.65-.63c.24-.42.47-.87.71-1.27a.58.58 0 00-.51-.65z\",fill:\"url(#Wordmark_svg__h)\"})]}))});};var StyledLogo=Object(emotion_styled_browser_esm[\"a\" /* default */])(logo_SVGLogo)(logo_templateObject2||(logo_templateObject2=Object(taggedTemplateLiteral[\"a\" /* default */])([\"\\n  > path {\\n    fill: \",\";\\n  }\\n\"])),function(_ref){var color=_ref.color,theme=_ref.theme;return!color?theme===themes.dark?colors.white:colors.purple:color;});/* harmony default export */ var logo = (StyledLogo);\n// EXTERNAL MODULE: ./src/components/game/GamePage.module.css\nvar GamePage_module = __webpack_require__(36);\nvar GamePage_module_default = /*#__PURE__*/__webpack_require__.n(GamePage_module);\n\n// CONCATENATED MODULE: ./src/components/game.jsx\nvar game_templateObject,game_templateObject2,game_templateObject3,game_templateObject4,_templateObject5,_templateObject6,_templateObject7;//import BlankState from \"./blank-state\";\n//import GameNotFound from \"./game-not-found\";\nvar BoardTitle=Object(emotion_styled_browser_esm[\"a\" /* default */])(\"div\")(function(_ref){var theme=_ref.theme;return{fontSize:\"2rem\",fontWeight:\"600\",textAlign:\"center\",textTransform:\"uppercase\",color:theme===themes.dark?colors.lightText:colors.darkText};});var HeaderWrapper=Object(emotion_styled_browser_esm[\"a\" /* default */])(\"div\")(game_templateObject||(game_templateObject=Object(taggedTemplateLiteral[\"a\" /* default */])([\"\\n  display: flex;\\n  flex-direction: column;\\n  justify-content: center;\\n  margin: 0.5rem 0;\\n  text-align: center;\\n\\n  @media (min-width: \",\") {\\n    padding-top: 1rem;\\n    padding-bottom: 2rem;\\n  }\\n\"])),breakpoints.xxl);var LogoWrapper=Object(emotion_styled_browser_esm[\"a\" /* default */])(\"div\")(game_templateObject2||(game_templateObject2=Object(taggedTemplateLiteral[\"a\" /* default */])([\"\\n  width: 100%;\\n  height: 5rem;\\n\\n  @media (min-width: \",\") {\\n    height: 8rem;\\n  }\\n\\n  @media (min-width: \",\") {\\n    height: 16rem;\\n  }\\n\"])),breakpoints.lg,breakpoints.xxl);var TurnCount=Object(emotion_styled_browser_esm[\"a\" /* default */])(\"div\")(game_templateObject3||(game_templateObject3=Object(taggedTemplateLiteral[\"a\" /* default */])([\"\\n  font-size: 2rem;\\n  font-weight: 600;\\n  text-transform: uppercase;\\n  color: \",\";\\n\\n  @media (min-width: \",\") {\\n    font-size: 3rem;\\n  }\\n\"])),function(_ref2){var theme=_ref2.theme;return theme===themes.dark?colors.lightText:colors.darkText;},breakpoints.xxl);var TurnCountValue=Object(emotion_styled_browser_esm[\"a\" /* default */])(\"span\")(game_templateObject4||(game_templateObject4=Object(taggedTemplateLiteral[\"a\" /* default */])([\"\\n  display: inline-block;\\n  width: 6rem;\\n\"])));var BoardWrapper=Object(emotion_styled_browser_esm[\"a\" /* default */])(\"div\")(_templateObject5||(_templateObject5=Object(taggedTemplateLiteral[\"a\" /* default */])([\"\\n  display: flex;\\n  flex-direction: column;\\n  width: 100%;\\n  height: 100%;\\n\\n  @media (min-width: \",\") {\\n    width: \",\";\\n  }\\n\"])),breakpoints.md,function(_ref3){var hideScoreboard=_ref3.hideScoreboard;return hideScoreboard?\"100%\":\"60vw\";});var ScoreboardWrapper=Object(emotion_styled_browser_esm[\"a\" /* default */])(\"div\")(_templateObject6||(_templateObject6=Object(taggedTemplateLiteral[\"a\" /* default */])([\"\\n  display: none;\\n  width: 40vw;\\n  padding: 0 2rem;\\n\\n  @media (min-width: \",\") {\\n    display: \",\";\\n  }\\n\"])),breakpoints.md,function(_ref4){var hide=_ref4.hide;return hide?\"none\":\"block\";});var Ruleset=Object(emotion_styled_browser_esm[\"a\" /* default */])(\"p\")(_templateObject7||(_templateObject7=Object(taggedTemplateLiteral[\"a\" /* default */])([\"\\n  margin: 0.25rem;\\n  width: 100%;\\n  font-size: 1.2rem;\\n  text-align: center;\\n  color: #aaa;\\n  text-transform: capitalize;\\n\"])));var game_Game=/*#__PURE__*/function(_React$Component){Object(inherits[\"a\" /* default */])(Game,_React$Component);var _super=Object(createSuper[\"a\" /* default */])(Game);function Game(){Object(classCallCheck[\"a\" /* default */])(this,Game);return _super.apply(this,arguments);}Object(createClass[\"a\" /* default */])(Game,[{key:\"componentDidMount\",value:function componentDidMount(){var options=this.props.options;this.props.togglePlayButtons(\"show\");if(options.theme){this.props.toggleTheme(options.theme);}if(!(options.game&&options.engine)){this.invalidArgs=true;// return;\n}this.hideLogo=options.hideLogo===\"true\";this.hideScoreboard=options.hideScoreboard===\"true\";this.showFrameScrubber=options.showFrameScrubber;this.title=options.title&&decodeURIComponent(options.title);this.props.setGameOptions(options);if(this.props.frames.length===0){this.props.fetchFrames();}}},{key:\"render\",value:function render(){/*\n    if (this.invalidArgs) {\n      return <BlankState />;\n    }\n\n    if (this.props.gameNotFound) {\n      return <GameNotFound />;\n    }\n    */if(this.props.currentFrame){return this.renderGame();}return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(loading_indicator,{});}},{key:\"renderGame\",value:function renderGame(){var _this$props=this.props,currentFrame=_this$props.currentFrame,options=_this$props.options;return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"main\",{className:options.theme,children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"section\",{className:GamePage_module_default.a.game,children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(BoardWrapper,{hideScoreboard:this.hideScoreboard,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(BoardTitle,{theme:options.theme,children:this.title}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(board,{snakes:currentFrame.snakes,food:currentFrame.food,foodImage:options.foodImage,hazards:currentFrame.hazards,columns:this.props.grid.width,rows:this.props.grid.height,highlightedSnake:this.props.highlightedSnake,theme:options.theme,turn:currentFrame.turn,showCoordinateLabels:options.showCoordinateLabels}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(mediaControls,{currentFrame:currentFrame,hideControls:options.hideMediaControls===\"true\",reloadGame:this.props.reloadGame,toggleGamePause:this.props.toggleGamePause,stepBackwardFrame:this.props.stepBackwardFrame,stepForwardFrame:this.props.stepForwardFrame,stepToTurn:this.props.stepToTurn,pauseGame:this.props.pauseGame,paused:this.props.paused,theme:options.theme,persistAvailable:options.persistAvailable,maxTurn:this.props.frames[this.props.frames.length-1].turn,showFrameScrubber:this.showFrameScrubber,hasAllFrames:this.props.hasAllFrames})]}),!this.hideScoreboard&&/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(ScoreboardWrapper,{children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(HeaderWrapper,{children:[!this.hideLogo&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(LogoWrapper,{children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(logo,{theme:options.theme})}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(TurnCount,{theme:options.theme,children:[\"Turn \",/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(TurnCountValue,{children:currentFrame.turn})]})]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(scoreboard,{turn:currentFrame.turn,snakes:currentFrame.snakes,food:currentFrame.food,highlightSnake:this.props.highlightSnake,theme:options.theme}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Ruleset,{children:[\"Rules: \",this.props.ruleset.name]})]})]})});}}]);return Game;}(react_default.a.Component);/* harmony default export */ var components_game = (game_Game);\n// CONCATENATED MODULE: ./src/actions/action-types.js\nvar SET_GAME_OPTIONS=\"SET_GAME_OPTIONS\";var SET_THEME=\"SET_THEME\";var GAME_OVER=\"GAME_OVER\";var GAME_NOT_FOUND=\"GAME_NOT_FOUND\";var FETCH_FRAMES=\"FETCH_FRAMES\";var REQUEST_FRAMES=\"REQUEST_FRAMES\";var RECEIVE_FRAME=\"RECEIVE_FRAME\";var SET_CURRENT_FRAME=\"SET_CURRENT_FRAME\";var PAUSE_GAME=\"PAUSE_GAME\";var RESUME_GAME=\"RESUME_GAME\";var HIGHLIGHT_SNAKE=\"HIGHLIGHT_SNAKE\";var RECEIVE_EVENT_END=\"RECEIVE_EVENT_END\";var TOGGLE_SETTINGS_VIEW=\"TOGGLE_SETTINGS_VIEW\";var THEME_CHANGED=\"THEME_CHANGED\";\n// CONCATENATED MODULE: ./src/components/settings/defaults.js\nvar DEFAULT_FRAMERATE=6;var initialSettings={frameRate:DEFAULT_FRAMERATE,theme:themes.light,autoplay:false,showFrameScrubber:false,persistAvailable:false,showCoordinateLabels:false};\n// CONCATENATED MODULE: ./src/actions/index.js\nvar actions_setGameOptions=function setGameOptions(gameOptions){return{type:SET_GAME_OPTIONS,gameOptions:gameOptions};};var actions_setTheme=function setTheme(theme){return{type:SET_THEME,theme:theme};};var actions_gameOver=function gameOver(){return{type:GAME_OVER};};var actions_gameNotFound=function gameNotFound(){return{type:GAME_NOT_FOUND};};var actions_requestFrames=function requestFrames(){return{type:REQUEST_FRAMES};};var actions_receiveFrame=function receiveFrame(game,frame){return{type:RECEIVE_FRAME,game:game,frame:frame};};var actions_receiveEventEnd=function receiveEventEnd(game,endEvent,frame){return{type:RECEIVE_EVENT_END,game:game,endEvent:endEvent,frame:frame};};var actions_setCurrentFrame=function setCurrentFrame(frame){return{type:SET_CURRENT_FRAME,frame:frame};};var actions_pauseGame=function pauseGame(){return{type:PAUSE_GAME};};var actions_resumeGame=function resumeGame(){return{type:RESUME_GAME};};var actions_highlightSnake=function highlightSnake(snakeId){return{type:HIGHLIGHT_SNAKE,snakeId:snakeId};};var actions_fetchFrames=function fetchFrames(){return/*#__PURE__*/function(){var _ref=Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/regenerator_default.a.mark(function _callee(dispatch,getState){var _getState$game$gameOp,autoplay,engineUrl,gameId,turn,frame;return regenerator_default.a.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_getState$game$gameOp=getState().game.gameOptions,autoplay=_getState$game$gameOp.autoplay,engineUrl=_getState$game$gameOp.engine,gameId=_getState$game$gameOp.game,turn=_getState$game$gameOp.turn;console.log(\"a\");dispatch(actions_requestFrames());_context.prev=3;_context.next=6;return streamAllEvents(engineUrl,gameId,function(game,eventType,eventData){if(eventType===\"frame\"){var frame=eventData;// Workaround for bug where turn exluded on turn 0\n// Workaround for bug where turn exluded on turn 0\nframe.Turn=frame.Turn||0;dispatch(actions_receiveFrame(game,frame));// Workaround to render the first frame into the board\n// Workaround to render the first frame into the board\nif(frame.Turn===0){var _frame=getState().game.frames[0];dispatch(actions_setCurrentFrame(_frame));if(autoplay){dispatch(actions_resumeGame());dispatch(actions_playFromFrame(_frame));}}}else if(eventType===\"game_end\"){var numFrames=getState().game.frames.length;var _frame2=getState().game.frames[numFrames-1];_frame2.gameOver=true;dispatch(actions_receiveEventEnd(game,eventData,_frame2));}});case 6:_context.next=11;break;case 8:_context.prev=8;_context.t0=_context[\"catch\"](3);return _context.abrupt(\"return\",dispatch(actions_gameNotFound()));case 11:// Only navigate to the specified frame if it is within the\n// amount of frames available in the game\nif(turn&&turn<=getState().game.frames.length){frame=getState().game.frames[turn];dispatch(actions_setCurrentFrame(frame));}case 12:case\"end\":return _context.stop();}}},_callee,null,[[3,8]]);}));return function(_x,_x2){return _ref.apply(this,arguments);};}();};var actions_playFromFrame=function playFromFrame(frame){return/*#__PURE__*/function(){var _ref2=Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/regenerator_default.a.mark(function _callee2(dispatch,getState){var frameRate,frames,frameIndex,slicedFrames,ceiledFps,delayMillis,_iterator,_step,_frame4,lastFrame,_frame3;return regenerator_default.a.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:frameRate=getState().game.gameOptions.frameRate;frames=getState().game.frames.slice();// Don't modify in place\nframeIndex=frames.indexOf(frame);slicedFrames=frames.slice(frameIndex);ceiledFps=Math.ceil(frameRate||DEFAULT_FRAMERATE);delayMillis=1000/ceiledFps;_iterator=Object(createForOfIteratorHelper[\"a\" /* default */])(slicedFrames);_context2.prev=7;_iterator.s();case 9:if((_step=_iterator.n()).done){_context2.next=18;break;}_frame4=_step.value;if(!getState().game.paused){_context2.next=13;break;}return _context2.abrupt(\"return\");case 13:dispatch(actions_setCurrentFrame(_frame4));_context2.next=16;return delay(delayMillis);case 16:_context2.next=9;break;case 18:_context2.next=23;break;case 20:_context2.prev=20;_context2.t0=_context2[\"catch\"](7);_iterator.e(_context2.t0);case 23:_context2.prev=23;_iterator.f();return _context2.finish(23);case 26:lastFrame=slicedFrames[slicedFrames.length-1];if(lastFrame.gameOver){if(!getState().game.paused){if(getState().game.gameOptions.loop){_frame3=getFrameByTurn(frames,0);dispatch(playFromFrame(_frame3));}else{dispatch(actions_gameOver());}}}else{dispatch(playFromFrame(lastFrame));}case 28:case\"end\":return _context2.stop();}}},_callee2,null,[[7,20,23,26]]);}));return function(_x3,_x4){return _ref2.apply(this,arguments);};}();};var actions_reloadGame=function reloadGame(){return/*#__PURE__*/function(){var _ref3=Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/regenerator_default.a.mark(function _callee3(dispatch,getState){var _getState$game,frames,paused,frame;return regenerator_default.a.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:_getState$game=getState().game,frames=_getState$game.frames,paused=_getState$game.paused;if(paused){frame=getFrameByTurn(frames,0);dispatch(actions_setCurrentFrame(frame));}case 2:case\"end\":return _context3.stop();}}},_callee3);}));return function(_x5,_x6){return _ref3.apply(this,arguments);};}();};var actions_toggleGamePause=function toggleGamePause(){return/*#__PURE__*/function(){var _ref4=Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/regenerator_default.a.mark(function _callee4(dispatch,getState){var _getState$game2,currentFrame,paused;return regenerator_default.a.wrap(function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:_getState$game2=getState().game,currentFrame=_getState$game2.currentFrame,paused=_getState$game2.paused;if(paused){dispatch(actions_resumeGame());dispatch(actions_playFromFrame(currentFrame));}else{dispatch(actions_pauseGame());}case 2:case\"end\":return _context4.stop();}}},_callee4);}));return function(_x7,_x8){return _ref4.apply(this,arguments);};}();};var actions_pauseGameAction=function pauseGameAction(){return/*#__PURE__*/function(){var _ref5=Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/regenerator_default.a.mark(function _callee5(dispatch,getState){var paused;return regenerator_default.a.wrap(function _callee5$(_context5){while(1){switch(_context5.prev=_context5.next){case 0:paused=getState().game.paused;if(!paused){dispatch(actions_pauseGame());}case 2:case\"end\":return _context5.stop();}}},_callee5);}));return function(_x9,_x10){return _ref5.apply(this,arguments);};}();};var actions_toggleTheme=function toggleTheme(themeToSet){return/*#__PURE__*/function(){var _ref6=Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/regenerator_default.a.mark(function _callee6(dispatch){return regenerator_default.a.wrap(function _callee6$(_context6){while(1){switch(_context6.prev=_context6.next){case 0:dispatch(actions_setTheme(themeToSet));case 1:case\"end\":return _context6.stop();}}},_callee6);}));return function(_x11){return _ref6.apply(this,arguments);};}();};var actions_stepForwardFrame=function stepForwardFrame(){return/*#__PURE__*/function(){var _ref7=Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/regenerator_default.a.mark(function _callee7(dispatch,getState){var _getState$game3,currentFrame,frames,nextFrame,stepToFrame;return regenerator_default.a.wrap(function _callee7$(_context7){while(1){switch(_context7.prev=_context7.next){case 0:_getState$game3=getState().game,currentFrame=_getState$game3.currentFrame,frames=_getState$game3.frames;nextFrame=currentFrame.turn+1;stepToFrame=getFrameByTurn(frames,nextFrame);if(stepToFrame){dispatch(actions_setCurrentFrame(stepToFrame));}case 4:case\"end\":return _context7.stop();}}},_callee7);}));return function(_x12,_x13){return _ref7.apply(this,arguments);};}();};var actions_stepBackwardFrame=function stepBackwardFrame(){return/*#__PURE__*/function(){var _ref8=Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/regenerator_default.a.mark(function _callee8(dispatch,getState){var _getState$game4,currentFrame,frames,prevFrame,stepToFrame;return regenerator_default.a.wrap(function _callee8$(_context8){while(1){switch(_context8.prev=_context8.next){case 0:_getState$game4=getState().game,currentFrame=_getState$game4.currentFrame,frames=_getState$game4.frames;prevFrame=currentFrame.turn-1;stepToFrame=getFrameByTurn(frames,prevFrame);if(stepToFrame){dispatch(actions_setCurrentFrame(stepToFrame));}case 4:case\"end\":return _context8.stop();}}},_callee8);}));return function(_x14,_x15){return _ref8.apply(this,arguments);};}();};var actions_stepToTurn=function stepToTurn(turn){return/*#__PURE__*/function(){var _ref9=Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/regenerator_default.a.mark(function _callee9(dispatch,getState){var frames,stepToFrame;return regenerator_default.a.wrap(function _callee9$(_context9){while(1){switch(_context9.prev=_context9.next){case 0:frames=getState().game.frames;stepToFrame=getFrameByTurn(frames,turn);if(stepToFrame){dispatch(actions_setCurrentFrame(stepToFrame));}case 3:case\"end\":return _context9.stop();}}},_callee9);}));return function(_x16,_x17){return _ref9.apply(this,arguments);};}();};var actions_togglePlayButtons=function togglePlayButtons(showHide){return{type:TOGGLE_SETTINGS_VIEW,showHide:showHide};};var actions_themeChanged=function themeChanged(theme){return{type:THEME_CHANGED,theme:theme};};\n// CONCATENATED MODULE: ./src/components/game/GamePage.jsx\nvar GamePage_options=parseQueryString(window.location.search);if(typeof GamePage_options.autoplay!==\"undefined\"){GamePage_options.autoplay=GamePage_options.autoplay===\"true\";}if(typeof GamePage_options.showFrameScrubber!==\"undefined\"){GamePage_options.showFrameScrubber=GamePage_options.showFrameScrubber===\"true\";}var GamePage_mapStateToProps=function mapStateToProps(state){var gameState=state.game;var settings=state.settings;return{options:Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},settings),GamePage_options),ruleset:gameState.ruleset,grid:gameState.grid,gameNotFound:gameState.gameNotFound,paused:gameState.paused,currentFrame:gameState.currentFrame,frames:gameState.frames,highlightedSnake:gameState.highlightedSnake,theme:GamePage_options.boardTheme||settings.theme,hasAllFrames:!!gameState.endEvent};};var GamePage_mapDispatchToProps=function mapDispatchToProps(dispatch){return{setGameOptions:function setGameOptions(options){return dispatch(actions_setGameOptions(options));},fetchFrames:function fetchFrames(){return dispatch(actions_fetchFrames());},toggleTheme:function toggleTheme(theme){return dispatch(actions_toggleTheme(theme));},reloadGame:function reloadGame(){return dispatch(actions_reloadGame());},toggleGamePause:function toggleGamePause(paused){return dispatch(actions_toggleGamePause(paused));},pauseGame:function pauseGame(){return dispatch(actions_pauseGameAction());},stepForwardFrame:function stepForwardFrame(){return dispatch(actions_stepForwardFrame());},stepBackwardFrame:function stepBackwardFrame(){return dispatch(actions_stepBackwardFrame());},stepToTurn:function stepToTurn(i){return dispatch(actions_stepToTurn(i));},highlightSnake:function highlightSnake(snakeId){return dispatch(actions_highlightSnake(snakeId));},togglePlayButtons:function togglePlayButtons(showHide){return dispatch(actions_togglePlayButtons(showHide));}};};/* harmony default export */ var GamePage = (Object(es[\"b\" /* connect */])(GamePage_mapStateToProps,GamePage_mapDispatchToProps)(components_game));\n// EXTERNAL MODULE: ./node_modules/@reduxjs/toolkit/dist/redux-toolkit.esm.js + 4 modules\nvar redux_toolkit_esm = __webpack_require__(26);\n\n// CONCATENATED MODULE: ./src/app/storage.js\nfunction storageAvailable(type){var storage;try{storage=window[type];var x=\"__storage_test__\";storage.setItem(x,x);storage.removeItem(x);return true;}catch(e){return(e instanceof DOMException&&// everything except Firefox\ne.code===22||// Firefox\ne.code===1014||// test name field too, because code might not be present\n// everything except Firefox\ne.name===\"QuotaExceededError\"||// Firefox\ne.name===\"NS_ERROR_DOM_QUOTA_REACHED\")&&// acknowledge QuotaExceededError only if there's something already stored\nstorage&&storage.length!==0;}}function getLocalSetting(key){if(storageAvailable(\"localStorage\")){return window.localStorage.getItem(key);}}function setLocalSetting(key,value){if(storageAvailable(\"localStorage\")){window.localStorage.setItem(key,value);}}function rehydrateLocalSettings(){var checkAutoplay=getLocalSetting(\"autoplay\");var checkShowFrameScrubber=getLocalSetting(\"showFrameScrubber\");var showCoordinateLabels=getLocalSetting(\"showCoordinateLabels\");if(typeof checkAutoplay===\"undefined\"){checkAutoplay=initialSettings.autoplay;}else{checkAutoplay=checkAutoplay===\"true\";}if(typeof checkShowFrameScrubber===\"undefined\"){checkShowFrameScrubber=initialSettings.showFrameScrubber;}else{checkShowFrameScrubber=checkShowFrameScrubber===\"true\";}if(typeof showCoordinateLabels===\"undefined\"){showCoordinateLabels=initialSettings.showCoordinateLabels;}else{showCoordinateLabels=showCoordinateLabels===\"true\";}return{frameRate:Number(getLocalSetting(\"frameRate\"))||DEFAULT_FRAMERATE,theme:getLocalSetting(\"theme\")||initialSettings.theme,showFrameScrubber:checkShowFrameScrubber,autoplay:checkAutoplay,showCoordinateLabels:showCoordinateLabels};}\n// CONCATENATED MODULE: ./src/components/settings/settings-slice.js\nvar settingsSlice=Object(redux_toolkit_esm[\"b\" /* createSlice */])({name:\"settings\",initialState:initialSettings,reducers:{frameRateUpdated:function frameRateUpdated(state,action){state.frameRate=action.payload;},themeSelected:function themeSelected(state,action){state.theme=action.payload;},autoPlayUpdated:function autoPlayUpdated(state,action){state.autoplay=action.payload;},showFrameScrubberUpdated:function showFrameScrubberUpdated(state,action){state.showFrameScrubber=action.payload;},showCoordinateLabelsUpdated:function showCoordinateLabelsUpdated(state,action){state.showCoordinateLabels=action.payload;}}});// toolkit generates the actions for us\nvar _settingsSlice$action=settingsSlice.actions,frameRateUpdated=_settingsSlice$action.frameRateUpdated,themeSelected=_settingsSlice$action.themeSelected,autoPlayUpdated=_settingsSlice$action.autoPlayUpdated,showFrameScrubberUpdated=_settingsSlice$action.showFrameScrubberUpdated,showCoordinateLabelsUpdated=_settingsSlice$action.showCoordinateLabelsUpdated;// The function below is called a selector and allows us to select a value from\n// the state. Selectors can also be defined inline where they're used instead of\n// in the slice file. For example: `useSelector((state: RootState) => state.counter.value)`\nvar currentFrameRate=function currentFrameRate(state){return state.settings.frameRate;};var currentTheme=function currentTheme(state){return state.settings.theme;};var currentAutoplay=function currentAutoplay(state){return state.settings.autoplay;};var currentShowFrameScrubber=function currentShowFrameScrubber(state){return state.settings.showFrameScrubber;};var currentShowCoordinateLabels=function currentShowCoordinateLabels(state){return state.settings.showCoordinateLabels;};function settingsStoreListener(state){if(state.settings.frameRate!==getLocalSetting(\"frameRate\")){setLocalSetting(\"frameRate\",state.settings.frameRate);}if(state.settings.theme!==getLocalSetting(\"theme\")){setLocalSetting(\"theme\",state.settings.theme);}if(state.settings.autoplay!==getLocalSetting(\"autoplay\")){setLocalSetting(\"autoplay\",state.settings.autoplay);}if(state.settings.showFrameScrubber!==getLocalSetting(\"showFrameScrubber\")){setLocalSetting(\"showFrameScrubber\",state.settings.showFrameScrubber);}if(state.settings.showCoordinateLabels!==getLocalSetting(\"showCoordinateLabels\")){setLocalSetting(\"showCoordinateLabels\",state.settings.showCoordinateLabels);}}/* harmony default export */ var settings_slice = (settingsSlice.reducer);\n// EXTERNAL MODULE: ./src/components/settings/playback/PlaybackSpeed.module.css\nvar PlaybackSpeed_module = __webpack_require__(37);\nvar PlaybackSpeed_module_default = /*#__PURE__*/__webpack_require__.n(PlaybackSpeed_module);\n\n// CONCATENATED MODULE: ./src/components/settings/playback/PlaybackSpeed.jsx\nvar SLIDER_SLOW=1;var SLIDER_MEDIUM=2;var SLIDER_FAST=3;var SPEED_SLOW=3;var SPEED_MEDIUM=DEFAULT_FRAMERATE;var SPEED_FAST=20;var speedRanges={SPEED_SLOW:{min:1,max:5},SPEED_MEDIUM:{min:6,max:12},SPEED_FAST:{min:13,max:20}};function valueChanged(e,changeHandler){var fps=SPEED_FAST;var sliderValue=e.target.valueAsNumber||e.target.value;if(sliderValue<=SLIDER_SLOW){fps=SPEED_SLOW;}else if(sliderValue<=SLIDER_MEDIUM){fps=SPEED_MEDIUM;}changeHandler.call(this,fps);}function defaultValueHandler(value){var defaultValue=SLIDER_MEDIUM;if(value<=speedRanges.SPEED_SLOW.max){defaultValue=SLIDER_SLOW;}else if(value>speedRanges.SPEED_MEDIUM.max){defaultValue=SLIDER_FAST;}return defaultValue;}var PlaybackSpeed_PlaybackSpeed=function PlaybackSpeed(props){return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(jsx_runtime[\"Fragment\"],{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{type:\"range\",min:SLIDER_SLOW,max:SLIDER_FAST,value:defaultValueHandler(props.default),onChange:function onChange(e){return valueChanged(e,props.onChange);}}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:PlaybackSpeed_module_default.a.labels,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"span\",{children:\"Slow\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"span\",{children:\"Medium\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"span\",{children:\"Fast\"})]})]});};/* harmony default export */ var playback_PlaybackSpeed = (PlaybackSpeed_PlaybackSpeed);\n// EXTERNAL MODULE: ./src/components/settings/SettingsPage.module.css\nvar SettingsPage_module = __webpack_require__(8);\nvar SettingsPage_module_default = /*#__PURE__*/__webpack_require__.n(SettingsPage_module);\n\n// CONCATENATED MODULE: ./src/components/settings/SettingsPage.jsx\nvar SettingsPage_SettingsPage=function SettingsPage(){var history=Object(react_router[\"f\" /* useHistory */])();var theme=Object(es[\"d\" /* useSelector */])(currentTheme);var playbackSpeed=Object(es[\"d\" /* useSelector */])(currentFrameRate);var autoplay=Object(es[\"d\" /* useSelector */])(currentAutoplay);var showFrameScrubber=Object(es[\"d\" /* useSelector */])(currentShowFrameScrubber);var showCoordinateLabels=Object(es[\"d\" /* useSelector */])(currentShowCoordinateLabels);var dispatch=Object(es[\"c\" /* useDispatch */])();Object(react[\"useEffect\"])(function(){dispatch(actions_togglePlayButtons(\"hide\"));dispatch(actions_pauseGame());});function dispatchSpeedChange(fps){dispatch(frameRateUpdated(fps));}return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"main\",{children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"section\",{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h2\",{children:\"Playback Settings\"}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"fieldset\",{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"legend\",{children:\"Playback Speed\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:SettingsPage_module_default.a.info,children:\"Adjust the playback speed of your games\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:SettingsPage_module_default.a.inputContainer,children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(playback_PlaybackSpeed,{default:playbackSpeed,onChange:dispatchSpeedChange})})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"fieldset\",{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"legend\",{children:\"Theme\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:SettingsPage_module_default.a.info,children:\"Change your game theme colors\"}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:SettingsPage_module_default.a.inputContainer&&SettingsPage_module_default.a.row,children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"label\",{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{type:\"radio\",value:\"light\",name:\"theme\",checked:theme===\"light\",onChange:function onChange(e){return dispatch(themeSelected(e.target.value))&&dispatch(actions_themeChanged(e.target.value));}}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"span\",{className:SettingsPage_module_default.a.radio}),\"Light\"]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"label\",{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{type:\"radio\",value:\"dark\",name:\"theme\",checked:theme===\"dark\",onChange:function onChange(e){return dispatch(themeSelected(e.target.value))&&dispatch(actions_themeChanged(e.target.value));}}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"span\",{className:SettingsPage_module_default.a.radio}),\"Projector\"]})]})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"fieldset\",{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"legend\",{children:\"Autoplay\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:SettingsPage_module_default.a.info,children:\"All games will start playing as soon as the game loads\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:SettingsPage_module_default.a.inputContainer,children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"label\",{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{type:\"checkbox\",name:\"autoplay\",checked:autoplay,onChange:function onChange(e){return dispatch(autoPlayUpdated(e.target.checked));}}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"span\",{className:SettingsPage_module_default.a.checkmark}),autoplay?\"On\":\"Off\"]})})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"fieldset\",{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"legend\",{children:\"Frame Scrubber [EXPERIMENTAL]\"}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:SettingsPage_module_default.a.info,children:[\"Display progress bar that shows current frame and allows quickly jumping to specific frames. \\xA0\",/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"a\",{href:\"https://github.com/BattlesnakeOfficial/feedback/discussions/171\",target:\"_blank\",rel:\"noreferrer\",children:\"Let us know what you think!\"})]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:SettingsPage_module_default.a.inputContainer,children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"label\",{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{type:\"checkbox\",name:\"showFrameScrubber\",checked:showFrameScrubber,onChange:function onChange(e){return dispatch(showFrameScrubberUpdated(e.target.checked));}}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"span\",{className:SettingsPage_module_default.a.checkmark}),showFrameScrubber?\"On\":\"Off\"]})})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"fieldset\",{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"legend\",{children:\"Show Coordinate Labels [EXPERIMENTAL]\"}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:SettingsPage_module_default.a.info,children:[\"Adds coordinate labels to the game board. \\xA0 These go from 0 to the width/height of the board to make it easier to debug games\",/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"a\",{href:\"https://github.com/orgs/BattlesnakeOfficial/discussions/231\",target:\"_blank\",rel:\"noreferrer\",children:\"Let us know what you think!\"})]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:SettingsPage_module_default.a.inputContainer,children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"label\",{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{type:\"checkbox\",name:\"showCoordinateLabels\",checked:showCoordinateLabels,onChange:function onChange(e){return dispatch(showCoordinateLabelsUpdated(e.target.checked));}}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"span\",{className:SettingsPage_module_default.a.checkmark}),showCoordinateLabels?\"On\":\"Off\"]})})]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"fieldset\",{className:SettingsPage_module_default.a.centered,children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{onClick:function onClick(){return history.goBack();},children:\"Return to Game\"})})]})});};/* harmony default export */ var settings_SettingsPage = (SettingsPage_SettingsPage);\n// EXTERNAL MODULE: ./src/App.css\nvar src_App = __webpack_require__(53);\n\n// CONCATENATED MODULE: ./src/App.jsx\nvar App_App=function App(){return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(react_router[\"c\" /* Switch */],{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router[\"a\" /* Route */],{path:\"/settings\",component:settings_SettingsPage}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router[\"a\" /* Route */],{component:GamePage})]});};/* harmony default export */ var src_App_0 = (App_App);\n// EXTERNAL MODULE: ./node_modules/lodash.clonedeep/index.js\nvar lodash_clonedeep = __webpack_require__(38);\nvar lodash_clonedeep_default = /*#__PURE__*/__webpack_require__.n(lodash_clonedeep);\n\n// CONCATENATED MODULE: ./src/utils/game-state.js\nvar DEFAULT_DIRECTION=\"right\";var TYPE_HEAD=\"head\";var TYPE_TAIL=\"tail\";var TYPE_BODY=\"body\";function formatFrame(frame){cleanFrame(frame);var snakes=formatSnakes(frame.Snakes);return{turn:frame.Turn,snakes:snakes,food:formatPositions(frame.Food),hazards:formatPositions(frame.Hazards)};}function sanitizeFrame(frame){// Copy without reference\nvar sanitizedFrame=lodash_clonedeep_default()(frame);// nullify some fields\nfor(var i in sanitizedFrame.snakes){var snake=sanitizedFrame.snakes[i];snake.id=snake._id;delete snake._id;delete snake.headSvg;delete snake.tailSvg;}return sanitizedFrame;}function formatSnakes(snakes){if(snakes){var newSnakes=snakes.map(formatSnake);// Populate eliminatedBy names\nnewSnakes.forEach(function(snake,index){if(snake.death&&snake.death.eliminatedBy&&snake.death.eliminatedBy.length>0){for(var i in newSnakes){if(newSnakes[i]._id===snake.death.eliminatedBy){newSnakes[index].death.eliminatedBy=newSnakes[i].name;break;}}}});return newSnakes;}}function formatSnake(snake){var renderedParts=snake.Body.filter(function(_,i){return shouldRenderPart(snake,i);});return{body:snake.Body.map(function(_,i){return formatSnakePart(snake,i);}),color:snake.Color,_id:snake.ID,name:snake.Name,effectiveSpace:renderedParts.length,health:snake.Health,latency:snake.Latency,error:snake.Error,timing:snake.TimingMicros,isDead:!!snake.Death,death:formatDeath(snake.Death),head:snake.HeadType&&snake.HeadType.toLowerCase(),tail:snake.TailType&&snake.TailType.toLowerCase(),headSvg:snake.HeadSvg,tailSvg:snake.TailSvg,squad:snake.Squad,author:snake.Author,shout:snake.Shout};}function formatDeath(death){if(!death){return;}return{cause:death.Cause,turn:death.Turn||0,eliminatedBy:death.EliminatedBy};}function shouldRenderPart(snake,partIndex){var headIndex=0;var tailIndex=snake.Body.length-1;var head=snake.Body[headIndex];var tail=snake.Body[tailIndex];var currPart=snake.Body[partIndex];// always render head\nif(partIndex===headIndex){return true;}// render tail if not covered by head\nif(partIndex===tailIndex){return!(head.X===currPart.X&&head.Y===currPart.Y);}// render middle part if it's in a different position than\n// the next piece closer to head, and not in same spot as tail\nvar nextPart=snake.Body[partIndex-1];return!(tail.X===currPart.X&&tail.Y===currPart.Y)&&!(head.X===currPart.X&&head.Y===currPart.Y)&&!(nextPart&&nextPart.X===currPart.X&&nextPart.Y===currPart.Y);}function formatSnakePart(snake,partIndex){var part=snake.Body[partIndex];var type=getType(snake,partIndex);var _formatPosition=formatPosition(part),x=_formatPosition.x,y=_formatPosition.y;var direction=formatDirection(type,snake,part,partIndex);var isOverlapped=!shouldRenderPart(snake,partIndex)?true:undefined;return{direction:direction,type:type,isOverlapped:isOverlapped,x:x,y:y};}function formatPositions(positions){if(positions){return positions.map(formatPosition);}}function formatPosition(pos){return{x:pos.X,y:pos.Y};}function formatDirection(type,snake,part,partIndex){var direction;if(type===\"head\"){direction=getDirection(snake.Body[1],snake.Body[0]);}else{// handle special case where parts overlap\nvar prevPart;do{prevPart=snake.Body[Math.max(partIndex-1,0)];--partIndex;}while(partIndex>0&&prevPart.X===part.X&&prevPart.Y===part.Y);direction=getDirection(part,prevPart);}return direction;}function getDirection(a,b){if(a&&b){// Handle cases where b is one move after a\nif(a.X+1===b.X){return\"right\";}else if(a.X-1===b.X){return\"left\";}else if(a.Y+1===b.Y){return\"up\";}else if(a.Y-1===b.Y){return\"down\";}// Handle wrapped cases (we can anchor against one part being on 0 axis)\nif(a.X>b.X&&b.X===0){return\"right\";}else if(a.X<b.X&&a.X===0){return\"left\";}else if(a.Y>b.Y&&b.Y===0){return\"up\";}else if(a.Y<b.Y&&a.Y===0){return\"down\";}}return DEFAULT_DIRECTION;}function getType(snake,partIndex){if(partIndex===0){return TYPE_HEAD;}if(partIndex===snake.Body.length-1){return TYPE_TAIL;}return TYPE_BODY;}// This is a workaround for fields that are omitted when they have the default\n// value. ie: int fields that need to default to 0 rather than undefined.\nfunction cleanFrame(frame){frame.Turn=frame.Turn||0;var _iterator=Object(createForOfIteratorHelper[\"a\" /* default */])(frame.Snakes),_step;try{for(_iterator.s();!(_step=_iterator.n()).done;){var snake=_step.value;var _iterator3=Object(createForOfIteratorHelper[\"a\" /* default */])(snake.Body),_step3;try{for(_iterator3.s();!(_step3=_iterator3.n()).done;){var part=_step3.value;part.X=part.X||0;part.Y=part.Y||0;}}catch(err){_iterator3.e(err);}finally{_iterator3.f();}}}catch(err){_iterator.e(err);}finally{_iterator.f();}var _iterator2=Object(createForOfIteratorHelper[\"a\" /* default */])(frame.Food),_step2;try{for(_iterator2.s();!(_step2=_iterator2.n()).done;){var food=_step2.value;food.X=food.X||0;food.Y=food.Y||0;}}catch(err){_iterator2.e(err);}finally{_iterator2.f();}}\n// CONCATENATED MODULE: ./src/reducers/index.js\nvar reducers_initialState={options:null,grid:[],frames:[],endEvent:{},paused:true,gameNotFound:false,highlightedSnake:null,theme:themes.light};var reducers_reducers=function reducers(){var state=arguments.length>0&&arguments[0]!==undefined?arguments[0]:reducers_initialState;var action=arguments.length>1?arguments[1]:undefined;switch(action.type){case SET_THEME:return Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},state),{},{theme:action.theme});case SET_GAME_OPTIONS:action.gameOptions.turn=parseInt(action.gameOptions.turn)||0;action.gameOptions.loop=action.gameOptions.loop&&action.gameOptions.loop===\"true\";return Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},state),{},{gameOptions:action.gameOptions});case GAME_NOT_FOUND:return Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},state),{},{gameNotFound:true});case PAUSE_GAME:return Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},state),{},{paused:true});case GAME_OVER:windowPostMessage({action:action.type,endEvent:action.endEvent});return Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},state),{},{paused:true});case RESUME_GAME:return Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},state),{},{paused:false});case SET_CURRENT_FRAME:windowPostMessage({action:action.type,frame:sanitizeFrame(action.frame)});return Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},state),{},{currentFrame:action.frame});case RECEIVE_FRAME:var frame=formatFrame(action.frame);return Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},state),{},{ruleset:action.game.Game.Ruleset,grid:{height:action.game.Game.Height,width:action.game.Game.Width},frames:[].concat(Object(toConsumableArray[\"a\" /* default */])(state.frames),[frame])// Be smart: this consumes A LOT of memory...\n});case RECEIVE_EVENT_END:return Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},state),{},{endEvent:action.endEvent,frames:[].concat(Object(toConsumableArray[\"a\" /* default */])(state.frames),[action.frame])});case REQUEST_FRAMES:return Object(objectSpread2[\"a\" /* default */])({},state);case FETCH_FRAMES:return Object(objectSpread2[\"a\" /* default */])({},state);case HIGHLIGHT_SNAKE:windowPostMessage({action:action.type,id:action.snakeId,name:action.snakeId?state.currentFrame.snakes.find(function(s){return s._id===action.snakeId;}).name:null});return Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},state),{},{highlightedSnake:action.snakeId});case TOGGLE_SETTINGS_VIEW:windowPostMessage({action:action.type,value:action.showHide});return Object(objectSpread2[\"a\" /* default */])({},state);case THEME_CHANGED:windowPostMessage({action:action.type,value:action.theme});return Object(objectSpread2[\"a\" /* default */])({},state);default:return Object(objectSpread2[\"a\" /* default */])({},state);}};function windowPostMessage(data){if(!window.parent){return;}try{window.parent.postMessage(data,\"*\");}catch(e){console.error(e);}}/* harmony default export */ var src_reducers = (reducers_reducers);\n// CONCATENATED MODULE: ./src/app/store.js\nfunction rehydrateInitialState(){var initialState={game:{options:null,grid:[],frames:[],endEvent:null,paused:true,gameNotFound:false,highlightedSnake:null,theme:themes.light},settings:initialSettings};if(storageAvailable(\"localStorage\")){initialState.settings=rehydrateLocalSettings();initialState.settings.persistAvailable=true;}else{console.info(\"Please enable localStorage for an improved experience that allows you to persist board settings.\");}return initialState;}var store=Object(redux_toolkit_esm[\"a\" /* configureStore */])({reducer:{game:src_reducers,settings:settings_slice},middleware:function middleware(getDefaultMiddleware){return getDefaultMiddleware({immutableCheck:false,serializableCheck:false});},preloadedState:rehydrateInitialState()});store.subscribe(function(){settingsStoreListener(store.getState());});/* harmony default export */ var app_store = (store);\n// EXTERNAL MODULE: ./node_modules/react-router-dom/esm/react-router-dom.js + 4 modules\nvar react_router_dom = __webpack_require__(25);\n\n// CONCATENATED MODULE: ./src/index.js\nObject(react_dom[\"render\"])(/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(es[\"a\" /* Provider */],{store:app_store,children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router_dom[\"a\" /* BrowserRouter */],{children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(src_App_0,{})})}),document.getElementById(\"root\"));\n\n/***/ }),\n\n/***/ 8:\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\nmodule.exports = {\"info\":\"SettingsPage_info__hnKuB\",\"inputContainer\":\"SettingsPage_inputContainer__OMy_9\",\"row\":\"SettingsPage_row__FjkX8\",\"centered\":\"SettingsPage_centered__2a9Zh\",\"checkmark\":\"SettingsPage_checkmark__1GbZH\",\"radio\":\"SettingsPage_radio__2oWfC\"};\n\n/***/ })\n\n},[[55,1,2]]]);","inputSourceMap":{"version":3,"sources":["/home/y-yabust/CC/cc-replay/src/io/reconnecting-websocket.js","/home/y-yabust/CC/cc-replay/node_modules/mini-css-extract-plugin/dist/loader.js??ref--5-oneOf-5-0!/home/y-yabust/CC/cc-replay/node_modules/css-loader/dist/cjs.js??ref--5-oneOf-5-1!/home/y-yabust/CC/cc-replay/node_modules/postcss-loader/src/index.js??postcss!/home/y-yabust/CC/cc-replay/src/components/game/GamePage.module.css","/home/y-yabust/CC/cc-replay/node_modules/mini-css-extract-plugin/dist/loader.js??ref--5-oneOf-5-0!/home/y-yabust/CC/cc-replay/node_modules/css-loader/dist/cjs.js??ref--5-oneOf-5-1!/home/y-yabust/CC/cc-replay/node_modules/postcss-loader/src/index.js??postcss!/home/y-yabust/CC/cc-replay/src/components/settings/playback/PlaybackSpeed.module.css","/home/y-yabust/CC/cc-replay/node_modules/mini-css-extract-plugin/dist/loader.js??ref--5-oneOf-4-0!/home/y-yabust/CC/cc-replay/node_modules/css-loader/dist/cjs.js??ref--5-oneOf-4-1!/home/y-yabust/CC/cc-replay/node_modules/postcss-loader/src/index.js??postcss!/home/y-yabust/CC/cc-replay/src/components/scoreboard/error-message/ErrorMessage.css","/home/y-yabust/CC/cc-replay/node_modules/mini-css-extract-plugin/dist/loader.js??ref--5-oneOf-4-0!/home/y-yabust/CC/cc-replay/node_modules/css-loader/dist/cjs.js??ref--5-oneOf-4-1!/home/y-yabust/CC/cc-replay/node_modules/postcss-loader/src/index.js??postcss!/home/y-yabust/CC/cc-replay/src/components/scoreboard/avatar/Avatar.css","/home/y-yabust/CC/cc-replay/node_modules/mini-css-extract-plugin/dist/loader.js??ref--5-oneOf-4-0!/home/y-yabust/CC/cc-replay/node_modules/css-loader/dist/cjs.js??ref--5-oneOf-4-1!/home/y-yabust/CC/cc-replay/node_modules/postcss-loader/src/index.js??postcss!/home/y-yabust/CC/cc-replay/src/App.css","/home/y-yabust/CC/cc-replay/src/utils/url.js","/home/y-yabust/CC/cc-replay/src/theme/index.js","/home/y-yabust/CC/cc-replay/src/components/loading-indicator.jsx","/home/y-yabust/CC/cc-replay/src/components/grid.jsx","/home/y-yabust/CC/cc-replay/src/components/board.jsx","/home/y-yabust/CC/cc-replay/src/io/websocket.js","/home/y-yabust/CC/cc-replay/src/utils/inline-svg.js","/home/y-yabust/CC/cc-replay/src/utils/engine-client.js","/home/y-yabust/CC/cc-replay/src/components/scoreboard/error-message/ErrorMessage.jsx","/home/y-yabust/CC/cc-replay/src/components/scoreboard/status-indicator/StatusIndicator.jsx","/home/y-yabust/CC/cc-replay/src/components/avatar.jsx","/home/y-yabust/CC/cc-replay/src/components/scoreboard.jsx","/home/y-yabust/CC/cc-replay/src/components/mediaControls.jsx","/home/y-yabust/CC/cc-replay/src/components/logo.jsx","/home/y-yabust/CC/cc-replay/src/components/game.jsx","/home/y-yabust/CC/cc-replay/src/actions/action-types.js","/home/y-yabust/CC/cc-replay/src/components/settings/defaults.js","/home/y-yabust/CC/cc-replay/src/actions/index.js","/home/y-yabust/CC/cc-replay/src/components/game/GamePage.jsx","/home/y-yabust/CC/cc-replay/src/app/storage.js","/home/y-yabust/CC/cc-replay/src/components/settings/settings-slice.js","/home/y-yabust/CC/cc-replay/src/components/settings/playback/PlaybackSpeed.jsx","/home/y-yabust/CC/cc-replay/src/components/settings/SettingsPage.jsx","/home/y-yabust/CC/cc-replay/src/App.jsx","/home/y-yabust/CC/cc-replay/src/utils/game-state.js","/home/y-yabust/CC/cc-replay/src/reducers/index.js","/home/y-yabust/CC/cc-replay/src/app/store.js","/home/y-yabust/CC/cc-replay/src/index.js","/home/y-yabust/CC/cc-replay/node_modules/mini-css-extract-plugin/dist/loader.js??ref--5-oneOf-5-0!/home/y-yabust/CC/cc-replay/node_modules/css-loader/dist/cjs.js??ref--5-oneOf-5-1!/home/y-yabust/CC/cc-replay/node_modules/postcss-loader/src/index.js??postcss!/home/y-yabust/CC/cc-replay/src/components/settings/SettingsPage.module.css"],"names":["global","factory","define","window","ReconnectingWebSocket","url","protocols","options","settings","debug","automaticOpen","reconnectInterval","maxReconnectInterval","reconnectDecay","timeoutInterval","maxReconnectAttempts","binaryType","key","reconnectAttempts","readyState","WebSocket","CONNECTING","protocol","self","ws","forcedClose","timedOut","eventTarget","document","createElement","addEventListener","event","onopen","onclose","onconnecting","onmessage","onerror","bind","removeEventListener","dispatchEvent","generateEvent","s","args","evt","createEvent","initCustomEvent","open","reconnectAttempt","debugAll","console","localWs","timeout","setTimeout","close","clearTimeout","OPEN","e","isReconnect","CLOSED","code","reason","wasClean","Math","pow","data","send","refresh","prototype","CLOSING","parseQueryString","q","length","substr","split","map","parseArg","href","location","lastIndexOf","reduce","result","arg","value","a","parts","undefined","decodeURIComponent","makeQueryString","query","sep","httpToWsProtocol","mappings","http","https","from","to","Error","join","joinPair","b","cleanA","replace","cleanB","current","next","colors","pageBackground","gridDot","gridCellBackground","gridCellBackgroundDark","food","hazard","hazardOpacity","overlapSnake","healthBar","healthBarBackground","healthBarOutline","healthBarDeathBackground","healthBarDeathBackgroundDark","avatarHoverBorder","avatarHighlightedBorder","lightText","darkText","blue","indigo","purple","pink","red","orange","yellow","green","teal","cyan","white","gray","grayLight","grayDark","primary","secondary","success","info","warning","danger","light","dark","breakpoints","sm","md","lg","xl","xxl","themes","LoadingIndicatorWrapper","styled","display","alignItems","justifyContent","height","width","LoadingIndicator","color","React","Component","HIGHLIGHT_DIM","DEAD_OPACITY","OVERLAP_OPACITY","SNAKE_ON_SNAKE_OPACITY","FULL_OPACITY","CELL_SIZE","CELL_SPACING","FOOD_SIZE","toFixed","END_OVERLAP","DIRECTIONS_CW","GRID_ROWS","toGridSpaceX","slot","toGridSpaceY","getPartWidth","part","extraWidth","direction","getPartHeight","extraHeight","getPartXOffset","xBias","x","getPartYOffset","yBias","y","getCornerPartXOffset","type","getCornerPartYOffset","getTailXOffset","getTailYOffset","getHeadXOffset","getHeadYOffset","getHeadFillerXOffset","getHeadFillerYOffset","getTailFillerXOffset","getTailFillerYOffset","getFillerWidth","getFillerHeight","getOpacity","snake","highlightedSnake","isDead","_id","getPartOpacity","shadeForOverlap","isOverlapped","getPartColor","range","size","i","push","sortAliveSnakesOnTop","snakes","concat","sort","aOrder","bOrder","getHeadTransform","viewBox","halfX","halfY","getTailTransform","areAdjacentDirections","d1","d2","abs","indexOf","checkIfCornerPart","partIndex","body","behind","determineCornerType","isOverlappedByTail","head","Grid","snakeIndex","renderHeadPart","renderTailPart","renderCornerPart","renderMiddlePart","box","headSvg","baseVal","transform","viewBoxStr","opacity","__html","innerHTML","effectiveSpace","path","cornerType","tailSvg","row","col","label","fontSize","props","rows","_","renderLabel","columns","unsortedSnakes","hazards","sortedSnakes","gridCellsWithSnakeParts","Array","j","viewBoxWidth","viewBoxHeight","parseFloat","overflow","showCoordinateLabels","maxWidth","maxHeight","renderLabels","theme","reverse","renderPart","o","hazardIndex","f","foodIndex","foodImage","renderGrid","BOARD_SIZE","LABEL_ADJUSTMENT","Board","boardSize","turn","streamAll","receive","turns","done","Promise","resolve","reject","ReconnectingWebsocket","obj","JSON","parse","eventData","Data","Turn","loaded","doesntExist","loadSvgs","paths","all","requireSvg","getSvg","fetchSvg","fetch","response","text","svgText","svg","makeDom","wrapper","trim","firstChild","svgExists","exists","startsWith","warn","DEFAULT_SNAKE_HEAD","DEFAULT_SNAKE_TAIL","APP_VERSION","process","get","log","status","json","then","responseJson","error","delay","millis","getReadableCauseOfDeath","death","cause","eliminatedBy","getAllSvgs","HeadType","TailType","unique","Set","assignHeadAndTailUrls","getSnakeHeadSvgUrl","getSnakeTailSvgUrl","setHeadAndTailSvgs","HeadSvg","TailSvg","isIllegalSvgPath","nameOrPath","svgUrlFromName","base","relative","extension","effectivePath","prepareFrame","frame","Snakes","fetchGameInfo","baseUrl","gameId","streamAllEvents","receiveEvent","onEngineEvent","engineEvent","Type","chain","game","wsUrl","getFrameByTurn","frames","filter","errorColor","getIcon","ErrorMessage","message","toString","style","cursor","margin","padding","StatusIndicator","errorMessage","AvatarWrapper","isEliminated","Name","textShadow","Length","marginLeft","AuthorWrapper","fontWeight","flexDirection","Author","flexGrow","Latency","latency","HealthBarWrapper","marginTop","background","borderRadius","HealthBar","backgroundColor","CauseOfDeath","lineHeight","Avatar","state","showError","name","author","health","highlighted","orderSnakes","aliveSnakes","aLower","toLowerCase","bLower","deadSnakes","Wrapper","hide","Scoreboard","toggleHighlight","getSnakeToHighlight","highlightSnake","setState","MediaControlsWrapper","KeyboardShortcutsWrapper","position","ShortcutsPane","ButtonWrapper","Button","Scrubber","MediaControls","paneHidden","handleParentKeyboardEvent","handleKeyEvent","keyboardCodeMap","handleReload","reloadGame","handlePlayPause","toggleGamePause","handleBackward","stepBackwardFrame","handleForward","stepForwardFrame","handleScrubMouseDown","pauseGame","handleScrubbing","stepToTurn","parseInt","target","handleSettings","persistAvailable","history","handleShortcutPaneShowToggle","preventDefault","KeyR","ArrowLeft","ArrowRight","Space","Settings","renderControls","hasAllFrames","currentFrame","max","maxTurn","showFrameScrubber","hideControls","paused","settingsInfo","renderScrubbing","Object","values","withRouter","SVGWrapper","SVGLogo","StyledLogo","BoardTitle","textAlign","textTransform","HeaderWrapper","LogoWrapper","TurnCount","TurnCountValue","BoardWrapper","hideScoreboard","ScoreboardWrapper","Ruleset","Game","togglePlayButtons","toggleTheme","engine","invalidArgs","hideLogo","title","setGameOptions","fetchFrames","renderGame","styles","grid","hideMediaControls","ruleset","SET_GAME_OPTIONS","SET_THEME","GAME_OVER","GAME_NOT_FOUND","FETCH_FRAMES","REQUEST_FRAMES","RECEIVE_FRAME","SET_CURRENT_FRAME","PAUSE_GAME","RESUME_GAME","HIGHLIGHT_SNAKE","RECEIVE_EVENT_END","TOGGLE_SETTINGS_VIEW","THEME_CHANGED","DEFAULT_FRAMERATE","initialSettings","frameRate","autoplay","gameOptions","types","setTheme","gameOver","gameNotFound","requestFrames","receiveFrame","receiveEventEnd","endEvent","setCurrentFrame","resumeGame","snakeId","dispatch","getState","engineUrl","eventType","playFromFrame","numFrames","slice","frameIndex","slicedFrames","ceiledFps","ceil","delayMillis","lastFrame","loop","pauseGameAction","themeToSet","nextFrame","stepToFrame","prevFrame","showHide","themeChanged","search","mapStateToProps","gameState","boardTheme","mapDispatchToProps","connect","storageAvailable","storage","setItem","removeItem","DOMException","getLocalSetting","localStorage","getItem","setLocalSetting","rehydrateLocalSettings","checkAutoplay","checkShowFrameScrubber","Number","settingsSlice","createSlice","initialState","reducers","frameRateUpdated","action","payload","themeSelected","autoPlayUpdated","showFrameScrubberUpdated","showCoordinateLabelsUpdated","actions","currentFrameRate","currentTheme","currentAutoplay","currentShowFrameScrubber","currentShowCoordinateLabels","settingsStoreListener","reducer","SLIDER_SLOW","SLIDER_MEDIUM","SLIDER_FAST","SPEED_SLOW","SPEED_MEDIUM","SPEED_FAST","speedRanges","min","valueChanged","changeHandler","fps","sliderValue","valueAsNumber","call","defaultValueHandler","defaultValue","PlaybackSpeed","default","onChange","labels","SettingsPage","useHistory","useSelector","playbackSpeed","useDispatch","useEffect","dispatchSpeedChange","inputContainer","radio","checked","checkmark","centered","goBack","App","GamePage","DEFAULT_DIRECTION","TYPE_HEAD","TYPE_TAIL","TYPE_BODY","formatFrame","cleanFrame","formatSnakes","formatPositions","Food","Hazards","sanitizeFrame","sanitizedFrame","cloneDeep","id","newSnakes","formatSnake","forEach","index","renderedParts","Body","shouldRenderPart","formatSnakePart","Color","ID","Health","timing","TimingMicros","Death","formatDeath","tail","squad","Squad","shout","Shout","Cause","EliminatedBy","headIndex","tailIndex","currPart","X","Y","nextPart","getType","formatPosition","formatDirection","positions","pos","getDirection","prevPart","windowPostMessage","Height","Width","find","parent","postMessage","rehydrateInitialState","store","configureStore","rootReducer","settingsReducer","middleware","getDefaultMiddleware","immutableCheck","serializableCheck","preloadedState","subscribe","render","getElementById"],"mappings":";;;;;AAAA,oH,CAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GACA,CAAC,SAASA,MAAT,CAAiBC,OAAjB,CAA0B,CACzB,GAAI,IAAJ,CAAgD,CAC9CC,iCAAO,EAAD,oCAAKD,OAAL;AAAA;AAAA;AAAA,oGAAN,CACD,CAFD,IAEO,GAKR,CARD,EAQG,IARH,CAQS,UAAW,CAClB,GAAI,EAAE,aAAeE,OAAjB,CAAJ,CAA8B,CAC5B,OACD,CAED,QAASC,sBAAT,CAA+BC,GAA/B,CAAoCC,SAApC,CAA+CC,OAA/C,CAAwD,CACtD;AACA,GAAIC,SAAQ,CAAG,CACb,uDACAC,KAAK,CAAE,KAFM,CAIb,6FACAC,aAAa,CAAE,IALF,CAOb,0EACAC,iBAAiB,CAAE,IARN,CASb,0EACAC,oBAAoB,CAAE,KAVT,CAWb,gHACAC,cAAc,CAAE,GAZH,CAcb,wGACAC,eAAe,CAAE,IAfJ,CAiBb,8EACAC,oBAAoB,CAAE,IAlBT,CAoBb,gFACAC,UAAU,CAAE,MArBC,CAAf,CAuBA,GAAI,CAACT,OAAL,CAAc,CACZA,OAAO,CAAG,EAAV,CACD,CAED;AACA,IAAK,GAAIU,IAAT,GAAgBT,SAAhB,CAA0B,CACxB,GAAI,MAAOD,QAAO,CAACU,GAAD,CAAd,GAAwB,WAA5B,CAAyC,CACvC,KAAKA,GAAL,EAAYV,OAAO,CAACU,GAAD,C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","file":"x","sourcesContent":["/* eslint-disable */\n\n// MIT License:\n//\n// Copyright (c) 2010-2012, Joe Walnes\n//\n// Permission is hereby granted, free of charge, to any person obtaining a copy\n// of this software and associated documentation files (the \"Software\"), to deal\n// in the Software without restriction, including without limitation the rights\n// to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n// copies of the Software, and to permit persons to whom the Software is\n// furnished to do so, subject to the following conditions:\n//\n// The above copyright notice and this permission notice shall be included in\n// all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n// IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n// FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n// AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n// LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n// OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n// THE SOFTWARE.\n\n/**\n * This behaves like a WebSocket in every way, except if it fails to connect,\n * or it gets disconnected, it will repeatedly poll until it successfully connects\n * again.\n *\n * It is API compatible, so when you have:\n *   ws = new WebSocket('ws://....');\n * you can replace with:\n *   ws = new ReconnectingWebSocket('ws://....');\n *\n * The event stream will typically look like:\n *  onconnecting\n *  onopen\n *  onmessage\n *  onmessage\n *  onclose // lost connection\n *  onconnecting\n *  onopen  // sometime later...\n *  onmessage\n *  onmessage\n *  etc...\n *\n * It is API compatible with the standard WebSocket API, apart from the following members:\n *\n * - `bufferedAmount`\n * - `extensions`\n * - `binaryType`\n *\n * Latest version: https://github.com/joewalnes/reconnecting-websocket/\n * - Joe Walnes\n *\n * Syntax\n * ======\n * var socket = new ReconnectingWebSocket(url, protocols, options);\n *\n * Parameters\n * ==========\n * url - The url you are connecting to.\n * protocols - Optional string or array of protocols.\n * options - See below\n *\n * Options\n * =======\n * Options can either be passed upon instantiation or set after instantiation:\n *\n * var socket = new ReconnectingWebSocket(url, null, { debug: true, reconnectInterval: 4000 });\n *\n * or\n *\n * var socket = new ReconnectingWebSocket(url);\n * socket.debug = true;\n * socket.reconnectInterval = 4000;\n *\n * debug\n * - Whether this instance should log debug messages. Accepts true or false. Default: false.\n *\n * automaticOpen\n * - Whether or not the websocket should attempt to connect immediately upon instantiation. The socket can be manually opened or closed at any time using ws.open() and ws.close().\n *\n * reconnectInterval\n * - The number of milliseconds to delay before attempting to reconnect. Accepts integer. Default: 1000.\n *\n * maxReconnectInterval\n * - The maximum number of milliseconds to delay a reconnection attempt. Accepts integer. Default: 30000.\n *\n * reconnectDecay\n * - The rate of increase of the reconnect delay. Allows reconnect attempts to back off when problems persist. Accepts integer or float. Default: 1.5.\n *\n * timeoutInterval\n * - The maximum time in milliseconds to wait for a connection to succeed before closing and retrying. Accepts integer. Default: 2000.\n *\n */\n(function(global, factory) {\n  if (typeof define === \"function\" && define.amd) {\n    define([], factory);\n  } else if (typeof module !== \"undefined\" && module.exports) {\n    module.exports = factory();\n  } else {\n    global.ReconnectingWebSocket = factory();\n  }\n})(this, function() {\n  if (!(\"WebSocket\" in window)) {\n    return;\n  }\n\n  function ReconnectingWebSocket(url, protocols, options) {\n    // Default settings\n    var settings = {\n      /** Whether this instance should log debug messages. */\n      debug: false,\n\n      /** Whether or not the websocket should attempt to connect immediately upon instantiation. */\n      automaticOpen: true,\n\n      /** The number of milliseconds to delay before attempting to reconnect. */\n      reconnectInterval: 1000,\n      /** The maximum number of milliseconds to delay a reconnection attempt. */\n      maxReconnectInterval: 30000,\n      /** The rate of increase of the reconnect delay. Allows reconnect attempts to back off when problems persist. */\n      reconnectDecay: 1.5,\n\n      /** The maximum time in milliseconds to wait for a connection to succeed before closing and retrying. */\n      timeoutInterval: 2000,\n\n      /** The maximum number of reconnection attempts to make. Unlimited if null. */\n      maxReconnectAttempts: null,\n\n      /** The binary type, possible values 'blob' or 'arraybuffer', default 'blob'. */\n      binaryType: \"blob\"\n    };\n    if (!options) {\n      options = {};\n    }\n\n    // Overwrite and define settings with options if they exist.\n    for (var key in settings) {\n      if (typeof options[key] !== \"undefined\") {\n        this[key] = options[key];\n      } else {\n        this[key] = settings[key];\n      }\n    }\n\n    // These should be treated as read-only properties\n\n    /** The URL as resolved by the constructor. This is always an absolute URL. Read only. */\n    this.url = url;\n\n    /** The number of attempted reconnects since starting, or the last successful connection. Read only. */\n    this.reconnectAttempts = 0;\n\n    /**\n     * The current state of the connection.\n     * Can be one of: WebSocket.CONNECTING, WebSocket.OPEN, WebSocket.CLOSING, WebSocket.CLOSED\n     * Read only.\n     */\n    this.readyState = WebSocket.CONNECTING;\n\n    /**\n     * A string indicating the name of the sub-protocol the server selected; this will be one of\n     * the strings specified in the protocols parameter when creating the WebSocket object.\n     * Read only.\n     */\n    this.protocol = null;\n\n    // Private state variables\n\n    var self = this;\n    var ws;\n    var forcedClose = false;\n    var timedOut = false;\n    var eventTarget = document.createElement(\"div\");\n\n    // Wire up \"on*\" properties as event handlers\n\n    eventTarget.addEventListener(\"open\", function(event) {\n      self.onopen(event);\n    });\n    eventTarget.addEventListener(\"close\", function(event) {\n      self.onclose(event);\n    });\n    eventTarget.addEventListener(\"connecting\", function(event) {\n      self.onconnecting(event);\n    });\n    eventTarget.addEventListener(\"message\", function(event) {\n      self.onmessage(event);\n    });\n    eventTarget.addEventListener(\"error\", function(event) {\n      self.onerror(event);\n    });\n\n    // Expose the API required by EventTarget\n\n    this.addEventListener = eventTarget.addEventListener.bind(eventTarget);\n    this.removeEventListener = eventTarget.removeEventListener.bind(\n      eventTarget\n    );\n    this.dispatchEvent = eventTarget.dispatchEvent.bind(eventTarget);\n\n    /**\n     * This function generates an event that is compatible with standard\n     * compliant browsers and IE9 - IE11\n     *\n     * This will prevent the error:\n     * Object doesn't support this action\n     *\n     * http://stackoverflow.com/questions/19345392/why-arent-my-parameters-getting-passed-through-to-a-dispatched-event/19345563#19345563\n     * @param s String The name that the event should use\n     * @param args Object an optional object that the event will use\n     */\n    function generateEvent(s, args) {\n      var evt = document.createEvent(\"CustomEvent\");\n      evt.initCustomEvent(s, false, false, args);\n      return evt;\n    }\n\n    this.open = function(reconnectAttempt) {\n      ws = new WebSocket(self.url, protocols || []);\n      ws.binaryType = this.binaryType;\n\n      if (reconnectAttempt) {\n        if (\n          this.maxReconnectAttempts &&\n          this.reconnectAttempts > this.maxReconnectAttempts\n        ) {\n          return;\n        }\n      } else {\n        eventTarget.dispatchEvent(generateEvent(\"connecting\"));\n        this.reconnectAttempts = 0;\n      }\n\n      if (self.debug || ReconnectingWebSocket.debugAll) {\n        console.debug(\"ReconnectingWebSocket\", \"attempt-connect\", self.url);\n      }\n\n      var localWs = ws;\n      var timeout = setTimeout(function() {\n        if (self.debug || ReconnectingWebSocket.debugAll) {\n          console.debug(\n            \"ReconnectingWebSocket\",\n            \"connection-timeout\",\n            self.url\n          );\n        }\n        timedOut = true;\n        localWs.close();\n        timedOut = false;\n      }, self.timeoutInterval);\n\n      ws.onopen = function(event) {\n        clearTimeout(timeout);\n        if (self.debug || ReconnectingWebSocket.debugAll) {\n          console.debug(\"ReconnectingWebSocket\", \"onopen\", self.url);\n        }\n        self.protocol = ws.protocol;\n        self.readyState = WebSocket.OPEN;\n        self.reconnectAttempts = 0;\n        var e = generateEvent(\"open\");\n        e.isReconnect = reconnectAttempt;\n        reconnectAttempt = false;\n        eventTarget.dispatchEvent(e);\n      };\n\n      ws.onclose = function(event) {\n        clearTimeout(timeout);\n        ws = null;\n        if (forcedClose) {\n          self.readyState = WebSocket.CLOSED;\n          eventTarget.dispatchEvent(generateEvent(\"close\"));\n        } else {\n          self.readyState = WebSocket.CONNECTING;\n          var e = generateEvent(\"connecting\");\n          e.code = event.code;\n          e.reason = event.reason;\n          e.wasClean = event.wasClean;\n          eventTarget.dispatchEvent(e);\n          if (!reconnectAttempt && !timedOut) {\n            if (self.debug || ReconnectingWebSocket.debugAll) {\n              console.debug(\"ReconnectingWebSocket\", \"onclose\", self.url);\n            }\n            eventTarget.dispatchEvent(generateEvent(\"close\"));\n          }\n\n          var timeout =\n            self.reconnectInterval *\n            Math.pow(self.reconnectDecay, self.reconnectAttempts);\n          setTimeout(\n            function() {\n              self.reconnectAttempts++;\n              self.open(true);\n            },\n            timeout > self.maxReconnectInterval\n              ? self.maxReconnectInterval\n              : timeout\n          );\n        }\n      };\n      ws.onmessage = function(event) {\n        if (self.debug || ReconnectingWebSocket.debugAll) {\n          console.debug(\n            \"ReconnectingWebSocket\",\n            \"onmessage\",\n            self.url,\n            event.data\n          );\n        }\n        var e = generateEvent(\"message\");\n        e.data = event.data;\n        eventTarget.dispatchEvent(e);\n      };\n      ws.onerror = function(event) {\n        if (self.debug || ReconnectingWebSocket.debugAll) {\n          console.debug(\"ReconnectingWebSocket\", \"onerror\", self.url, event);\n        }\n        eventTarget.dispatchEvent(generateEvent(\"error\"));\n      };\n    };\n\n    // Whether or not to create a websocket upon instantiation\n    if (this.automaticOpen == true) {\n      this.open(false);\n    }\n\n    /**\n     * Transmits data to the server over the WebSocket connection.\n     *\n     * @param data a text string, ArrayBuffer or Blob to send to the server.\n     */\n    this.send = function(data) {\n      if (ws) {\n        if (self.debug || ReconnectingWebSocket.debugAll) {\n          console.debug(\"ReconnectingWebSocket\", \"send\", self.url, data);\n        }\n        return ws.send(data);\n      } else {\n        throw \"INVALID_STATE_ERR : Pausing to reconnect websocket\";\n      }\n    };\n\n    /**\n     * Closes the WebSocket connection or connection attempt, if any.\n     * If the connection is already CLOSED, this method does nothing.\n     */\n    this.close = function(code, reason) {\n      // Default CLOSE_NORMAL code\n      if (typeof code == \"undefined\") {\n        code = 1000;\n      }\n      forcedClose = true;\n      if (ws) {\n        ws.close(code, reason);\n      }\n    };\n\n    /**\n     * Additional public API method to refresh the connection if still open (close, re-open).\n     * For example, if the app suspects bad data / missed heart beats, it can try to refresh.\n     */\n    this.refresh = function() {\n      if (ws) {\n        ws.close();\n      }\n    };\n  }\n\n  /**\n   * An event listener to be called when the WebSocket connection's readyState changes to OPEN;\n   * this indicates that the connection is ready to send and receive data.\n   */\n  ReconnectingWebSocket.prototype.onopen = function(event) {};\n  /** An event listener to be called when the WebSocket connection's readyState changes to CLOSED. */\n  ReconnectingWebSocket.prototype.onclose = function(event) {};\n  /** An event listener to be called when a connection begins being attempted. */\n  ReconnectingWebSocket.prototype.onconnecting = function(event) {};\n  /** An event listener to be called when a message is received from the server. */\n  ReconnectingWebSocket.prototype.onmessage = function(event) {};\n  /** An event listener to be called when an error occurs. */\n  ReconnectingWebSocket.prototype.onerror = function(event) {};\n\n  /**\n   * Whether all instances of ReconnectingWebSocket should log debug messages.\n   * Setting this to true is the equivalent of setting all instances of ReconnectingWebSocket.debug to true.\n   */\n  ReconnectingWebSocket.debugAll = false;\n\n  ReconnectingWebSocket.CONNECTING = WebSocket.CONNECTING;\n  ReconnectingWebSocket.OPEN = WebSocket.OPEN;\n  ReconnectingWebSocket.CLOSING = WebSocket.CLOSING;\n  ReconnectingWebSocket.CLOSED = WebSocket.CLOSED;\n\n  return ReconnectingWebSocket;\n});\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"game\":\"GamePage_game__3S4Mj\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"labels\":\"PlaybackSpeed_labels__3XxZA\"};","// extracted by mini-css-extract-plugin","// extracted by mini-css-extract-plugin","// extracted by mini-css-extract-plugin","// Creates a dictionary of parameters based on the given query string. q should\n// look like \"?foo=bar&thing=blah\".\nexport function parseQueryString(q) {\n  if (!q || !q.length) {\n    return {};\n  }\n\n  // Array of key/value pairs\n  const args = q\n    .substr(1)\n    .split(\"&\")\n    .map(parseArg);\n\n  //?game_idでアクセス可能\n  const href = window.location.href;\n  args[\"engine\"] = href.substr(0, href.lastIndexOf(\"/\") + 1);\n\n  // Convert to object\n  return args.reduce((result, arg) => {\n    result[arg.key] = arg.value;\n    return result;\n  }, {});\n}\n// Converts “asdf=qwer” to { asdf: “qwer” } or “asdf” to { asdf: true }. The\n// latter example is to allow switch-like parameters like ?enableThing without\n// an equals sign.\nfunction parseArg(a) {\n  const parts = a.split(\"=\");\n  const key = parts[0];\n  const value = parts[1] === undefined ? true : decodeURIComponent(parts[1]);\n  return { key, value };\n}\n\n// Converts { a: \"aaa\", b: \"bbb\" } to \"?a=aaa&b=bbb\"\nexport function makeQueryString(query) {\n  if (!query) {\n    return \"\";\n  }\n\n  let sep = \"?\";\n  let result = \"\";\n\n  for (const key in query) {\n    const value = query[key];\n    result += `${sep}${key}=${value}`;\n    sep = \"&\";\n  }\n  return result;\n}\n\n// Converts http://foo to ws://foo or https://foo to wss://foo\nexport function httpToWsProtocol(url) {\n  const mappings = {\n    http: \"ws\",\n    https: \"wss\"\n  };\n\n  for (const from in mappings) {\n    const to = mappings[from];\n    if (url.substr(0, from.length + 1) === from + \":\") {\n      return to + url.substr(from.length);\n    }\n  }\n\n  throw new Error(\"Invalid URL: \" + url);\n}\n\n// Joins path components and makes sure there is exactly one '/' separating\n// them.\nexport function join(...parts) {\n  function joinPair(a, b) {\n    const cleanA = a.replace(/\\/+$/, \"\");\n    const cleanB = b.replace(/^\\/+/, \"\");\n\n    if (cleanA === \"\") {\n      return cleanB;\n    }\n\n    if (cleanB === \"\") {\n      return cleanA;\n    }\n\n    return `${cleanA}/${cleanB}`;\n  }\n\n  return parts.reduce((current, next) => joinPair(current, next), \"\");\n}\n","export const colors = {\n  // Page\n  pageBackground: \"transparent\",\n\n  // Grid\n  gridDot: \"#6a208f\",\n  gridCellBackground: \"#f1f1f1\",\n  gridCellBackgroundDark: \"#D6D5EA\",\n  food: \"#ff5c75\",\n  hazard: \"#000000\",\n  hazardOpacity: \"0.3\",\n  overlapSnake: \"#AAAAAA\",\n\n  // Scoreboard\n  healthBar: \"#0f0\",\n  healthBarBackground: \"#fefefe\",\n  healthBarOutline: \"#666\",\n  healthBarDeathBackground: \"#f1f1f1\",\n  healthBarDeathBackgroundDark: \"#59526b\",\n  avatarHoverBorder: \"#888\",\n  avatarHighlightedBorder: \"#6f42c1\",\n\n  // Misc\n  lightText: \"#efefef\",\n  darkText: \"#424242\",\n\n  // Colour names (from theme)\n  blue: \"#007bff\",\n  indigo: \"#6610f2\",\n  purple: \"#6f42c1\",\n  pink: \"#e83e8c\",\n  red: \"#dc3545\",\n  orange: \"#fd7e14\",\n  yellow: \"#ffc107\",\n  green: \"#28a745\",\n  teal: \"#20c997\",\n  cyan: \"#17a2b8\",\n  white: \"#fff\",\n  gray: \"#6c757d\",\n  grayLight: \"#f1f1f1\",\n  grayDark: \"#343a40\",\n  primary: \"#007bff\",\n  secondary: \"#6c757d\",\n  success: \"#28a745\",\n  info: \"#17a2b8\",\n  warning: \"#ffc107\",\n  danger: \"#dc3545\",\n  light: \"#f8f9fa\",\n  dark: \"#343a40\"\n};\n\nexport const breakpoints = {\n  sm: \"576px\",\n  md: \"768px\",\n  lg: \"992px\",\n  xl: \"1200px\",\n  xxl: \"1650px\"\n};\n\nexport const themes = {\n  // Themes\n  dark: \"dark\",\n  light: \"light\"\n};\n","import React from \"react\";\nimport styled from \"@emotion/styled\";\n\nimport { colors } from \"../theme\";\n\nconst LoadingIndicatorWrapper = styled(\"div\")({\n  display: \"flex\",\n  alignItems: \"center\",\n  justifyContent: \"center\",\n  height: \"100%\",\n  width: \"100%\"\n});\n\nclass LoadingIndicator extends React.Component {\n  render() {\n    return (\n      <LoadingIndicatorWrapper>\n        <div\n          className=\"la-ball-grid-beat la-dark la-2x\"\n          style={{\n            color: colors.food\n          }}\n        >\n          <div />\n          <div />\n          <div />\n          <div />\n          <div />\n          <div />\n          <div />\n          <div />\n          <div />\n        </div>\n      </LoadingIndicatorWrapper>\n    );\n  }\n}\n\nexport default LoadingIndicator;\n","import React from \"react\";\nimport { colors, themes } from \"../theme\";\n\nconst HIGHLIGHT_DIM = 0.15;\nconst DEAD_OPACITY = 0.1;\nconst OVERLAP_OPACITY = 0.3;\nconst SNAKE_ON_SNAKE_OPACITY = 0.8;\nconst FULL_OPACITY = 1.0;\n\nconst CELL_SIZE = 20;\nconst CELL_SPACING = 4;\nconst FOOD_SIZE = (CELL_SIZE / 3.25).toFixed(2);\nconst END_OVERLAP = 0.1;\n\nconst DIRECTIONS_CW = [\"up\", \"right\", \"down\", \"left\"];\n\n// let GRID_COLUMNS = 0;  Unused for now.\nlet GRID_ROWS = 0;\n\nfunction toGridSpaceX(slot) {\n  return (CELL_SIZE + CELL_SPACING) * slot + CELL_SPACING;\n}\n\nfunction toGridSpaceY(slot) {\n  // Y-Axis in board space is inverted, positive goes up\n  return (CELL_SIZE + CELL_SPACING) * (GRID_ROWS - 1 - slot) + CELL_SPACING;\n}\n\nfunction getPartWidth(part) {\n  const extraWidth =\n    part.direction === \"left\" || part.direction === \"right\"\n      ? 2 * CELL_SPACING\n      : 0;\n  return CELL_SIZE + extraWidth;\n}\n\nfunction getPartHeight(part) {\n  const extraHeight =\n    part.direction === \"up\" || part.direction === \"down\" ? 2 * CELL_SPACING : 0;\n  return CELL_SIZE + extraHeight;\n}\n\nfunction getPartXOffset(part) {\n  const xBias =\n    part.direction === \"left\" || part.direction === \"right\" ? -CELL_SPACING : 0;\n  return toGridSpaceX(part.x) + xBias;\n}\n\nfunction getPartYOffset(part) {\n  const yBias =\n    part.direction === \"up\" || part.direction === \"down\" ? -CELL_SPACING : 0;\n  return toGridSpaceY(part.y) + yBias;\n}\n\nfunction getCornerPartXOffset(part, type) {\n  return toGridSpaceX(part.x) - CELL_SPACING;\n}\n\nfunction getCornerPartYOffset(part, type) {\n  return toGridSpaceY(part.y) - CELL_SPACING;\n}\n\nfunction getTailXOffset(part) {\n  // apply slight offset to avoid ugly white line in between parts (works most of the time)\n  switch (part.direction) {\n    case \"left\":\n      return toGridSpaceX(part.x) - END_OVERLAP;\n    case \"right\":\n      return toGridSpaceX(part.x) + END_OVERLAP;\n    default:\n      return toGridSpaceX(part.x);\n  }\n}\n\nfunction getTailYOffset(part) {\n  // apply slight offset to avoid ugly white line in between parts (works most of the time)\n  switch (part.direction) {\n    case \"up\":\n      return toGridSpaceY(part.y) - END_OVERLAP;\n    case \"down\":\n      return toGridSpaceY(part.y) + END_OVERLAP;\n    default:\n      return toGridSpaceY(part.y);\n  }\n}\n\nfunction getHeadXOffset(part) {\n  // apply slight offset to avoid ugly white line in between parts (works most of the time)\n  switch (part.direction) {\n    case \"left\":\n      return toGridSpaceX(part.x) + END_OVERLAP;\n    case \"right\":\n      return toGridSpaceX(part.x) - END_OVERLAP;\n    default:\n      return toGridSpaceX(part.x);\n  }\n}\n\nfunction getHeadYOffset(part) {\n  // apply slight offset to avoid ugly white line in between parts (works most of the time)\n  switch (part.direction) {\n    case \"up\":\n      return toGridSpaceY(part.y) + END_OVERLAP;\n    case \"down\":\n      return toGridSpaceY(part.y) - END_OVERLAP;\n    default:\n      return toGridSpaceY(part.y);\n  }\n}\n\nfunction getHeadFillerXOffset(part) {\n  // apply slight offset to avoid ugly white line in between parts (works most of the time)\n  switch (part.direction) {\n    case \"left\":\n      return toGridSpaceX(part.x + 1) - CELL_SPACING - END_OVERLAP;\n    case \"right\":\n      return toGridSpaceX(part.x) - CELL_SPACING - END_OVERLAP;\n    default:\n      return toGridSpaceX(part.x);\n  }\n}\n\nfunction getHeadFillerYOffset(part) {\n  // apply slight offset to avoid ugly white line in between parts (works most of the time)\n  switch (part.direction) {\n    case \"up\":\n      return toGridSpaceY(part.y - 1) - CELL_SPACING - END_OVERLAP;\n    case \"down\":\n      return toGridSpaceY(part.y) - CELL_SPACING - END_OVERLAP;\n    default:\n      return toGridSpaceY(part.y);\n  }\n}\n\nfunction getTailFillerXOffset(part) {\n  // apply slight offset to avoid ugly white line in between parts (works most of the time)\n  switch (part.direction) {\n    case \"right\":\n      return toGridSpaceX(part.x + 1) - CELL_SPACING - END_OVERLAP;\n    case \"left\":\n      return toGridSpaceX(part.x) - CELL_SPACING - END_OVERLAP;\n    default:\n      return toGridSpaceX(part.x);\n  }\n}\n\nfunction getTailFillerYOffset(part) {\n  // apply slight offset to avoid ugly white line in between parts (works most of the time)\n  switch (part.direction) {\n    case \"down\":\n      return toGridSpaceY(part.y - 1) - CELL_SPACING - END_OVERLAP;\n    case \"up\":\n      return toGridSpaceY(part.y) - CELL_SPACING - END_OVERLAP;\n    default:\n      return toGridSpaceY(part.y);\n  }\n}\n\nfunction getFillerWidth(part) {\n  return part.direction === \"left\" || part.direction === \"right\"\n    ? CELL_SPACING + 2 * END_OVERLAP\n    : CELL_SIZE;\n}\n\nfunction getFillerHeight(part) {\n  return part.direction === \"left\" || part.direction === \"right\"\n    ? CELL_SIZE\n    : CELL_SPACING + 2 * END_OVERLAP;\n}\n\nfunction getOpacity(snake, highlightedSnake) {\n  if (!snake.isDead) {\n    if (highlightedSnake) {\n      return snake._id === highlightedSnake ? 1 : HIGHLIGHT_DIM;\n    }\n  } else {\n    if (highlightedSnake) {\n      return snake._id === highlightedSnake ? 1 : 0;\n    }\n  }\n\n  return snake.isDead ? DEAD_OPACITY : 1;\n}\n\nfunction getPartOpacity(part) {\n  if (part.shadeForOverlap) {\n    return SNAKE_ON_SNAKE_OPACITY;\n  } else if (part.isOverlapped) {\n    return OVERLAP_OPACITY;\n  } else {\n    return FULL_OPACITY;\n  }\n}\n\nfunction getPartColor(snake, part) {\n  if (part.shadeForOverlap) {\n    return colors.overlapSnake;\n  } else {\n    return snake.color;\n  }\n}\n\nfunction range(size) {\n  const result = [];\n  for (let i = 0; i < size; i++) {\n    result.push(i);\n  }\n  return result;\n}\n\nfunction sortAliveSnakesOnTop(snakes, highlightedSnake) {\n  return snakes.concat().sort((a, b) => {\n    let aOrder = a.isDead ? 0 : 1;\n    let bOrder = b.isDead ? 0 : 1;\n\n    // always put the highlighted snake up top\n    if (a._id === highlightedSnake) aOrder = 2;\n    if (b._id === highlightedSnake) bOrder = 2;\n\n    return aOrder - bOrder;\n  });\n}\n\nfunction getHeadTransform(direction, viewBox) {\n  const halfX = viewBox.width / 2;\n  const halfY = viewBox.height / 2;\n  switch (direction) {\n    case \"left\":\n      return `scale(-1,1) translate(-100, 0)`;\n    case \"up\":\n      return `rotate(-90 ${halfX} ${halfY})`;\n    case \"down\":\n      return `rotate(90 ${halfX} ${halfY})`;\n    default:\n      return \"\";\n  }\n}\n\nfunction getTailTransform(direction, viewBox) {\n  const halfX = viewBox.width / 2;\n  const halfY = viewBox.height / 2;\n  switch (direction) {\n    case \"right\":\n      return `scale(-1,1) translate(-100,0)`;\n    case \"down\":\n      return `scale(-1,1) translate(-100,0) rotate(-90 ${halfX} ${halfY})`;\n    case \"up\":\n      return `scale(-1,1) translate(-100,0) rotate(90 ${halfX} ${halfY})`;\n    default:\n      return \"\";\n  }\n}\n\nfunction areAdjacentDirections(d1, d2) {\n  // Check if the directions are adjacent in the circular directions array\n  // Otherwise they are the same or opposite directions\n  return (\n    Math.abs(DIRECTIONS_CW.indexOf(d1) - DIRECTIONS_CW.indexOf(d2)) % 2 === 1\n  );\n}\n\nfunction checkIfCornerPart(snake, partIndex) {\n  // If head or tail of the snake, then false\n  if (partIndex === 0 || partIndex === snake.body.length - 1) return false;\n\n  const behind = snake.body[partIndex + 1];\n  const current = snake.body[partIndex];\n\n  // Return false if the behind part has the same position as the current.\n  // Relevant for when the snake initially spawns.\n  if (behind.x === current.x && behind.y === current.y) return false;\n\n  // Check if the directions are adjacent in the circular directions array\n  // Otherwise they are the same or opposite directions and should be rendered with a straight part\n  return areAdjacentDirections(current.direction, behind.direction);\n}\n\nfunction determineCornerType(snake, partIndex) {\n  // If head or tail of the snake, then false\n  if (partIndex === 0 || partIndex === snake.body.length - 1) return false;\n\n  const behind = snake.body[partIndex + 1];\n  const current = snake.body[partIndex];\n\n  return `${current.direction} ${behind.direction}`;\n}\n\nfunction isOverlappedByTail(snake, part) {\n  const head = snake.body[snake.body.length - 1];\n  return part.isOverlapped && head.x === part.x && head.y === part.y;\n}\n\nclass Grid extends React.Component {\n  renderPart(snake, snakeIndex, part, partIndex) {\n    if (isOverlappedByTail(snake, part)) return;\n    switch (part.type) {\n      case \"head\":\n        return this.renderHeadPart(snake, snakeIndex, part);\n      case \"tail\":\n        return this.renderTailPart(snake, snakeIndex, part);\n      default:\n        if (checkIfCornerPart(snake, partIndex)) {\n          return this.renderCornerPart(snake, snakeIndex, part, partIndex);\n        } else {\n          return this.renderMiddlePart(snake, snakeIndex, part, partIndex);\n        }\n    }\n  }\n\n  renderHeadPart(snake, snakeIndex, part) {\n    const x = getHeadXOffset(part);\n    const y = getHeadYOffset(part);\n    const box = snake.headSvg.viewBox.baseVal;\n    const transform = getHeadTransform(part.direction, box);\n    const viewBoxStr = `${box.x} ${box.y} ${box.width} ${box.height}`;\n    let color = getPartColor(snake, part);\n    let opacity = getPartOpacity(part);\n\n    return (\n      <g key={\"part\" + snakeIndex + \",head\"}>\n        <svg\n          viewBox={viewBoxStr}\n          x={x}\n          y={y}\n          width={CELL_SIZE}\n          height={CELL_SIZE}\n          fill={color}\n          opacity={opacity}\n          shapeRendering=\"auto\"\n        >\n          <g\n            transform={transform}\n            dangerouslySetInnerHTML={{ __html: snake.headSvg.innerHTML }}\n          />\n        </svg>\n        {snake.effectiveSpace > 1 && (\n          // only add filler if the snake is effectively longer than one tile\n          <rect\n            x={getHeadFillerXOffset(part)}\n            y={getHeadFillerYOffset(part)}\n            width={getFillerWidth(part)}\n            height={getFillerHeight(part)}\n            fill={color}\n            opacity={opacity}\n            shapeRendering=\"auto\"\n          />\n        )}\n      </g>\n    );\n  }\n\n  renderMiddlePart(snake, snakeIndex, part, partIndex) {\n    let color = getPartColor(snake, part);\n    let opacity = getPartOpacity(part);\n\n    return (\n      <rect\n        key={`part${snakeIndex},${part.x},${part.y}`}\n        x={getPartXOffset(part)}\n        y={getPartYOffset(part)}\n        width={getPartWidth(part)}\n        height={getPartHeight(part)}\n        fill={color}\n        opacity={opacity}\n        shapeRendering=\"auto\"\n      />\n    );\n  }\n\n  renderCornerPart(snake, snakeIndex, part, partIndex) {\n    let viewBox, transform;\n    let path = \"M0,20 h60 a60,60 0 0 1 60,60 v60 h-100 v-20 h-20 z\";\n    let color = getPartColor(snake, part);\n    let opacity = getPartOpacity(part);\n\n    viewBox = \"0 0 140 140\";\n\n    const cornerType = determineCornerType(snake, partIndex);\n    switch (cornerType) {\n      case \"down left\":\n      case \"right up\":\n        transform = \"rotate(270, 70, 70)\";\n        break;\n      case \"left down\":\n      case \"up right\":\n        transform = \"rotate(90, 70, 70)\";\n        break;\n      case \"left up\":\n      case \"down right\":\n        break;\n      case \"right down\":\n      case \"up left\":\n        transform = \"rotate(180, 70, 70)\";\n        break;\n      default:\n        break;\n    }\n\n    return (\n      <svg\n        key={`part${snakeIndex},${part.x},${part.y}`}\n        x={getCornerPartXOffset(part, cornerType)}\n        y={getCornerPartYOffset(part, cornerType)}\n        width={CELL_SIZE + 2 * CELL_SPACING}\n        height={CELL_SIZE + 2 * CELL_SPACING}\n        fill={color}\n        opacity={opacity}\n        viewBox={viewBox}\n        shapeRendering=\"auto\"\n      >\n        <path d={path} transform={transform} />\n      </svg>\n    );\n  }\n\n  renderTailPart(snake, snakeIndex, part) {\n    const x = getTailXOffset(part);\n    const y = getTailYOffset(part);\n    const box = snake.tailSvg.viewBox.baseVal;\n    const transform = getTailTransform(part.direction, box);\n    const viewBoxStr = `${box.x} ${box.y} ${box.width} ${box.height}`;\n    let color = getPartColor(snake, part);\n    let opacity = getPartOpacity(part);\n\n    return (\n      <g key={\"part\" + snakeIndex + \",tail\"}>\n        <svg\n          viewBox={viewBoxStr}\n          x={x}\n          y={y}\n          width={CELL_SIZE}\n          height={CELL_SIZE}\n          fill={color}\n          opacity={opacity}\n          shapeRendering=\"auto\"\n        >\n          <g\n            transform={transform}\n            dangerouslySetInnerHTML={{ __html: snake.tailSvg.innerHTML }}\n          />\n        </svg>\n        {snake.effectiveSpace > 1 && (\n          // only add filler if the snake is effectively longer than one tile\n          <rect\n            x={getTailFillerXOffset(part)}\n            y={getTailFillerYOffset(part)}\n            width={getFillerWidth(part)}\n            height={getFillerHeight(part)}\n            fill={color}\n            opacity={opacity}\n            shapeRendering=\"auto\"\n          />\n        )}\n      </g>\n    );\n  }\n\n  renderLabel(row, col, label) {\n    return (\n      <foreignObject\n        key={\"label\" + row + col}\n        x={toGridSpaceX(col)}\n        y={toGridSpaceY(row)}\n        width={CELL_SIZE}\n        height={CELL_SIZE}\n      >\n        <div\n          style={{\n            width: \"100%\",\n            height: \"100%\",\n            display: \"flex\",\n            alignItems: \"center\",\n            justifyContent: \"center\",\n            opacity: 0.5\n          }}\n        >\n          <div style={{ fontSize: \"80%\" }}>{label}</div>\n        </div>\n      </foreignObject>\n    );\n  }\n\n  renderLabels() {\n    return (\n      <>\n        {range(this.props.rows).map((_, row) => this.renderLabel(row, -1, row))}\n\n        {range(this.props.columns).map((_, col) =>\n          this.renderLabel(-1, col, col)\n        )}\n      </>\n    );\n  }\n\n  renderGrid() {\n    // GRID_COLUMNS = this.props.columns;\n    GRID_ROWS = this.props.rows;\n\n    const unsortedSnakes = this.props.snakes || [];\n    const food = this.props.food || [];\n    const hazards = this.props.hazards || [];\n\n    // Make alive snakes render on top of dead snakes\n    const sortedSnakes = sortAliveSnakesOnTop(\n      unsortedSnakes,\n      this.props.highlightedSnake\n    );\n\n    if (!this.props.highlightedSnake) {\n      // track all of the grid cells that will have a snake part drawn in them.  Successive snake parts\n      // drawn in the same cell need to be flagged so they render differently and layer properly\n      let gridCellsWithSnakeParts = Array(this.props.rows);\n      for (let i = 0; i < gridCellsWithSnakeParts.length; i++) {\n        gridCellsWithSnakeParts[i] = Array(this.props.columns);\n        for (let j = 0; j < this.props.columns; j++) {\n          gridCellsWithSnakeParts[i][j] = false;\n        }\n      }\n\n      // Go through each snake, in the order they will be drawn and mark the cells they will occupy.\n      // flag parts that would be drawn in cells that are already claimed\n      for (let i = 0; i < sortedSnakes.length; i++) {\n        let snake = sortedSnakes[i];\n        if (!snake.isDead) {\n          for (let x = 0; x < snake.body.length; x++) {\n            let part = snake.body[x];\n            if (!isOverlappedByTail(snake, part)) {\n              if (gridCellsWithSnakeParts[part.y][part.x]) {\n                part.shadeForOverlap = true;\n              } else {\n                gridCellsWithSnakeParts[part.y][part.x] = true;\n              }\n            }\n          }\n        }\n      }\n    }\n\n    const viewBoxWidth =\n      (CELL_SIZE + CELL_SPACING) * this.props.columns + CELL_SPACING;\n    const viewBoxHeight =\n      (CELL_SIZE + CELL_SPACING) * this.props.rows + CELL_SPACING;\n\n    const hazardOpacity = parseFloat(colors.hazardOpacity);\n\n    const overflow = this.props.showCoordinateLabels ? \"visible\" : \"hidden\";\n\n    return (\n      <svg\n        className=\"grid\"\n        width={this.props.maxWidth}\n        height={this.props.maxHeight}\n        x={this.props.x}\n        y={this.props.y}\n        viewBox={`0 0 ${viewBoxWidth} ${viewBoxHeight}`}\n        overflow={overflow}\n      >\n        {this.props.showCoordinateLabels && this.renderLabels()}\n        {range(this.props.rows).map((_, row) =>\n          range(this.props.columns).map((_, col) => (\n            <rect\n              key={\"cell\" + row + \",\" + col}\n              x={toGridSpaceX(col)}\n              y={toGridSpaceY(row)}\n              width={CELL_SIZE}\n              height={CELL_SIZE}\n              fill={\n                this.props.theme === themes.dark\n                  ? colors.gridCellBackgroundDark\n                  : colors.gridCellBackground\n              }\n              shapeRendering=\"auto\"\n            />\n          ))\n        )}\n        {sortedSnakes.map((snake, snakeIndex) => {\n          return (\n            <g\n              key={`snake${snakeIndex}`}\n              className=\"snake\"\n              opacity={getOpacity(snake, this.props.highlightedSnake)}\n            >\n              {[...snake.body]\n                .reverse()\n                .map((part, partIndex) =>\n                  this.renderPart(\n                    snake,\n                    snakeIndex,\n                    part,\n                    snake.body.length - partIndex - 1,\n                    this.props.highlightedSnake\n                  )\n                )}\n            </g>\n          );\n        })}\n        {hazards.map((o, hazardIndex) => (\n          <rect\n            key={\"hazard\" + hazardIndex}\n            x={toGridSpaceX(o.x)}\n            y={toGridSpaceY(o.y)}\n            width={CELL_SIZE}\n            height={CELL_SIZE}\n            fill={colors.hazard}\n            fillOpacity={hazardOpacity}\n            shapeRendering=\"auto\"\n          />\n        ))}\n        {food.map((f, foodIndex) => {\n          if (this.props.foodImage) {\n            return (\n              <image\n                key={\"food\" + foodIndex}\n                x={toGridSpaceX(f.x)}\n                y={toGridSpaceY(f.y)}\n                width={CELL_SIZE}\n                height={CELL_SIZE}\n                href={this.props.foodImage}\n              />\n            );\n          } else {\n            return (\n              <circle\n                key={\"food\" + foodIndex}\n                className=\"food\"\n                cx={toGridSpaceX(f.x) + CELL_SIZE / 2}\n                cy={toGridSpaceY(f.y) + CELL_SIZE / 2}\n                r={FOOD_SIZE}\n                fill={colors.food}\n                shapeRendering=\"optimizeQuality\"\n              />\n            );\n          }\n        })}\n      </svg>\n    );\n  }\n\n  render() {\n    if (this.props.snakes) {\n      return this.renderGrid();\n    } else {\n      return;\n    }\n  }\n}\n\nexport default Grid;\n","import React from \"react\";\nimport Grid from \"./grid\";\n\nconst BOARD_SIZE = 100;\n\nconst LABEL_ADJUSTMENT = 10;\n\nclass Board extends React.Component {\n  render() {\n    const boardSize = this.props.showCoordinateLabels\n      ? BOARD_SIZE - LABEL_ADJUSTMENT\n      : BOARD_SIZE;\n\n    const x = this.props.showCoordinateLabels ? LABEL_ADJUSTMENT : 0;\n\n    return (\n      <svg viewBox={`0 0 ${BOARD_SIZE} ${BOARD_SIZE}`}>\n        <Grid\n          snakes={this.props.snakes}\n          food={this.props.food}\n          foodImage={this.props.foodImage}\n          hazards={this.props.hazards}\n          columns={this.props.columns}\n          rows={this.props.rows}\n          highlightedSnake={this.props.highlightedSnake}\n          theme={this.props.theme}\n          maxWidth={boardSize}\n          maxHeight={boardSize}\n          x={x}\n          y={0}\n          turn={this.props.turn}\n          showCoordinateLabels={this.props.showCoordinateLabels}\n        />\n      </svg>\n    );\n  }\n}\n\nexport default Board;\n","import ReconnectingWebsocket from \"./reconnecting-websocket\";\n\n// Establishes websocket connection on given url and then calls receive for\n// every object sent from the server. Returns a promise that resolves when\n// receive returns true or when the server closes the connection.\nexport function streamAll(url, receive) {\n  const turns = {};\n  let done = false;\n\n  return new Promise((resolve, reject) => {\n    const ws = new ReconnectingWebsocket(url);\n    ws.addEventListener(\"message\", e => {\n      const obj = JSON.parse(e.data);\n      const eventData = obj.Data;\n      if (turns[eventData.Turn]) {\n        return;\n      }\n      turns[eventData.Turn] = true;\n\n      done = receive(obj);\n      if (done) {\n        ws.close();\n        resolve();\n      }\n    });\n\n    ws.addEventListener(\"onerror\", e => {\n      reject(e);\n    });\n\n    ws.addEventListener(\"onclose\", e => {\n      if (!done) {\n        done = true;\n        resolve();\n      }\n    });\n  });\n}\n","/**\n * This file contains helper functions for async loading svg files that\n * can be injected inline into an html <svg> element. This is better than\n * alternatives for the following reasons:\n *\n *    <use href=\"...\"> has a problem where the game could start before the\n *    svg has finished loading whereas this method gives a promise we can wait\n *    for.\n *\n *    <image src=\"...\"> has a problem where the fill color of the image cannot\n *    be overriden. Inline svg solves this problem and allows css styles to\n *    cascade into the svg content. <use> may also have this problem?\n *\n *    Directly embedding the svg xml into react components (or similar) would\n *    mostly solve everything except that it eliminates the possibility of\n *    pulling in svg data from external trusted sources.\n *\n * The main downside to this method is that the source of the svg must be\n * trusted or else you are vulnerable to xss attacks.\n */\n\nconst loaded = {};\nconst doesntExist = {};\n\nexport function loadSvgs(paths) {\n  return Promise.all(paths.map(requireSvg));\n}\n\nexport function getSvg(path) {\n  return loaded[path];\n}\n\nfunction requireSvg(path) {\n  if (path in loaded) {\n    return Promise.resolve(loaded[path]);\n  }\n\n  return fetchSvg(path);\n}\n\nasync function fetchSvg(path) {\n  const response = await fetch(path);\n  const svgText = await response.text();\n  const svg = makeDom(svgText);\n  loaded[path] = svg;\n  return svg;\n}\n\nfunction makeDom(svgText) {\n  const wrapper = document.createElement(\"div\");\n  wrapper.innerHTML = svgText.trim();\n  return wrapper.firstChild;\n}\n\nexport async function svgExists(path) {\n  if (path in loaded) {\n    return true;\n  }\n  if (path in doesntExist) {\n    return false;\n  }\n  //not cached yet\n  try {\n    const response = await fetch(path);\n    const svgText = await response.text();\n    const exists = svgText.startsWith(\"<svg\");\n    if (!exists) {\n      doesntExist[path] = true;\n    }\n    return exists;\n  } catch (e) {\n    //Most likely a CORS issue for a specific svg\n    console.warn(e, path, \"Fallback to default\");\n    return false;\n  }\n}\n","import { streamAll } from \"../io/websocket\";\nimport { makeQueryString, httpToWsProtocol, join } from \"./url\";\nimport { loadSvgs, getSvg, svgExists } from \"./inline-svg\";\n\nconst DEFAULT_SNAKE_HEAD = \"default\";\nconst DEFAULT_SNAKE_TAIL = \"default\";\nconst APP_VERSION = process.env.REACT_APP_VERSION;\n\nasync function get(url, query) {\n  console.log(\"output game config\");\n  const response = await fetch(url + makeQueryString(query));\n  console.log(response);\n  if (response.status === 200) {\n    return Promise.resolve(response.json());\n  } else {\n    return Promise.resolve(response.json()).then(responseJson => {\n      console.error(responseJson.error);\n      return Promise.reject(responseJson.error);\n    });\n  }\n}\n\nexport function delay(millis) {\n  return new Promise(resolve => setTimeout(resolve, millis));\n}\n\nexport function getReadableCauseOfDeath(death) {\n  // See https://github.com/BattlesnakeOfficial/rules/blob/master/standard.go\n  switch (death.cause) {\n    case \"snake-collision\":\n      return `Ran into ${death.eliminatedBy}'s body`;\n    case \"snake-self-collision\":\n      return \"Collided with itself\";\n    case \"out-of-health\":\n      return \"Out of health\";\n    case \"hazard\":\n      return \"Eliminated by hazard\";\n    case \"head-collision\":\n      return `Lost head-to-head with ${death.eliminatedBy}`;\n    case \"wall-collision\":\n      return \"Moved out of bounds\";\n    case \"squad-eliminated\":\n      return \"Squad was eliminated\";\n    default:\n      return death.cause;\n  }\n}\n\n// Gets a list of all unique SVG paths required by the snakes.\nfunction getAllSvgs(snakes) {\n  const all = snakes.reduce((result, snake) => {\n    return result.concat([snake.HeadType, snake.TailType]);\n  }, []);\n  const unique = new Set(all);\n  return Array.from(unique);\n}\n\nasync function assignHeadAndTailUrls(snakes) {\n  for (const snake of snakes) {\n    // Assign default if missing\n    if (!snake.HeadType) {\n      snake.HeadType = DEFAULT_SNAKE_HEAD;\n    }\n    if (!snake.TailType) {\n      snake.TailType = DEFAULT_SNAKE_TAIL;\n    }\n\n    // Format as actual URL if it's just a name\n    snake.HeadType = getSnakeHeadSvgUrl(snake.HeadType);\n    snake.TailType = getSnakeTailSvgUrl(snake.TailType);\n\n    if (!(await svgExists(snake.HeadType))) {\n      snake.HeadType = getSnakeHeadSvgUrl(DEFAULT_SNAKE_HEAD);\n    }\n    if (!(await svgExists(snake.TailType))) {\n      snake.TailType = getSnakeTailSvgUrl(DEFAULT_SNAKE_TAIL);\n    }\n  }\n}\n\nasync function setHeadAndTailSvgs(snakes) {\n  await assignHeadAndTailUrls(snakes);\n  await loadSvgs(getAllSvgs(snakes));\n\n  for (const snake of snakes) {\n    snake.HeadSvg = getSvg(snake.HeadType);\n    snake.TailSvg = getSvg(snake.TailType);\n  }\n}\n\nfunction isIllegalSvgPath(nameOrPath) {\n  return nameOrPath.indexOf(\"/\") >= 0 || nameOrPath.indexOf(\".\") >= 0;\n}\n\nfunction svgUrlFromName(base, relative) {\n  //appending the git hash of this version allows for cache busting on deploy\n  const extension = \".svg?board_version=\" + APP_VERSION;\n  return join(\"https://media.battlesnake.com\", base, relative) + extension;\n}\n\nfunction getSnakeHeadSvgUrl(path) {\n  const effectivePath = isIllegalSvgPath(path) ? DEFAULT_SNAKE_HEAD : path;\n  return svgUrlFromName(\"/snakes/heads\", effectivePath);\n}\n\nfunction getSnakeTailSvgUrl(path) {\n  const effectivePath = isIllegalSvgPath(path) ? DEFAULT_SNAKE_TAIL : path;\n  return svgUrlFromName(\"/snakes/tails\", effectivePath);\n}\n\nasync function prepareFrame(frame) {\n  await setHeadAndTailSvgs(frame.Snakes);\n}\n\nexport function fetchGameInfo(baseUrl, gameId) {\n  const url = join(baseUrl, `games/${gameId}`);\n  console.log(\"output:\");\n  console.log(url);\n  return get(url);\n}\n\nexport async function streamAllEvents(baseUrl, gameId, receiveEvent) {\n  const game = await fetchGameInfo(baseUrl, gameId);\n  console.log(game);\n  let chain = Promise.resolve();\n  function onEngineEvent(engineEvent) {\n    if (engineEvent.Type) {\n      const eventData = engineEvent.Data || engineEvent;\n      //output eventdata\n      console.log(eventData);\n      chain = chain.then(async () => {\n        if (engineEvent.Type === \"frame\") {\n          await prepareFrame(eventData);\n        }\n        return receiveEvent(game, engineEvent.Type, eventData);\n      });\n    }\n    return engineEvent.Type && engineEvent.Type === \"game_end\";\n  }\n\n  const wsUrl = join(httpToWsProtocol(baseUrl), `games/${gameId}/events`);\n  console.log(\"output wsurl\");\n  console.log(wsUrl);\n  await streamAll(wsUrl, onEngineEvent);\n  await chain;\n}\nexport function getFrameByTurn(frames, turn) {\n  return frames.filter(frame => frame.turn === turn)[0];\n}\n","import React from \"react\";\nimport { colors } from \"../../../theme\";\nimport \"./ErrorMessage.css\";\n\nconst errorColor = {\n  color: colors.danger\n};\n\nfunction getIcon(code) {\n  return \"error\";\n}\n\nconst ErrorMessage = props => {\n  let code, message;\n\n  if (props.error === \"\") {\n    return \"\";\n  }\n\n  [code, message] = props.error.toString().split(\":\");\n\n  return (\n    <div className=\"error-message\" style={errorColor}>\n      <span className=\"material-icons material-icons-inline\">\n        {getIcon(code)}\n      </span>\n      <span>{message}</span>\n    </div>\n  );\n};\n\nexport default ErrorMessage;\n","import React from \"react\";\nimport { colors } from \"../../../theme\";\n\nconst style = {\n  color: colors.danger,\n  cursor: \"pointer\",\n  margin: 0,\n  padding: 0\n};\n\nfunction getIcon(code) {\n  return \"error\";\n}\n\nconst StatusIndicator = ({ errorMessage }) => {\n  if (errorMessage === \"\") {\n    return \"\";\n  }\n\n  // until we can refactor Avatar and not pass the whole error object\n  const [code] = errorMessage.toString().split(\":\");\n\n  return (\n    <div style={style}>\n      <span className=\"material-icons material-icons-inline\">\n        {getIcon(code)}\n      </span>\n    </div>\n  );\n};\n\nexport default StatusIndicator;\n","import React from \"react\";\nimport styled from \"@emotion/styled\";\nimport { colors, themes } from \"../theme\";\nimport { getReadableCauseOfDeath } from \"../utils/engine-client\";\nimport ErrorMessage from \"./scoreboard/error-message/ErrorMessage\";\n\nimport \"./scoreboard/avatar/Avatar.css\";\nimport StatusIndicator from \"./scoreboard/status-indicator/StatusIndicator\";\n\nconst AvatarWrapper = styled(\"div\")`\n  width: 100%;\n  white-space: nowrap;\n  overflow: hidden;\n\n  opacity: ${props => (props.isEliminated ? \"0.5\" : \"1.0\")};\n`;\n\nconst Name = styled(\"span\")(({ theme }) => ({\n  display: \"block\",\n  textShadow: theme === themes.dark ? \"0 1px 2px rgba(0,0,0,0.90)\" : null\n}));\n\nconst Length = styled(\"span\")(({ theme }) => ({\n  marginLeft: \"auto\",\n  textShadow: theme === themes.dark ? \"0 1px 2px rgba(0,0,0,0.90)\" : null\n}));\n\nconst AuthorWrapper = styled(\"div\")({\n  fontSize: \"1rem\",\n  fontWeight: \"400\",\n  display: \"flex\",\n  flexDirection: \"row\",\n  height: \"1.25rem\"\n});\n\nconst Author = styled(\"span\")(({ theme }) => ({\n  display: \"block\",\n  flexGrow: 1,\n  textShadow: theme === themes.dark ? \"0 1px 2px rgba(0,0,0,0.90)\" : null\n}));\n\nconst Latency = styled(\"span\")(({ theme, latency }) => ({\n  color: latency === \"0\" ? \"red\" : \"inherit\",\n  marginLeft: \"auto\",\n  textShadow: theme === themes.dark ? \"0 1px 2px rgba(0,0,0,0.90)\" : null,\n  display: latency === \"\" ? \"none\" : \"block\"\n}));\n\nconst HealthBarWrapper = styled(\"div\")({\n  marginTop: \"0.2rem\",\n  width: \"100%\",\n  height: \"1.0rem\",\n  background: colors.healthBarBackground,\n  borderRadius: \"1.5rem\"\n});\n\nconst HealthBar = styled(\"div\")(({ color }) => ({\n  height: \"100%\",\n  backgroundColor: color,\n  borderRadius: \"inherit\"\n}));\n\nconst CauseOfDeath = styled(\"div\")(({ theme }) => ({\n  width: \"100%\",\n  marginTop: \"0.2rem\",\n  fontSize: \"1rem\",\n  lineHeight: \"1rem\",\n  color: theme === themes.dark ? colors.lightText : colors.darkText\n}));\n\nclass Avatar extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      showError: false\n    };\n  }\n  render() {\n    return (\n      <AvatarWrapper isEliminated={this.props.snake.death ? true : false}>\n        <div className=\"row\">\n          <Name>{this.props.snake.name}</Name>\n          <Length>{this.props.snake.body.length}</Length>\n        </div>\n        <AuthorWrapper>\n          <Author>by {this.props.snake.author}</Author>\n          <StatusIndicator errorMessage={this.props.snake.error} />\n          <Latency latency={this.props.snake.latency}>\n            {this.props.snake.latency} ms\n          </Latency>\n        </AuthorWrapper>\n        {this.props.snake.death ? (\n          <CauseOfDeath theme={this.props.theme}>\n            {getReadableCauseOfDeath(this.props.snake.death)}\n          </CauseOfDeath>\n        ) : (\n          <HealthBarWrapper>\n            <HealthBar\n              color={this.props.snake.color}\n              style={{\n                width: `${this.props.snake.health}%`\n              }}\n            />\n          </HealthBarWrapper>\n        )}\n        <ErrorMessage\n          error={this.props.highlighted ? this.props.snake.error : \"\"}\n        />\n      </AvatarWrapper>\n    );\n  }\n}\n\nexport default Avatar;\n","import React from \"react\";\nimport styled from \"@emotion/styled\";\nimport Avatar from \"./avatar\";\nimport { breakpoints, colors, themes } from \"../theme\";\n\nconst orderSnakes = snakes => {\n  // Sort by name\n  const aliveSnakes = snakes\n    .filter(s => !s.isDead)\n    .sort((a, b) => {\n      const aLower = a.name.toLowerCase();\n      const bLower = b.name.toLowerCase();\n      if (aLower < bLower) {\n        return -1;\n      }\n      if (aLower > bLower) {\n        return 1;\n      }\n      return 0;\n    });\n\n  // Sort by turn died, descending\n  const deadSnakes = snakes\n    .filter(s => s.isDead)\n    .sort((a, b) => a.death.turn - b.death.turn)\n    .reverse();\n\n  return aliveSnakes.concat(deadSnakes);\n};\n\nconst Wrapper = styled(\"div\")`\n  display: none;\n  color: ${({ theme }) =>\n    theme === themes.dark ? colors.lightText : colors.darkText};\n  font-weight: 600;\n  font-size: 1.4rem;\n\n  @media (min-width: ${breakpoints.md}) {\n    display: ${({ hide }) => (hide ? \"none\" : \"block\")};\n    font-size: 1.8rem;\n  }\n\n  @media (min-width: ${breakpoints.xxl}) {\n    font-size: 3.2rem;\n    letter-spacing: 0.1rem;\n  }\n`;\n\nconst AvatarWrapper = styled(\"div\")`\n  padding: 0.75rem;\n  transition: background-color 0.2s, box-shadow 0.2s;\n  border: 2px solid\n    ${props =>\n      props.highlighted ? colors.avatarHighlightedBorder : \"transparent\"};\n  &:hover {\n    background-color: ${props =>\n      props.theme === themes.dark ? colors.purple : colors.light};\n    cursor: pointer;\n    border-color: ${props =>\n      props.highlighted\n        ? colors.avatarHighlightedBorder\n        : colors.avatarHoverBorder};\n  }\n`;\n\nclass Scoreboard extends React.Component {\n  state = {\n    highlightedSnake: null\n  };\n\n  toggleHighlight = snake => {\n    const getSnakeToHighlight = (state, snake) => {\n      return state.highlightedSnake !== snake._id ? snake._id : null;\n    };\n\n    this.props.highlightSnake(getSnakeToHighlight(this.state, snake));\n\n    this.setState(state => ({\n      highlightedSnake: getSnakeToHighlight(state, snake)\n    }));\n  };\n\n  render() {\n    const { highlightedSnake } = this.state;\n    return (\n      <Wrapper theme={this.props.theme}>\n        {this.props.snakes\n          ? orderSnakes(this.props.snakes).map((snake, i) => (\n              <AvatarWrapper\n                key={\"avatarwrapper\" + i}\n                onClick={() => this.toggleHighlight(snake)}\n                highlighted={highlightedSnake === snake._id}\n                theme={this.props.theme}\n              >\n                <Avatar\n                  snake={snake}\n                  key={\"avatar\" + i}\n                  theme={this.props.theme}\n                  highlighted={highlightedSnake === snake._id}\n                />\n              </AvatarWrapper>\n            ))\n          : undefined}\n      </Wrapper>\n    );\n  }\n}\n\nexport default Scoreboard;\n","import React from \"react\";\nimport styled from \"@emotion/styled\";\nimport KeyboardEventHandler from \"react-keyboard-event-handler\";\nimport { withRouter } from \"react-router\";\nimport { themes, breakpoints } from \"../theme\";\n\nconst MediaControlsWrapper = styled(\"div\")`\n  display: ${({ hide }) => (hide ? \"none\" : \"block\")};\n  margin-top: 1rem;\n  width: 100%;\n`;\n\nconst KeyboardShortcutsWrapper = styled(\"div\")({\n  position: \"relative\"\n});\n\nconst ShortcutsPane = styled(\"div\")`\n  position: absolute;\n  bottom: 2.5rem;\n  right: 2.5rem;\n  width: 20rem;\n  padding: 1rem;\n  border: solid 1px #999;\n  background: #fff;\n\n  @media (min-width: ${breakpoints.md}) {\n    left: 2.5rem;\n    right: 0;\n  }\n\n  h4 {\n    margin-top: 0;\n    margin-bottom: 1rem;\n  }\n\n  ul {\n    list-style-type: none;\n    margin: 0;\n    padding: 0;\n  }\n`;\n\nconst ButtonWrapper = styled(\"div\")({\n  display: \"flex\",\n  justifyContent: \"center\",\n  width: \"100%\"\n});\n\nconst Button = styled(\"button\")`\n  display: inline-block;\n  min-width: 3rem;\n  text-align: center;\n  background: transparent;\n  color: ${({ theme }) => (theme === themes.dark ? \"#eee\" : \"#333\")};\n  font-size: 1.4rem;\n  border: none;\n  text-decoration: none;\n  cursor: pointer;\n  transition: background 250ms ease-in-out, transform 150ms ease;\n  -webkit-appearance: none;\n  -moz-appearance: none;\n\n  &:hover {\n    cursor: pointer;\n  }\n\n  &:focus {\n    outline: none;\n  }\n\n  &:disabled {\n    color: #ccc;\n    cursor: not-allowed;\n  }\n\n  @media (max-width: ${breakpoints.sm}) {\n    padding: 2rem 2rem;\n  }\n`;\n\nconst Scrubber = styled(\"input\")`\n  width: 100%;\n  max-width: 60rem;\n\n  &:disabled,\n  &:disabled:hover {\n    opacity: 0.2;\n    cursor: not-allowed;\n  }\n`;\n\nclass MediaControls extends React.Component {\n  state = {\n    paneHidden: true\n  };\n\n  constructor(props) {\n    super(props);\n    this.keyboardCodeMap = {\n      KeyR: \"r\",\n      ArrowLeft: \"left\",\n      ArrowRight: \"right\",\n      Space: \"space\",\n      Settings: \",\"\n    };\n  }\n\n  componentDidMount() {\n    window.addEventListener(\"message\", this.handleParentKeyboardEvent);\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener(\"message\", this.handleParentKeyboardEvent);\n  }\n\n  render() {\n    return this.renderControls();\n  }\n\n  handleParentKeyboardEvent = e => {\n    const { code } = e.data;\n    this.handleKeyEvent(this.keyboardCodeMap[code], e);\n  };\n\n  handleReload = () => {\n    this.props.reloadGame();\n  };\n\n  handlePlayPause = () => {\n    this.props.toggleGamePause();\n  };\n\n  handleBackward = () => {\n    this.props.stepBackwardFrame();\n  };\n\n  handleForward = () => {\n    this.props.stepForwardFrame();\n  };\n\n  handleScrubMouseDown = () => {\n    this.props.pauseGame();\n  };\n\n  handleScrubbing = event => {\n    this.props.stepToTurn(parseInt(event.target.value));\n  };\n\n  handleSettings = () => {\n    if (this.props.persistAvailable) {\n      this.props.history.push(\"/settings\");\n    }\n  };\n\n  handleShortcutPaneShowToggle = () => {\n    this.setState({\n      paneHidden: !this.state.paneHidden\n    });\n  };\n\n  handleKeyEvent = (key, e) => {\n    e.preventDefault();\n    switch (key) {\n      case \"r\":\n        this.handleReload();\n        break;\n      case \"left\":\n        this.handleBackward();\n        break;\n      case \"right\":\n        this.handleForward();\n        break;\n      case \"space\":\n        this.handlePlayPause();\n        break;\n      case \",\":\n        this.handleSettings();\n        break;\n      default:\n        break;\n    }\n  };\n\n  renderScrubbing() {\n    const value = this.props.hasAllFrames ? this.props.currentFrame.turn : 0;\n    const max = this.props.hasAllFrames ? this.props.maxTurn : 0;\n\n    return (\n      this.props.showFrameScrubber && (\n        <ButtonWrapper>\n          <Scrubber\n            type=\"range\"\n            min=\"0\"\n            max={max}\n            value={value}\n            onMouseDown={this.handleScrubMouseDown}\n            onChange={this.handleScrubbing}\n            disabled={!this.props.hasAllFrames}\n          />\n        </ButtonWrapper>\n      )\n    );\n  }\n\n  renderControls() {\n    const {\n      currentFrame,\n      hideControls,\n      paused,\n      theme,\n      persistAvailable\n    } = this.props;\n\n    const settingsInfo = persistAvailable\n      ? \"Configure playback settings\"\n      : \"Enable localStorage to configure playback settings\";\n\n    return (\n      <MediaControlsWrapper hide={hideControls}>\n        {this.renderScrubbing()}\n        <ButtonWrapper>\n          <Button\n            onClick={this.handleBackward}\n            disabled={currentFrame.turn === 0 || !paused}\n            theme={theme}\n          >\n            <span className=\"material-icons icon-image-preview\">\n              skip_previous\n            </span>\n          </Button>\n          <Button onClick={this.handlePlayPause} theme={theme}>\n            <span className=\"material-icons icon-image-preview\">\n              {paused ? \"play_arrow\" : \"pause\"}\n            </span>\n          </Button>\n          <Button onClick={this.handleForward} disabled={!paused} theme={theme}>\n            <span className=\"material-icons icon-image-preview\">skip_next</span>\n          </Button>\n          <Button\n            onClick={this.handleReload}\n            disabled={currentFrame.turn === 0 || !paused}\n            theme={theme}\n          >\n            <span className=\"material-icons icon-image-preview\">refresh</span>\n          </Button>\n          <Button\n            onClick={this.handleSettings}\n            disabled={!persistAvailable}\n            theme={theme}\n          >\n            <span\n              className=\"material-icons icon-image-preview\"\n              title={settingsInfo}\n            >\n              settings\n            </span>\n          </Button>\n          <KeyboardEventHandler\n            handleKeys={Object.values(this.keyboardCodeMap)}\n            onKeyEvent={this.handleKeyEvent}\n          />\n          <KeyboardShortcutsWrapper>\n            <Button onClick={this.handleShortcutPaneShowToggle} theme={theme}>\n              <span className=\"material-icons icon-image-preview\">help</span>\n            </Button>\n            {!this.state.paneHidden && (\n              <ShortcutsPane>\n                <h4>Keyboard shortcuts</h4>\n                <ul>\n                  <li>Reload = r</li>\n                  <li>Play/Pause = space</li>\n                  <li>Backward = left arrow</li>\n                  <li>Forward = right arrow</li>\n                  <li>Settings = comma</li>\n                </ul>\n              </ShortcutsPane>\n            )}\n          </KeyboardShortcutsWrapper>\n        </ButtonWrapper>\n      </MediaControlsWrapper>\n    );\n  }\n}\n\nexport default withRouter(MediaControls);\n","import React from \"react\";\nimport styled from \"@emotion/styled\";\n\nimport { colors, themes } from \"../theme\";\n\nconst SVGWrapper = styled(\"div\")`\n  height: 100%;\n  width: 100%;\n\n  > svg {\n    object-fit: contain;\n    width: 100%;\n    height: 100%;\n    max-width: 100%;\n    max-height: 100%;\n  }\n`;\n\nconst SVGLogo = props => {\n  return (\n    <SVGWrapper>\n      <svg\n        data-name=\"Layer 1\"\n        viewBox=\"0 0 360 150.82\"\n        width=\"1em\"\n        height=\"1em\"\n        {...props}\n      >\n        <defs>\n          <linearGradient\n            id=\"Wordmark_svg__a\"\n            x1={118.62}\n            y1={69.31}\n            x2={345.43}\n            y2={181.87}\n            gradientTransform=\"matrix(1 0 0 -1 0 150.95)\"\n            gradientUnits=\"userSpaceOnUse\"\n          >\n            <stop offset={0} stopColor=\"#3d2f90\" />\n            <stop offset={1} stopColor=\"#ea0578\" />\n          </linearGradient>\n          <linearGradient\n            id=\"Wordmark_svg__b\"\n            x1={153.2}\n            y1={-0.36}\n            x2={380.02}\n            y2={112.21}\n            xlinkHref=\"#Wordmark_svg__a\"\n          />\n          <linearGradient\n            id=\"Wordmark_svg__c\"\n            x1={110.47}\n            y1={85.74}\n            x2={337.28}\n            y2={198.31}\n            xlinkHref=\"#Wordmark_svg__a\"\n          />\n          <linearGradient\n            id=\"Wordmark_svg__d\"\n            x1={132.19}\n            y1={41.99}\n            x2={359}\n            y2={154.56}\n            xlinkHref=\"#Wordmark_svg__a\"\n          />\n          <linearGradient\n            id=\"Wordmark_svg__e\"\n            x1={98.64}\n            y1={109.56}\n            x2={325.45}\n            y2={222.13}\n            xlinkHref=\"#Wordmark_svg__a\"\n          />\n          <linearGradient\n            id=\"Wordmark_svg__f\"\n            x1={130.52}\n            y1={47.49}\n            x2={364.27}\n            y2={163.5}\n            xlinkHref=\"#Wordmark_svg__a\"\n          />\n          <linearGradient\n            id=\"Wordmark_svg__g\"\n            x1={13.42}\n            y1={72.58}\n            x2={346.58}\n            y2={72.58}\n            xlinkHref=\"#Wordmark_svg__a\"\n          />\n          <linearGradient\n            id=\"Wordmark_svg__h\"\n            x1={86.06}\n            y1={89.18}\n            x2={274.73}\n            y2={89.18}\n            gradientUnits=\"userSpaceOnUse\"\n          >\n            <stop offset={0.23} stopColor=\"#3d2f90\" />\n            <stop offset={1} stopColor=\"#9f1782\" />\n          </linearGradient>\n        </defs>\n        <g opacity={0.15}>\n          <path\n            d=\"M215.54 86.65h-23.25V41h-10.54v45.65H158.5V41H142l-8.33-20h94.25l-.45 20h-12z\"\n            fill=\"url(#Wordmark_svg__a)\"\n          />\n          <path\n            d=\"M339.67 139L254 92.43l22-22.36-21.6-49.25h86.18v8.25L326.36 39l15.87 13.86h-39.14l11.13 24-12.44 12.6z\"\n            fill=\"url(#Wordmark_svg__b)\"\n          />\n          <path\n            d=\"M105.76 87.44L88.25 69.73l20.55-49.12h22.4l27.62 66H133.6l-3.38-8.53h-20.79z\"\n            fill=\"url(#Wordmark_svg__c)\"\n          />\n          <path\n            d=\"M256.83 86.65h-27.21V21.06h23.24V63h18l3 6.8z\"\n            fill=\"url(#Wordmark_svg__d)\"\n          />\n          <path\n            d=\"M21.56 139l38-49.57-12.47-12.67 11.14-24H19l15.87-13.83L20.63 29v-8.28h86.17L85.28 70.13l22 22.3z\"\n            fill=\"url(#Wordmark_svg__e)\"\n          />\n        </g>\n        <path\n          d=\"M87.27 125.08a3.06 3.06 0 00.84-.72l-1.65 1.11z\"\n          fill=\"url(#Wordmark_svg__f)\"\n        />\n        <path\n          d=\"M343.93 133.36l-88.33-48 22.65-23.05-22.17-50.51h88.81V20l-14.66 10.19 16.35 14.28h-40.34l11.48 24.69-12.82 13.1zM259 84.84L336.51 127l-34.3-44.92 13.07-13.35L303 42.4h38.11L326.92 30l15.93-11.13v-5.39h-83.66l21.48 49.26zm57.7-57.75a4.75 4.75 0 114.74-4.75 4.66 4.66 0 01-4.79 4.75zm0-7.49a2.74 2.74 0 102.74 2.74 2.7 2.7 0 00-2.79-2.74zm-185-7.81l8.3 20.58h17.31v46.21L129.1 11.81H106C99 28.68 91.89 45.08 84.83 62l18 18.25 3.68-9.63h21.59q1.72 4.41 3.47 8.8h49.62v-47h10.88v47H216v-47h12.28V11.8zm1.3 65.55l-3.47-8.8h-24.38l-3.05 8-14.86-15c6.71-16.05 13.42-31.6 20.13-47.64h20.37c8.93 21.32 17.85 42.16 26.77 63.49zm93.34-47H214v47h-19.9v-47h-14.95v47h-19.87v-47h-17.94l-6.77-16.5h91.73zM109.91 55h14.93l-7.47-19.8q-3.73 9.92-7.46 19.8zm2.94-2l4.52-12 4.52 12zm160 2h-18.54V11.8h-23.52l-.43 67.39 28.09.19 17.46-17.29zm-15.24 22.34l-25.21-.18V13.47h19.85V57h19.21l2 4.59zm-155.18 9.09zm0 0zm0 0zM43.4 17.6a4.75 4.75 0 104.75 4.74 4.65 4.65 0 00-4.75-4.74zm0 7.48a2.74 2.74 0 112.74-2.74 2.69 2.69 0 01-2.74 2.74zm38.33 37.55l22.12-50.8H15.12V20l14.65 10.22-16.35 14.27h40.34l-11.48 24.7 12.8 13.11L16.81 133l82.84-45.06 4.68-2.54zm19.37 22.2L23.53 127l34.31-44.91-13.07-13.35L57 42.4H18.89L33.12 30 17.2 18.89v-5h83.62c-5 11.68-21.57 49.2-21.57 49.2z\"\n          fill=\"url(#Wordmark_svg__g)\"\n        />\n        <path\n          d=\"M271.62 55.66c-.23-.26-.17-.48-.69-.44a.74.74 0 00-.43 1.21c.08.09-.2.2-.24.18a3.85 3.85 0 00-.44-.19c-.08 0-.13.11-.17-.05s-.34-.41-.52-.35-.05.08-.15 0-.2-.21-.36-.18a26.54 26.54 0 00-6.15 2.16 4.38 4.38 0 01-1.27.5c-.2 0-.37-.38-.65-.23a5.68 5.68 0 01-.77.42c-.19 0-.24-.09-.39 0-3.16 1.26-6.21 2.65-9.28 4.07a6.76 6.76 0 01-1 .32c-1.08.36-2.12.67-3.22 1a15.64 15.64 0 00-3.32 1.12.55.55 0 00.06 1c-2.37 1-4.82 1.88-7.25 2.74-.78.27-.46 1.19.29 1.19-.21.23-.16.1-.43.41a4.37 4.37 0 00-.93 1.57c0 .18.25.49.25.62a1.69 1.69 0 010 .21c-.12 5.6.05 11.16.23 16.75l-.54.15a40.47 40.47 0 01-6 1 21.23 21.23 0 01-3.56.12c-.18 0-.3-.36-.48-.39a.63.63 0 01-.39-.13c-.83-.65-1.57-1-2.38-1.81a18.7 18.7 0 01-2.26-3l.06-.12a7 7 0 01.54-.76c.17-.21.38-.52.58-.75a6.21 6.21 0 00.42-.81 15.73 15.73 0 011.7-2.19c.68-.77.86-.9 1.78-2s3.47-4 4.35-5.13a11.59 11.59 0 001.53-2.28c.22-.44 0-.76.14-1.14a2.57 2.57 0 00.16-.93 2.13 2.13 0 00-.63-1.13 2.94 2.94 0 00-.81-.56c-.31-.15-.52-.31-.86-.44s-.52-.63-.87-.76a4.06 4.06 0 01-1.23-.45c-.34-.26-.76-.78-1.12-.8s-.71.54-1 .76-.81.56-1.09.77.12.4.21.41.34.26.26.33-.31-.13-.51-.07-.34-.14-.62.2c-1.47 1.75-3.95 4.69-5.31 6.22a20.74 20.74 0 00-2.45 3.44c-.32.49-.62.91-1 1.36l-1.12 1.43c-.29.39-.36.47-.61.83v-1.84c0-.84 0-2.07.05-3 0-1.52-.09-3.48-.09-4.9a11.51 11.51 0 00-.72-3.5c-.23-.83.2-1.82.12-2.56s-.46-.72-1-.67a.73.73 0 00-1.24-.76c-.55.61-.73 1.28-1.28 1.77-.88.77-1.84 1.33-2.69 2.12-2.23 0-2.4 1.66-2.55 3.52a1.51 1.51 0 000 .7 4.64 4.64 0 01.05 1c.06.82 0 2 .07 2.68s-.38 1.06-.38 1.55c0 1.71.19 3.36.08 5-.08 1.09-.11 2-.19 3.11-.43-.5-.85-1-1.26-1.51-2.74 1.08-5.55 2.22-8.29 3.15a3.45 3.45 0 01-.66.19c-.23 0-.36.25-.54.21s-.38.18-.54 0a12 12 0 01-1.2-2.32c-.36-.76-.8-1.81-1.1-2.54l-.78-1.88c-.27-.66-.6-1.2-.86-1.86s-.39-1.44-.67-2.11a2.09 2.09 0 01-.08-.23 18 18 0 00-2.83-6.09c-.14-.23-.26-.71-.38-.67a2.44 2.44 0 00-.79 1c-.06.28.64.89.62 1.12s-.58 0-.64-.09 0-.05 0-.15a.66.66 0 00-.25-.37c-.08 0 0-.15 0-.11a12.69 12.69 0 00-.75 1.09 1.39 1.39 0 01-1.69.42c-1.19-.55-2.33-1.15-3.51-1.71a5.54 5.54 0 00-.57-.21c-1.07 2.51-1.71 5.11-3.37 7.32 0 .07-.19.11-.24.16a4.61 4.61 0 00-.76 2 1.91 1.91 0 01-.07.3c-.27.59-.64 1.51-.87 2s.06.6.12.9 0 .07-.09.46a18.56 18.56 0 01-.56 1.78 2.17 2.17 0 000 .51c0 .14.15.28.13.39-.1.61-.3 1.32-.42 1.89s-.32 1.42-.42 1.87-.18.79-.24 1 0 0-.05.09 0 0 0 .06a.1.1 0 010 .09v.07a1 1 0 000 .12v.13a1.27 1.27 0 01-.06.18V92c0 .07 0 0 0 0v.07a.13.13 0 000 .08v.07c0 .07 0-.1 0 0a3.48 3.48 0 01-.1.41v.2c0 .02 0 0 0 0v-.07c0 .01 0 0 0 0v.15c0 .02 0 0 0 0v.25c0 .05 0 0 0 0v.19a.58.58 0 000 .18v.06a.51.51 0 010 .13v.06a.45.45 0 000 .11v.19c0 .04 0 0 0 0a.54.54 0 010 .15s0 .22-.08.31 0-.07 0 0v.11c0 .19-.15.65-.23 1a28.7 28.7 0 00-1.06 5.79 5.35 5.35 0 00.15 1c-.16.21-.32.38-.48.58a2 2 0 01.63.44c.08.12 0 .1 0 .15s-.05 0-.05.06v.08a.33.33 0 010 .14v.14a.26.26 0 000 .15V104.62c0 .07 0-.06 0 0v.35c0 .05.05 0 0 0s0 0 0 .06v1.04c0 .03 0 .06 0 0v.1c0 .03 0 0 0 0v.06c0 .06 0 0 0 0a.31.31 0 010 .1v.09a1.94 1.94 0 010 .24s0-.06 0 0a1.29 1.29 0 010 .19s.06 0 0 .07a.19.19 0 00-.05.11v1.83c0 .21-.06 0 0 0s0 .06 0 .1 0-.06 0 0v.5c0 .02 0 .1 0 0s-.05-.37-.06-.46a1.15 1.15 0 010-.21v-.07-.52-.39a.72.72 0 010-.23v-.05a.16.16 0 000-.09v-.05c0-.05.06 0 0-.07a1.77 1.77 0 01-.05-.32c0-.06.05 0 .06 0a2.36 2.36 0 010-.37v-.07-.05a1.89 1.89 0 00-.06.18v.09a.55.55 0 000 .18v.06c0 .06 0 0 0 0v-.06c0 .01-.06 0-.07 0s0 .14 0 .22V107.65c0 .01 0 0 0 0a.53.53 0 010 .13V108.93a1.07 1.07 0 000 .25v.07a.29.29 0 010 .09V109.83a2.18 2.18 0 000 .25 1.62 1.62 0 000-.22.31.31 0 000-.1v-.06a1.82 1.82 0 010-.33v-.18a.74.74 0 000-.15s0-.06 0 0a1.19 1.19 0 01.05.22v.11a.13.13 0 010 .09v.1s0-.07 0 0a.65.65 0 010 .2v.25a1.48 1.48 0 010 .22.12.12 0 000 .09v-.1c0-.01 0 0 0 0s0-.06 0 0v.12a.46.46 0 010 .14c0 .09.06.4.08.49s0 0 0 .1v.21h.07v-.08-.06s0-.12.05-.11 0 .06.05.08a.15.15 0 010 .07v-.07c0-.03 0 0 0 0a2.64 2.64 0 010-.29c0-.05.05 0 0-.05s0 0 0-.06v-.06-.12a3.23 3.23 0 00.58 1.24 2 2 0 002 .71 34.67 34.67 0 003.8 3.47c.45.33 1.3.2 1.24-.52a42.61 42.61 0 011-11 37.32 37.32 0 00.6-5c0-.45.08-1.23.07-1.71a17.14 17.14 0 001.53 2.92c.6.72 1.28.24 1.25-.47 0 0-.06-.08 0-.1a60.1 60.1 0 015.64-2.31c.5-.17 1-.34 1.54-.48.16.52.51 1.57.66 1.94s0 0 0 .06 0 .2.17.21a1.78 1.78 0 01.88.33c.1.14.1.08.11.12.88 3.28 1.53 6.54 2.08 9.87a.32.32 0 00.54.13c.88-1 1.12-2.38 1.57-3.53s1-2 1.42-3.13c.09-.2.3-.31.43-.5a9.13 9.13 0 001.06-1.91c.06-.15.09-.3.16-.44a3.21 3.21 0 01.24-.36c.1-.15 0-.21 0-.39a6.1 6.1 0 01.13-.84c0-.18 0-.11.06-.27s-.07 0 0-.28a13.8 13.8 0 00.35-1.41.74.74 0 00-.94-.8c-.12-.43-.44-1.16-.54-1.5s-.31-.42-.27-.67-.48-.45-.17-.63c1.12-.7 2.3 0 3.77-1.15A32.81 32.81 0 01202 90.6c.18 1.94.11 4.31.27 6.18 0 .4-.23.13-.32.32a.39.39 0 000 .44c.09.13.18.1.2.24s.28.3.32.39.05 0 0 .13-.36.07-.45.21a.87.87 0 00.06.66c.09.18.25.42.34.56a1.28 1.28 0 01.19.34c0 .16.05.56.07.68s-.06.12-.06.18.08 0 .08 0c.19 1.64.42 3.29.5 4.94a2.84 2.84 0 01-.1.65c0 .21.11.38.12.56a10.85 10.85 0 01-.16 2.28c-.05.27-.32.45-.4.71-.26.8.47 1.49 1.21.92 0 0-.06 0 0-.05a.86.86 0 00.47-.37c.13-.25.62-1 .74-1.24-.13.32-.36.7-.49 1.05-.3.87.78 1.61 1.28.76.92-1.54 1.55-3.23 2.43-4.76.06-.1.25 0 .35-.06a6.31 6.31 0 001.88-2.61 34.47 34.47 0 001-3.31 8.37 8.37 0 01.37-1.35c.51-1.24 1.26-2.64 1.92-3.87a7 7 0 001.44 1 37.56 37.56 0 006.37 1.92c.34.09.52.23.78.29s.19 0 .47 0 1.18.28 1.39.34.14.1.19.11a15.09 15.09 0 002.6.38 16.39 16.39 0 003 0c.37 0 .78-.15 1.14-.18 1.2-.12 2.37-.19 3.55-.4 0 .65.12 1.31.12 1.95 0 .12-.15.19-.18.32a3.18 3.18 0 00.54 2.85v1c0 1.14-.17 2.53.6 3.52 0 0 .12.07.13.12.13.8.33 1.8 1.26 1.86a7.35 7.35 0 002.34-.51c1-.21 1.82-.49 3-.75s2.4-.69 3.77-.94 3.3-.54 4.71-.93 2.45-.83 3.88-1.29 3.22-.75 4.7-1.24a.74.74 0 00-.21-1.46 14.51 14.51 0 00-2.94.61 13 13 0 002.63-1.16c.33-.21.9-.4.95-.72.19-1.07.35-2.65.61-3.58s.42-1.3.6-2.06c.05-.19-.18-.39-.36-.45s-.58 0-.82-.17-.51-.4-.74-.62-.53-.57-.77-.76-.55-.6-.86-.51a20 20 0 01-2.52.94 12.39 12.39 0 00-2.31 1.1c-.93.33-1.95.21-2.76.47s-1.4.36-2.12.57a18.91 18.91 0 01-2.18.46 4.08 4.08 0 01-1.64-.23v-2.94c0-1.04 0-2.21-.05-3.27a3.52 3.52 0 001.21 0c.43-.12 1 .12 1.42.07s.78-.35 1.15-.27a1.9 1.9 0 00.94-.15 1.42 1.42 0 01.4-.06h.61a7.28 7.28 0 002.23-.54.85.85 0 01.19-.09c.14 0 .74-.26.86-.28s.13-.13.15-.08c.32.61.9.44 1.31.2s.57-.36.59-.75-.05-1 0-1.26.16-.18.21-.26c.34-.52 1.11-1.1 1.35-1.54a1.51 1.51 0 00-.06-1.19 1.94 1.94 0 00-.5-1c-.21-.11-.79 0-.91-.12 0-.77.06-1.52.12-2.28 0-.23-.1-.35-.16-.53a.79.79 0 00-1.52-.09c0 .07 0 .21-.06.21s0 0-.19-.06-.33-.36-.8-.23-1.08.32-1.78.45-1.89.45-2.69.54c-1.28.14-2.79.89-4 .32-.27-.12.69-3.9.7-4.3s-.07-.26 0-.28c2.09-1 4.15-2.11 6.25-3.08 2.62-1.21 5.27-2.3 7.95-3.35 2-.79 4.08-1.48 6.13-2.18-.12-.31-.1-.59.26-.75 1.25-.57 2.59-1 3.9-1.43a6.92 6.92 0 001.3-.5 1.15 1.15 0 00.29-.84c0-.09-.5.11-.76.09a4.71 4.71 0 01-1 0c-.43-.07-.93-.73-.46-1.17.08-.07.12.2.21.19s.14.08.22.08h.13c-.07 0-.1 0 0 0a.69.69 0 00.32 0h.07c.07 0 .06 0 .22-.11a1 1 0 00.39-.77.66.66 0 00-.48-.61c-.31-.11-.52.15-.7.31a2.08 2.08 0 00-.37.35c-.13.16.14.28-.08.39a2.21 2.21 0 01-1 .15c-.52 0-.78-.88-.32-1.26s1.09-.47 1.31-.74 0-.74 0-.81a4.37 4.37 0 00-.94.13c-.22 0-.81-.27-.83-.41s-.09 0 .08 0 .59 0 .94.09a1.1 1.1 0 001.27-1.19c-.06-.64-.78-.76-1-.87s-.39 0-.31-.06a22.56 22.56 0 012.11-1.2 2.39 2.39 0 00.34-.18c.23-.14.78-.39 1.14-.58.75-.4 1.63-.8 2.4-1.23.16-.08.33-.09.48-.27s.26-.71.41-1c-1.07.44-2.12.85-3.15 1.22zm-90.93 35.1c-1 .21-1.92.39-2.88.57a1.85 1.85 0 01-.54.11c-.15 0-.56.22-.57.09a4 4 0 01.33-1c.1-.34.29-.69.42-1.09a29.15 29.15 0 011.09-2.94c.42-1 1-1.91 1.48-2.89.07-.15.14-.42.2-.59.58 1.16 1.16 2.37 1.71 3.54s1 2.29 1.58 3.46c-.93.25-1.87.53-2.82.74zm-19.42-16.94a.61.61 0 00-.77-.21l-.36-.33c-1.9-2.24-3.76-4.49-5.8-6.51a.62.62 0 00-.32.47l-.31 2v.23c-.38 2.38-.74 4.73-1.1 7.09a.75.75 0 00.38.8 3.19 3.19 0 01-.45 1.19c0 1.1.16 2.24.22 3.21v2.71a1.22 1.22 0 000 .27 1.09 1.09 0 010 .36 1 1 0 010 .34v1.28a.54.54 0 000 .18v1.54a.17.17 0 010 .14 3.53 3.53 0 010 .65 20.08 20.08 0 01-1 4.78 6.22 6.22 0 01-.29.71 101.58 101.58 0 00-4.11-11.21 7.49 7.49 0 00-.24-1.39.2.2 0 01.29 0l-.09.11a1.93 1.93 0 010-.34.49.49 0 000-.24 1.81 1.81 0 00-.22-.32v-.2h.15c.16 0 .18 0 .2-.31a10.6 10.6 0 00-.6-1.33c-.45-3-.79-5.92-1-9a.73.73 0 00-.76-.68 4 4 0 01-.16-.45 1 1 0 00-.22-.34l-.36.3a66.17 66.17 0 01-7.72 8.25c-.49.74-1 1.48-1.43 2.24V80a1.27 1.27 0 01.9.87.77.77 0 00.4-.29l.36-.52c-.5 2.61-1 5.21-1.55 7.79L134 93.71a28.65 28.65 0 00-1 5.74.25.25 0 00.25.25c-.2 1-.43 2.11-.63 3.12a.58.58 0 00-.31.63 7.39 7.39 0 001.25 2.49c.29.47.63 1 1 1.61s.89 1.48 1.39 2.24a13.37 13.37 0 001.59 1.93 4.63 4.63 0 00.65.52 43.92 43.92 0 012.09 4 .72.72 0 001.32-.17l2.76-15.3.2.36c.16-.41 2.09-1.77 2.09-1.06v.45a.46.46 0 01.42.27c.59 1.26 4 8 4.49 9a37.3 37.3 0 003 4.8 18.27 18.27 0 012.51 2.69.72.72 0 001 .23.73.73 0 00.33-.58c.52-4.06 1.95-11.65 2.09-15.71a4.18 4.18 0 01.51-.8c.05-1 .15-2 .3-3 0-1.06.18-2 .26-2.94.39-2.92.74-5.83 1.13-8.73.29-2.24.62-4.48.83-6.72a7.27 7.27 0 00-2.25-5.21zm-25.46-11.64l-.63.92a.67.67 0 00-.88-.37l-.27.13a.75.75 0 00-.31-.6.53.53 0 000-.74.53.53 0 00-.25-.63 1.19 1.19 0 00-.6-.2.51.51 0 00-.25-.59 12.81 12.81 0 001.3-.74.61.61 0 010-.27 2.18 2.18 0 01.61-.6l-2.25 1.59a1.09 1.09 0 00-.67 0 .72.72 0 00-.54 0 .68.68 0 00-.49.63c-1.12.65-2.24 1.34-3.3 2H127a1.36 1.36 0 00-.81.62l-2.24 1.4a16.6 16.6 0 00-2.87 1.9l-.94.49q.33-.27.69-.51c2.25-1.66 4.65-3.21 6.73-5.07.43-.36 0-1-.58-.74a59.61 59.61 0 00-7.25 4.87c-2.24 1.7-4.68 3.43-7 5.2-4.49 3.45-9.13 6.95-13.46 10.77a.62.62 0 00-.25.47 12 12 0 00-2.78 2.35c.49 3.12 2.74 5.5 4.22 8.28a71.94 71.94 0 019.4 2c1 .29 2 .61 2.91.94a8 8 0 012.8 1.28 4.35 4.35 0 01.66 4.73 30.7 30.7 0 01-3.95 3.7c-1.64.81-3.28 1.6-4.89 2.43s-2.83 1.48-4.22 2.24a1 1 0 010 .25c-.85.27-1.68.67-2.35.89a45 45 0 00-5 2 .56.56 0 00-.19.77.53.53 0 00.37.26.5.5 0 00.11.69.5.5 0 00.43.08 23.27 23.27 0 004.24-1.8l.29-.13a89 89 0 01-10.45 7.42c-1.51 1-3 2-4.49 3a.69.69 0 01.16.18 47.72 47.72 0 017.49-4.26c.54-.25 1.14.42.65.87a52.65 52.65 0 00-4.17 3.57l.45-.16H91a24.48 24.48 0 013.22-1.86.83.83 0 011.08.47l.16-.13h.13l1-.41-1.26.7a.51.51 0 01-.22.54l-.18.13a7.83 7.83 0 00.92-.45l.38-.24c.56-.36 1 .38.67.83 1.8-1 3.59-1.91 5.41-2.79a.73.73 0 000 .36l-.36.23a.33.33 0 00.25.6 36.92 36.92 0 004.1-1.32l2.92-1.68.38-.2a5.38 5.38 0 011.5 0 .36.36 0 00.42-.29 1.14 1.14 0 010-.45.34.34 0 00.54.36 4.73 4.73 0 01.83-.78 23.8 23.8 0 004.19-2.25 11.66 11.66 0 002.13-1.25l1.21-.94c.65-.43 1.28-.86 1.89-1.33l.53-.45a8.8 8.8 0 001.44-1.14 11.53 11.53 0 011.39-.92.29.29 0 00.13-.39l.59-.89a18.3 18.3 0 001.84-4.49 14.38 14.38 0 00.33-5 7.1 7.1 0 00-.74-2.67l-.69-1.37c-.39-.77-.82-1.52-1.28-2.24a16.27 16.27 0 00-3.52-3.26 23.53 23.53 0 00-4.49-2.24 18.39 18.39 0 01-4.73-1.68.6.6 0 01-.2-.27c3-1.91 6-3.9 9-5.85 3.72-2.45 7.58-4.8 11.21-7.5l2.47-1.25v-.18a1.23 1.23 0 01-.81-1 1.3 1.3 0 01-.47-.85.48.48 0 00.16-.12 4.48 4.48 0 00.94-2.24.57.57 0 00.82 0 .53.53 0 00.17-.25 4.17 4.17 0 000-.5.7.7 0 00-.65-.63c.24-.42.47-.87.71-1.27a.58.58 0 00-.51-.65z\"\n          fill=\"url(#Wordmark_svg__h)\"\n        />\n      </svg>\n    </SVGWrapper>\n  );\n};\n\nconst StyledLogo = styled(SVGLogo)`\n  > path {\n    fill: ${({ color, theme }) => {\n      return !color\n        ? theme === themes.dark\n          ? colors.white\n          : colors.purple\n        : color;\n    }};\n  }\n`;\n\nexport default StyledLogo;\n","import React from \"react\";\nimport styled from \"@emotion/styled\";\n\n//import BlankState from \"./blank-state\";\nimport LoadingIndicator from \"./loading-indicator\";\n//import GameNotFound from \"./game-not-found\";\nimport Board from \"./board\";\nimport Scoreboard from \"./scoreboard\";\nimport MediaControls from \"./mediaControls\";\nimport Logo from \"./logo\";\nimport { breakpoints, colors, themes } from \"../theme\";\nimport styles from \"./game/GamePage.module.css\";\n\nconst BoardTitle = styled(\"div\")(({ theme }) => ({\n  fontSize: \"2rem\",\n  fontWeight: \"600\",\n  textAlign: \"center\",\n  textTransform: \"uppercase\",\n  color: theme === themes.dark ? colors.lightText : colors.darkText\n}));\n\nconst HeaderWrapper = styled(\"div\")`\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  margin: 0.5rem 0;\n  text-align: center;\n\n  @media (min-width: ${breakpoints.xxl}) {\n    padding-top: 1rem;\n    padding-bottom: 2rem;\n  }\n`;\n\nconst LogoWrapper = styled(\"div\")`\n  width: 100%;\n  height: 5rem;\n\n  @media (min-width: ${breakpoints.lg}) {\n    height: 8rem;\n  }\n\n  @media (min-width: ${breakpoints.xxl}) {\n    height: 16rem;\n  }\n`;\n\nconst TurnCount = styled(\"div\")`\n  font-size: 2rem;\n  font-weight: 600;\n  text-transform: uppercase;\n  color: ${({ theme }) =>\n    theme === themes.dark ? colors.lightText : colors.darkText};\n\n  @media (min-width: ${breakpoints.xxl}) {\n    font-size: 3rem;\n  }\n`;\nconst TurnCountValue = styled(\"span\")`\n  display: inline-block;\n  width: 6rem;\n`;\n\nconst BoardWrapper = styled(\"div\")`\n  display: flex;\n  flex-direction: column;\n  width: 100%;\n  height: 100%;\n\n  @media (min-width: ${breakpoints.md}) {\n    width: ${({ hideScoreboard }) => (hideScoreboard ? \"100%\" : \"60vw\")};\n  }\n`;\n\nconst ScoreboardWrapper = styled(\"div\")`\n  display: none;\n  width: 40vw;\n  padding: 0 2rem;\n\n  @media (min-width: ${breakpoints.md}) {\n    display: ${({ hide }) => (hide ? \"none\" : \"block\")};\n  }\n`;\n\nconst Ruleset = styled(\"p\")`\n  margin: 0.25rem;\n  width: 100%;\n  font-size: 1.2rem;\n  text-align: center;\n  color: #aaa;\n  text-transform: capitalize;\n`;\n\nclass Game extends React.Component {\n  componentDidMount() {\n    const { options } = this.props;\n\n    this.props.togglePlayButtons(\"show\");\n\n    if (options.theme) {\n      this.props.toggleTheme(options.theme);\n    }\n\n    if (!(options.game && options.engine)) {\n      this.invalidArgs = true;\n      // return;\n    }\n\n    this.hideLogo = options.hideLogo === \"true\";\n    this.hideScoreboard = options.hideScoreboard === \"true\";\n    this.showFrameScrubber = options.showFrameScrubber;\n    this.title = options.title && decodeURIComponent(options.title);\n    this.props.setGameOptions(options);\n\n    if (this.props.frames.length === 0) {\n      this.props.fetchFrames();\n    }\n  }\n\n  render() {\n    /*\n    if (this.invalidArgs) {\n      return <BlankState />;\n    }\n\n    if (this.props.gameNotFound) {\n      return <GameNotFound />;\n    }\n    */\n    if (this.props.currentFrame) {\n      return this.renderGame();\n    }\n\n    return <LoadingIndicator />;\n  }\n\n  renderGame() {\n    const { currentFrame, options } = this.props;\n    return (\n      <main className={options.theme}>\n        <section className={styles.game}>\n          <BoardWrapper hideScoreboard={this.hideScoreboard}>\n            <BoardTitle theme={options.theme}>{this.title}</BoardTitle>\n            <Board\n              snakes={currentFrame.snakes}\n              food={currentFrame.food}\n              foodImage={options.foodImage}\n              hazards={currentFrame.hazards}\n              columns={this.props.grid.width}\n              rows={this.props.grid.height}\n              highlightedSnake={this.props.highlightedSnake}\n              theme={options.theme}\n              turn={currentFrame.turn}\n              showCoordinateLabels={options.showCoordinateLabels}\n            />\n            <MediaControls\n              currentFrame={currentFrame}\n              hideControls={options.hideMediaControls === \"true\"}\n              reloadGame={this.props.reloadGame}\n              toggleGamePause={this.props.toggleGamePause}\n              stepBackwardFrame={this.props.stepBackwardFrame}\n              stepForwardFrame={this.props.stepForwardFrame}\n              stepToTurn={this.props.stepToTurn}\n              pauseGame={this.props.pauseGame}\n              paused={this.props.paused}\n              theme={options.theme}\n              persistAvailable={options.persistAvailable}\n              maxTurn={this.props.frames[this.props.frames.length - 1].turn}\n              showFrameScrubber={this.showFrameScrubber}\n              hasAllFrames={this.props.hasAllFrames}\n            />\n          </BoardWrapper>\n          {!this.hideScoreboard && (\n            <ScoreboardWrapper>\n              <HeaderWrapper>\n                {!this.hideLogo && (\n                  <LogoWrapper>\n                    <Logo theme={options.theme} />\n                  </LogoWrapper>\n                )}\n                <TurnCount theme={options.theme}>\n                  Turn <TurnCountValue>{currentFrame.turn}</TurnCountValue>\n                </TurnCount>\n              </HeaderWrapper>\n              <Scoreboard\n                turn={currentFrame.turn}\n                snakes={currentFrame.snakes}\n                food={currentFrame.food}\n                highlightSnake={this.props.highlightSnake}\n                theme={options.theme}\n              />\n              <Ruleset>Rules: {this.props.ruleset.name}</Ruleset>\n            </ScoreboardWrapper>\n          )}\n        </section>\n      </main>\n    );\n  }\n}\n\nexport default Game;\n","export const SET_GAME_OPTIONS = \"SET_GAME_OPTIONS\";\nexport const SET_THEME = \"SET_THEME\";\nexport const GAME_OVER = \"GAME_OVER\";\nexport const GAME_NOT_FOUND = \"GAME_NOT_FOUND\";\nexport const FETCH_FRAMES = \"FETCH_FRAMES\";\nexport const REQUEST_FRAMES = \"REQUEST_FRAMES\";\nexport const RECEIVE_FRAME = \"RECEIVE_FRAME\";\nexport const SET_CURRENT_FRAME = \"SET_CURRENT_FRAME\";\nexport const PAUSE_GAME = \"PAUSE_GAME\";\nexport const RESUME_GAME = \"RESUME_GAME\";\nexport const HIGHLIGHT_SNAKE = \"HIGHLIGHT_SNAKE\";\nexport const RECEIVE_EVENT_END = \"RECEIVE_EVENT_END\";\nexport const TOGGLE_SETTINGS_VIEW = \"TOGGLE_SETTINGS_VIEW\";\nexport const THEME_CHANGED = \"THEME_CHANGED\";\n","import { themes } from \"../../theme\";\n\nexport const DEFAULT_FRAMERATE = 6;\n\nexport const initialSettings = {\n  frameRate: DEFAULT_FRAMERATE,\n  theme: themes.light,\n  autoplay: false,\n  showFrameScrubber: false,\n  persistAvailable: false,\n  showCoordinateLabels: false\n};\n","import { delay, getFrameByTurn, streamAllEvents } from \"../utils/engine-client\";\nimport * as types from \"./action-types\";\nimport { DEFAULT_FRAMERATE } from \"../components/settings/defaults\";\n\nexport const setGameOptions = gameOptions => ({\n  type: types.SET_GAME_OPTIONS,\n  gameOptions\n});\n\nexport const setTheme = theme => ({\n  type: types.SET_THEME,\n  theme\n});\n\nexport const gameOver = () => ({\n  type: types.GAME_OVER\n});\n\nexport const gameNotFound = () => ({\n  type: types.GAME_NOT_FOUND\n});\n\nexport const requestFrames = () => ({\n  type: types.REQUEST_FRAMES\n});\n\nexport const receiveFrame = (game, frame) => ({\n  type: types.RECEIVE_FRAME,\n  game,\n  frame\n});\n\nexport const receiveEventEnd = (game, endEvent, frame) => ({\n  type: types.RECEIVE_EVENT_END,\n  game,\n  endEvent,\n  frame\n});\n\nexport const setCurrentFrame = frame => ({\n  type: types.SET_CURRENT_FRAME,\n  frame\n});\n\nexport const pauseGame = () => ({\n  type: types.PAUSE_GAME\n});\n\nexport const resumeGame = () => ({\n  type: types.RESUME_GAME\n});\n\nexport const highlightSnake = snakeId => ({\n  type: types.HIGHLIGHT_SNAKE,\n  snakeId\n});\n\nexport const fetchFrames = () => {\n  return async (dispatch, getState) => {\n    const {\n      autoplay,\n      engine: engineUrl,\n      game: gameId,\n      turn\n    } = getState().game.gameOptions;\n    console.log(\"a\");\n    dispatch(requestFrames());\n\n    try {\n      await streamAllEvents(engineUrl, gameId, (game, eventType, eventData) => {\n\n        if (eventType === \"frame\") {\n          const frame = eventData;\n          // Workaround for bug where turn exluded on turn 0\n          frame.Turn = frame.Turn || 0;\n          dispatch(receiveFrame(game, frame));\n\n          // Workaround to render the first frame into the board\n          if (frame.Turn === 0) {\n            const frame = getState().game.frames[0];\n            dispatch(setCurrentFrame(frame));\n\n            if (autoplay) {\n              dispatch(resumeGame());\n              dispatch(playFromFrame(frame));\n            }\n          }\n        } else if (eventType === \"game_end\") {\n          const numFrames = getState().game.frames.length;\n          const frame = getState().game.frames[numFrames - 1];\n          frame.gameOver = true;\n          dispatch(receiveEventEnd(game, eventData, frame));\n        }\n      });\n    } catch (e) {\n      return dispatch(gameNotFound());\n    }\n\n    // Only navigate to the specified frame if it is within the\n    // amount of frames available in the game\n    if (turn && turn <= getState().game.frames.length) {\n      const frame = getState().game.frames[turn];\n      dispatch(setCurrentFrame(frame));\n    }\n  };\n};\n\nexport const playFromFrame = frame => {\n  return async (dispatch, getState) => {\n    const { frameRate } = getState().game.gameOptions;\n    const frames = getState().game.frames.slice(); // Don't modify in place\n    const frameIndex = frames.indexOf(frame);\n    const slicedFrames = frames.slice(frameIndex);\n\n    const ceiledFps = Math.ceil(frameRate || DEFAULT_FRAMERATE);\n    const delayMillis = 1000 / ceiledFps;\n\n    for (const frame of slicedFrames) {\n      if (getState().game.paused) return;\n      dispatch(setCurrentFrame(frame));\n      await delay(delayMillis);\n    }\n\n    const lastFrame = slicedFrames[slicedFrames.length - 1];\n    if (lastFrame.gameOver) {\n      if (!getState().game.paused) {\n        if (getState().game.gameOptions.loop) {\n          const frame = getFrameByTurn(frames, 0);\n          dispatch(playFromFrame(frame));\n        } else {\n          dispatch(gameOver());\n        }\n      }\n    } else {\n      dispatch(playFromFrame(lastFrame));\n    }\n  };\n};\n\nexport const reloadGame = () => {\n  return async (dispatch, getState) => {\n    const { frames, paused } = getState().game;\n    if (paused) {\n      const frame = getFrameByTurn(frames, 0);\n      dispatch(setCurrentFrame(frame));\n    }\n  };\n};\n\nexport const toggleGamePause = () => {\n  return async (dispatch, getState) => {\n    const { currentFrame, paused } = getState().game;\n\n    if (paused) {\n      dispatch(resumeGame());\n      dispatch(playFromFrame(currentFrame));\n    } else {\n      dispatch(pauseGame());\n    }\n  };\n};\n\nexport const pauseGameAction = () => {\n  return async (dispatch, getState) => {\n    const { paused } = getState().game;\n\n    if (!paused) {\n      dispatch(pauseGame());\n    }\n  };\n};\n\nexport const toggleTheme = themeToSet => {\n  return async dispatch => {\n    dispatch(setTheme(themeToSet));\n  };\n};\n\nexport const stepForwardFrame = () => {\n  return async (dispatch, getState) => {\n    const { currentFrame, frames } = getState().game;\n    const nextFrame = currentFrame.turn + 1;\n    const stepToFrame = getFrameByTurn(frames, nextFrame);\n    if (stepToFrame) {\n      dispatch(setCurrentFrame(stepToFrame));\n    }\n  };\n};\n\nexport const stepBackwardFrame = () => {\n  return async (dispatch, getState) => {\n    const { currentFrame, frames } = getState().game;\n    const prevFrame = currentFrame.turn - 1;\n    const stepToFrame = getFrameByTurn(frames, prevFrame);\n    if (stepToFrame) {\n      dispatch(setCurrentFrame(stepToFrame));\n    }\n  };\n};\n\nexport const stepToTurn = turn => {\n  return async (dispatch, getState) => {\n    const { frames } = getState().game;\n\n    const stepToFrame = getFrameByTurn(frames, turn);\n    if (stepToFrame) {\n      dispatch(setCurrentFrame(stepToFrame));\n    }\n  };\n};\n\nexport const togglePlayButtons = showHide => ({\n  type: types.TOGGLE_SETTINGS_VIEW,\n  showHide\n});\n\nexport const themeChanged = theme => ({\n  type: types.THEME_CHANGED,\n  theme\n});\n","import { connect } from \"react-redux\";\nimport { parseQueryString } from \"../../utils/url\";\nimport Game from \"../../components/game\";\nimport {\n  fetchFrames,\n  reloadGame,\n  toggleGamePause,\n  toggleTheme,\n  setGameOptions,\n  stepForwardFrame,\n  stepBackwardFrame,\n  stepToTurn,\n  highlightSnake,\n  pauseGameAction,\n  togglePlayButtons\n} from \"../../actions\";\n\nconst options = parseQueryString(window.location.search);\nif (typeof options.autoplay !== \"undefined\") {\n  options.autoplay = options.autoplay === \"true\";\n}\nif (typeof options.showFrameScrubber !== \"undefined\") {\n  options.showFrameScrubber = options.showFrameScrubber === \"true\";\n}\n\nconst mapStateToProps = state => {\n  const gameState = state.game;\n  const settings = state.settings;\n\n  return {\n    options: { ...settings, ...options },\n    ruleset: gameState.ruleset,\n    grid: gameState.grid,\n    gameNotFound: gameState.gameNotFound,\n    paused: gameState.paused,\n    currentFrame: gameState.currentFrame,\n    frames: gameState.frames,\n    highlightedSnake: gameState.highlightedSnake,\n    theme: options.boardTheme || settings.theme,\n    hasAllFrames: !!gameState.endEvent\n  };\n};\n\nconst mapDispatchToProps = dispatch => ({\n  setGameOptions: options => dispatch(setGameOptions(options)),\n  fetchFrames: () => dispatch(fetchFrames()),\n  toggleTheme: theme => dispatch(toggleTheme(theme)),\n  reloadGame: () => dispatch(reloadGame()),\n  toggleGamePause: paused => dispatch(toggleGamePause(paused)),\n  pauseGame: () => dispatch(pauseGameAction()),\n  stepForwardFrame: () => dispatch(stepForwardFrame()),\n  stepBackwardFrame: () => dispatch(stepBackwardFrame()),\n  stepToTurn: i => dispatch(stepToTurn(i)),\n  highlightSnake: snakeId => dispatch(highlightSnake(snakeId)),\n  togglePlayButtons: showHide => dispatch(togglePlayButtons(showHide))\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Game);\n","import {\n  DEFAULT_FRAMERATE,\n  initialSettings\n} from \"../components/settings/defaults\";\n\nexport function storageAvailable(type) {\n  let storage;\n  try {\n    storage = window[type];\n    const x = \"__storage_test__\";\n    storage.setItem(x, x);\n    storage.removeItem(x);\n    return true;\n  } catch (e) {\n    return (\n      ((e instanceof DOMException &&\n        // everything except Firefox\n        e.code === 22) ||\n        // Firefox\n        e.code === 1014 ||\n        // test name field too, because code might not be present\n        // everything except Firefox\n        e.name === \"QuotaExceededError\" ||\n        // Firefox\n        e.name === \"NS_ERROR_DOM_QUOTA_REACHED\") &&\n      // acknowledge QuotaExceededError only if there's something already stored\n      storage &&\n      storage.length !== 0\n    );\n  }\n}\n\nexport function getLocalSetting(key) {\n  if (storageAvailable(\"localStorage\")) {\n    return window.localStorage.getItem(key);\n  }\n}\n\nexport function setLocalSetting(key, value) {\n  if (storageAvailable(\"localStorage\")) {\n    window.localStorage.setItem(key, value);\n  }\n}\n\nexport function rehydrateLocalSettings() {\n  let checkAutoplay = getLocalSetting(\"autoplay\");\n  let checkShowFrameScrubber = getLocalSetting(\"showFrameScrubber\");\n\n  let showCoordinateLabels = getLocalSetting(\"showCoordinateLabels\");\n\n  if (typeof checkAutoplay === \"undefined\") {\n    checkAutoplay = initialSettings.autoplay;\n  } else {\n    checkAutoplay = checkAutoplay === \"true\";\n  }\n\n  if (typeof checkShowFrameScrubber === \"undefined\") {\n    checkShowFrameScrubber = initialSettings.showFrameScrubber;\n  } else {\n    checkShowFrameScrubber = checkShowFrameScrubber === \"true\";\n  }\n\n  if (typeof showCoordinateLabels === \"undefined\") {\n    showCoordinateLabels = initialSettings.showCoordinateLabels;\n  } else {\n    showCoordinateLabels = showCoordinateLabels === \"true\";\n  }\n\n  return {\n    frameRate: Number(getLocalSetting(\"frameRate\")) || DEFAULT_FRAMERATE,\n    theme: getLocalSetting(\"theme\") || initialSettings.theme,\n    showFrameScrubber: checkShowFrameScrubber,\n    autoplay: checkAutoplay,\n    showCoordinateLabels: showCoordinateLabels\n  };\n}\n","import { createSlice } from \"@reduxjs/toolkit\";\nimport { getLocalSetting, setLocalSetting } from \"../../app/storage\";\nimport { initialSettings as initialState } from \"./defaults\";\n\nexport const settingsSlice = createSlice({\n  name: \"settings\",\n  initialState,\n  reducers: {\n    frameRateUpdated(state, action) {\n      state.frameRate = action.payload;\n    },\n    themeSelected(state, action) {\n      state.theme = action.payload;\n    },\n    autoPlayUpdated(state, action) {\n      state.autoplay = action.payload;\n    },\n    showFrameScrubberUpdated(state, action) {\n      state.showFrameScrubber = action.payload;\n    },\n    showCoordinateLabelsUpdated(state, action) {\n      state.showCoordinateLabels = action.payload;\n    }\n  }\n});\n\n// toolkit generates the actions for us\nexport const {\n  frameRateUpdated,\n  themeSelected,\n  autoPlayUpdated,\n  showFrameScrubberUpdated,\n  showCoordinateLabelsUpdated\n} = settingsSlice.actions;\n\n// The function below is called a selector and allows us to select a value from\n// the state. Selectors can also be defined inline where they're used instead of\n// in the slice file. For example: `useSelector((state: RootState) => state.counter.value)`\nexport const currentFrameRate = state => state.settings.frameRate;\nexport const currentTheme = state => state.settings.theme;\nexport const currentAutoplay = state => state.settings.autoplay;\nexport const currentShowFrameScrubber = state =>\n  state.settings.showFrameScrubber;\nexport const currentShowCoordinateLabels = state =>\n  state.settings.showCoordinateLabels;\n\nexport function settingsStoreListener(state) {\n  if (state.settings.frameRate !== getLocalSetting(\"frameRate\")) {\n    setLocalSetting(\"frameRate\", state.settings.frameRate);\n  }\n\n  if (state.settings.theme !== getLocalSetting(\"theme\")) {\n    setLocalSetting(\"theme\", state.settings.theme);\n  }\n\n  if (state.settings.autoplay !== getLocalSetting(\"autoplay\")) {\n    setLocalSetting(\"autoplay\", state.settings.autoplay);\n  }\n\n  if (\n    state.settings.showFrameScrubber !== getLocalSetting(\"showFrameScrubber\")\n  ) {\n    setLocalSetting(\"showFrameScrubber\", state.settings.showFrameScrubber);\n  }\n\n  if (\n    state.settings.showCoordinateLabels !==\n    getLocalSetting(\"showCoordinateLabels\")\n  ) {\n    setLocalSetting(\n      \"showCoordinateLabels\",\n      state.settings.showCoordinateLabels\n    );\n  }\n}\n\nexport default settingsSlice.reducer;\n","import style from \"./PlaybackSpeed.module.css\";\nimport { DEFAULT_FRAMERATE } from \"../defaults\";\n\nexport const SLIDER_SLOW = 1;\nexport const SLIDER_MEDIUM = 2;\nexport const SLIDER_FAST = 3;\n\nexport const SPEED_SLOW = 3;\nexport const SPEED_MEDIUM = DEFAULT_FRAMERATE;\nexport const SPEED_FAST = 20;\n\nconst speedRanges = {\n  SPEED_SLOW: { min: 1, max: 5 },\n  SPEED_MEDIUM: { min: 6, max: 12 },\n  SPEED_FAST: { min: 13, max: 20 }\n};\n\nfunction valueChanged(e, changeHandler) {\n  let fps = SPEED_FAST;\n  const sliderValue = e.target.valueAsNumber || e.target.value;\n\n  if (sliderValue <= SLIDER_SLOW) {\n    fps = SPEED_SLOW;\n  } else if (sliderValue <= SLIDER_MEDIUM) {\n    fps = SPEED_MEDIUM;\n  }\n\n  changeHandler.call(this, fps);\n}\n\nfunction defaultValueHandler(value) {\n  let defaultValue = SLIDER_MEDIUM;\n\n  if (value <= speedRanges.SPEED_SLOW.max) {\n    defaultValue = SLIDER_SLOW;\n  } else if (value > speedRanges.SPEED_MEDIUM.max) {\n    defaultValue = SLIDER_FAST;\n  }\n\n  return defaultValue;\n}\n\nconst PlaybackSpeed = props => {\n  return (\n    <>\n      <input\n        type=\"range\"\n        min={SLIDER_SLOW}\n        max={SLIDER_FAST}\n        value={defaultValueHandler(props.default)}\n        onChange={e => valueChanged(e, props.onChange)}\n      />\n      <div className={style.labels}>\n        <span>Slow</span>\n        <span>Medium</span>\n        <span>Fast</span>\n      </div>\n    </>\n  );\n};\n\nexport default PlaybackSpeed;\n","import React, { useEffect } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport {\n  autoPlayUpdated,\n  currentAutoplay,\n  currentFrameRate,\n  currentTheme,\n  currentShowFrameScrubber,\n  frameRateUpdated,\n  themeSelected,\n  showFrameScrubberUpdated,\n  currentShowCoordinateLabels,\n  showCoordinateLabelsUpdated\n} from \"./settings-slice\";\nimport PlaybackSpeed from \"./playback/PlaybackSpeed\";\nimport styles from \"./SettingsPage.module.css\";\nimport { useHistory } from \"react-router-dom\";\nimport { togglePlayButtons, pauseGame, themeChanged } from \"../../actions\";\n\nconst SettingsPage = () => {\n  const history = useHistory();\n  const theme = useSelector(currentTheme);\n  const playbackSpeed = useSelector(currentFrameRate);\n  const autoplay = useSelector(currentAutoplay);\n  const showFrameScrubber = useSelector(currentShowFrameScrubber);\n  const showCoordinateLabels = useSelector(currentShowCoordinateLabels);\n  const dispatch = useDispatch();\n\n  useEffect(() => {\n    dispatch(togglePlayButtons(\"hide\"));\n    dispatch(pauseGame());\n  });\n\n  function dispatchSpeedChange(fps) {\n    dispatch(frameRateUpdated(fps));\n  }\n\n  return (\n    <main>\n      <section>\n        <h2>Playback Settings</h2>\n        <fieldset>\n          <legend>Playback Speed</legend>\n          <div className={styles.info}>\n            Adjust the playback speed of your games\n          </div>\n          <div className={styles.inputContainer}>\n            <PlaybackSpeed\n              default={playbackSpeed}\n              onChange={dispatchSpeedChange}\n            />\n          </div>\n        </fieldset>\n        <fieldset>\n          <legend>Theme</legend>\n          <div className={styles.info}>Change your game theme colors</div>\n          <div className={styles.inputContainer && styles.row}>\n            <label>\n              <input\n                type=\"radio\"\n                value=\"light\"\n                name=\"theme\"\n                checked={theme === \"light\"}\n                onChange={e =>\n                  dispatch(themeSelected(e.target.value)) &&\n                  dispatch(themeChanged(e.target.value))\n                }\n              />\n              <span className={styles.radio} />\n              Light\n            </label>\n            <label>\n              <input\n                type=\"radio\"\n                value=\"dark\"\n                name=\"theme\"\n                checked={theme === \"dark\"}\n                onChange={e =>\n                  dispatch(themeSelected(e.target.value)) &&\n                  dispatch(themeChanged(e.target.value))\n                }\n              />\n              <span className={styles.radio} />\n              Projector\n            </label>\n          </div>\n        </fieldset>\n        <fieldset>\n          <legend>Autoplay</legend>\n          <div className={styles.info}>\n            All games will start playing as soon as the game loads\n          </div>\n          <div className={styles.inputContainer}>\n            <label>\n              <input\n                type=\"checkbox\"\n                name=\"autoplay\"\n                checked={autoplay}\n                onChange={e => dispatch(autoPlayUpdated(e.target.checked))}\n              />\n              <span className={styles.checkmark} />\n              {autoplay ? \"On\" : \"Off\"}\n            </label>\n          </div>\n        </fieldset>\n        <fieldset>\n          <legend>Frame Scrubber [EXPERIMENTAL]</legend>\n          <div className={styles.info}>\n            Display progress bar that shows current frame and allows quickly\n            jumping to specific frames. &nbsp;\n            <a\n              href=\"https://github.com/BattlesnakeOfficial/feedback/discussions/171\"\n              target=\"_blank\"\n              rel=\"noreferrer\"\n            >\n              Let us know what you think!\n            </a>\n          </div>\n          <div className={styles.inputContainer}>\n            <label>\n              <input\n                type=\"checkbox\"\n                name=\"showFrameScrubber\"\n                checked={showFrameScrubber}\n                onChange={e =>\n                  dispatch(showFrameScrubberUpdated(e.target.checked))\n                }\n              />\n              <span className={styles.checkmark} />\n              {showFrameScrubber ? \"On\" : \"Off\"}\n            </label>\n          </div>\n        </fieldset>\n        <fieldset>\n          <legend>Show Coordinate Labels [EXPERIMENTAL]</legend>\n          <div className={styles.info}>\n            Adds coordinate labels to the game board. &nbsp; These go from 0 to\n            the width/height of the board to make it easier to debug games\n            <a\n              href=\"https://github.com/orgs/BattlesnakeOfficial/discussions/231\"\n              target=\"_blank\"\n              rel=\"noreferrer\"\n            >\n              Let us know what you think!\n            </a>\n          </div>\n          <div className={styles.inputContainer}>\n            <label>\n              <input\n                type=\"checkbox\"\n                name=\"showCoordinateLabels\"\n                checked={showCoordinateLabels}\n                onChange={e =>\n                  dispatch(showCoordinateLabelsUpdated(e.target.checked))\n                }\n              />\n              <span className={styles.checkmark} />\n              {showCoordinateLabels ? \"On\" : \"Off\"}\n            </label>\n          </div>\n        </fieldset>\n        <fieldset className={styles.centered}>\n          <button onClick={() => history.goBack()}>Return to Game</button>\n        </fieldset>\n      </section>\n    </main>\n  );\n};\n\nexport default SettingsPage;\n","import { Route, Switch } from \"react-router-dom\";\nimport GamePage from \"./components/game/GamePage\";\nimport SettingsPage from \"./components/settings/SettingsPage\";\nimport \"./App.css\";\n\nconst App = () => {\n  return (\n    <Switch>\n      <Route path=\"/settings\" component={SettingsPage} />\n      <Route component={GamePage} />\n    </Switch>\n  );\n};\n\nexport default App;\n","import cloneDeep from \"lodash.clonedeep\";\n\nconst DEFAULT_DIRECTION = \"right\";\n\nconst TYPE_HEAD = \"head\";\nconst TYPE_TAIL = \"tail\";\nconst TYPE_BODY = \"body\";\n\nexport function formatFrame(frame) {\n  cleanFrame(frame);\n  const snakes = formatSnakes(frame.Snakes);\n  return {\n    turn: frame.Turn,\n    snakes: snakes,\n    food: formatPositions(frame.Food),\n    hazards: formatPositions(frame.Hazards)\n  };\n}\n\nexport function sanitizeFrame(frame) {\n  // Copy without reference\n  const sanitizedFrame = cloneDeep(frame);\n\n  // nullify some fields\n  for (const i in sanitizedFrame.snakes) {\n    const snake = sanitizedFrame.snakes[i];\n    snake.id = snake._id;\n    delete snake._id;\n\n    delete snake.headSvg;\n    delete snake.tailSvg;\n  }\n\n  return sanitizedFrame;\n}\n\nfunction formatSnakes(snakes) {\n  if (snakes) {\n    let newSnakes = snakes.map(formatSnake);\n\n    // Populate eliminatedBy names\n    newSnakes.forEach(function(snake, index) {\n      if (\n        snake.death &&\n        snake.death.eliminatedBy &&\n        snake.death.eliminatedBy.length > 0\n      ) {\n        for (const i in newSnakes) {\n          if (newSnakes[i]._id === snake.death.eliminatedBy) {\n            newSnakes[index].death.eliminatedBy = newSnakes[i].name;\n            break;\n          }\n        }\n      }\n    });\n    return newSnakes;\n  }\n}\n\nfunction formatSnake(snake) {\n  var renderedParts = snake.Body.filter((_, i) => shouldRenderPart(snake, i));\n  return {\n    body: snake.Body.map((_, i) => formatSnakePart(snake, i)),\n    color: snake.Color,\n    _id: snake.ID,\n    name: snake.Name,\n    effectiveSpace: renderedParts.length,\n    health: snake.Health,\n    latency: snake.Latency,\n    error: snake.Error,\n    timing: snake.TimingMicros,\n    isDead: !!snake.Death,\n    death: formatDeath(snake.Death),\n    head: snake.HeadType && snake.HeadType.toLowerCase(),\n    tail: snake.TailType && snake.TailType.toLowerCase(),\n    headSvg: snake.HeadSvg,\n    tailSvg: snake.TailSvg,\n    squad: snake.Squad,\n    author: snake.Author,\n    shout: snake.Shout\n  };\n}\n\nfunction formatDeath(death) {\n  if (!death) {\n    return;\n  }\n  return {\n    cause: death.Cause,\n    turn: death.Turn || 0,\n    eliminatedBy: death.EliminatedBy\n  };\n}\n\nfunction shouldRenderPart(snake, partIndex) {\n  const headIndex = 0;\n  const tailIndex = snake.Body.length - 1;\n  const head = snake.Body[headIndex];\n  const tail = snake.Body[tailIndex];\n  const currPart = snake.Body[partIndex];\n\n  // always render head\n  if (partIndex === headIndex) {\n    return true;\n  }\n\n  // render tail if not covered by head\n  if (partIndex === tailIndex) {\n    return !(head.X === currPart.X && head.Y === currPart.Y);\n  }\n\n  // render middle part if it's in a different position than\n  // the next piece closer to head, and not in same spot as tail\n  const nextPart = snake.Body[partIndex - 1];\n  return (\n    !(tail.X === currPart.X && tail.Y === currPart.Y) &&\n    !(head.X === currPart.X && head.Y === currPart.Y) &&\n    !(nextPart && nextPart.X === currPart.X && nextPart.Y === currPart.Y)\n  );\n}\n\nfunction formatSnakePart(snake, partIndex) {\n  const part = snake.Body[partIndex];\n  const type = getType(snake, partIndex);\n  const { x, y } = formatPosition(part);\n  const direction = formatDirection(type, snake, part, partIndex);\n  const isOverlapped = !shouldRenderPart(snake, partIndex) ? true : undefined;\n\n  return {\n    direction,\n    type,\n    isOverlapped,\n    x,\n    y\n  };\n}\n\nfunction formatPositions(positions) {\n  if (positions) {\n    return positions.map(formatPosition);\n  }\n}\n\nfunction formatPosition(pos) {\n  return {\n    x: pos.X,\n    y: pos.Y\n  };\n}\n\nfunction formatDirection(type, snake, part, partIndex) {\n  let direction;\n  if (type === \"head\") {\n    direction = getDirection(snake.Body[1], snake.Body[0]);\n  } else {\n    // handle special case where parts overlap\n    var prevPart;\n    do {\n      prevPart = snake.Body[Math.max(partIndex - 1, 0)];\n      --partIndex;\n    } while (partIndex > 0 && prevPart.X === part.X && prevPart.Y === part.Y);\n\n    direction = getDirection(part, prevPart);\n  }\n\n  return direction;\n}\n\nfunction getDirection(a, b) {\n  if (a && b) {\n    // Handle cases where b is one move after a\n    if (a.X + 1 === b.X) {\n      return \"right\";\n    } else if (a.X - 1 === b.X) {\n      return \"left\";\n    } else if (a.Y + 1 === b.Y) {\n      return \"up\";\n    } else if (a.Y - 1 === b.Y) {\n      return \"down\";\n    }\n    // Handle wrapped cases (we can anchor against one part being on 0 axis)\n    if (a.X > b.X && b.X === 0) {\n      return \"right\";\n    } else if (a.X < b.X && a.X === 0) {\n      return \"left\";\n    } else if (a.Y > b.Y && b.Y === 0) {\n      return \"up\";\n    } else if (a.Y < b.Y && a.Y === 0) {\n      return \"down\";\n    }\n  }\n  return DEFAULT_DIRECTION;\n}\n\nfunction getType(snake, partIndex) {\n  if (partIndex === 0) {\n    return TYPE_HEAD;\n  }\n\n  if (partIndex === snake.Body.length - 1) {\n    return TYPE_TAIL;\n  }\n\n  return TYPE_BODY;\n}\n\n// This is a workaround for fields that are omitted when they have the default\n// value. ie: int fields that need to default to 0 rather than undefined.\nfunction cleanFrame(frame) {\n  frame.Turn = frame.Turn || 0;\n\n  for (const snake of frame.Snakes) {\n    for (const part of snake.Body) {\n      part.X = part.X || 0;\n      part.Y = part.Y || 0;\n    }\n  }\n\n  for (const food of frame.Food) {\n    food.X = food.X || 0;\n    food.Y = food.Y || 0;\n  }\n}\n","import { formatFrame, sanitizeFrame } from \"../utils/game-state\";\nimport * as types from \"../actions/action-types\";\nimport { themes } from \"../theme\";\n\nconst initialState = {\n  options: null,\n  grid: [],\n  frames: [],\n  endEvent: {},\n  paused: true,\n  gameNotFound: false,\n  highlightedSnake: null,\n  theme: themes.light\n};\n\nconst reducers = (state = initialState, action) => {\n  switch (action.type) {\n    case types.SET_THEME:\n      return { ...state, theme: action.theme };\n    case types.SET_GAME_OPTIONS:\n      action.gameOptions.turn = parseInt(action.gameOptions.turn) || 0;\n      action.gameOptions.loop =\n        action.gameOptions.loop && action.gameOptions.loop === \"true\";\n      return { ...state, gameOptions: action.gameOptions };\n    case types.GAME_NOT_FOUND:\n      return { ...state, gameNotFound: true };\n    case types.PAUSE_GAME:\n      return { ...state, paused: true };\n    case types.GAME_OVER:\n      windowPostMessage({\n        action: action.type,\n        endEvent: action.endEvent\n      });\n      return { ...state, paused: true };\n    case types.RESUME_GAME:\n      return { ...state, paused: false };\n    case types.SET_CURRENT_FRAME:\n      windowPostMessage({\n        action: action.type,\n        frame: sanitizeFrame(action.frame)\n      });\n      return { ...state, currentFrame: action.frame };\n    case types.RECEIVE_FRAME:\n      const frame = formatFrame(action.frame);\n      return {\n        ...state,\n        ruleset: action.game.Game.Ruleset,\n        grid: {\n          height: action.game.Game.Height,\n          width: action.game.Game.Width\n        },\n        frames: [...state.frames, frame] // Be smart: this consumes A LOT of memory...\n      };\n    case types.RECEIVE_EVENT_END:\n      return {\n        ...state,\n        endEvent: action.endEvent,\n        frames: [...state.frames, action.frame]\n      };\n    case types.REQUEST_FRAMES:\n      return { ...state };\n    case types.FETCH_FRAMES:\n      return { ...state };\n    case types.HIGHLIGHT_SNAKE:\n      windowPostMessage({\n        action: action.type,\n        id: action.snakeId,\n        name: action.snakeId\n          ? state.currentFrame.snakes.find(s => s._id === action.snakeId).name\n          : null\n      });\n      return { ...state, highlightedSnake: action.snakeId };\n    case types.TOGGLE_SETTINGS_VIEW:\n      windowPostMessage({\n        action: action.type,\n        value: action.showHide\n      });\n      return { ...state };\n    case types.THEME_CHANGED:\n      windowPostMessage({\n        action: action.type,\n        value: action.theme\n      });\n      return { ...state };\n    default:\n      return { ...state };\n  }\n};\n\nfunction windowPostMessage(data) {\n  if (!window.parent) {\n    return;\n  }\n  try {\n    window.parent.postMessage(data, \"*\");\n  } catch (e) {\n    console.error(e);\n  }\n}\n\nexport default reducers;\n","import { configureStore } from \"@reduxjs/toolkit\";\nimport rootReducer from \"../reducers\";\nimport settingsReducer, {\n  settingsStoreListener\n} from \"../components/settings/settings-slice\";\nimport { initialSettings } from \"../components/settings/defaults\";\nimport { themes } from \"../theme\";\nimport { rehydrateLocalSettings, storageAvailable } from \"./storage\";\n\nfunction rehydrateInitialState() {\n  let initialState = {\n    game: {\n      options: null,\n      grid: [],\n      frames: [],\n      endEvent: null,\n      paused: true,\n      gameNotFound: false,\n      highlightedSnake: null,\n      theme: themes.light\n    },\n    settings: initialSettings\n  };\n\n  if (storageAvailable(\"localStorage\")) {\n    initialState.settings = rehydrateLocalSettings();\n    initialState.settings.persistAvailable = true;\n  } else {\n    console.info(\n      \"Please enable localStorage for an improved experience that allows you to persist board settings.\"\n    );\n  }\n\n  return initialState;\n}\n\nconst store = configureStore({\n  reducer: {\n    game: rootReducer,\n    settings: settingsReducer\n  },\n  middleware: getDefaultMiddleware =>\n    getDefaultMiddleware({\n      immutableCheck: false,\n      serializableCheck: false\n    }),\n  preloadedState: rehydrateInitialState()\n});\n\nstore.subscribe(() => {\n  settingsStoreListener(store.getState());\n});\n\nexport default store;\n","import React from \"react\";\nimport { render } from \"react-dom\";\nimport { Provider } from \"react-redux\";\nimport App from \"./App\";\nimport store from \"./app/store\";\nimport { BrowserRouter as Router } from \"react-router-dom\";\n\nrender(\n  <Provider store={store}>\n    <Router>\n      <App />\n    </Router>\n  </Provider>,\n  document.getElementById(\"root\")\n);\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"info\":\"SettingsPage_info__hnKuB\",\"inputContainer\":\"SettingsPage_inputContainer__OMy_9\",\"row\":\"SettingsPage_row__FjkX8\",\"centered\":\"SettingsPage_centered__2a9Zh\",\"checkmark\":\"SettingsPage_checkmark__1GbZH\",\"radio\":\"SettingsPage_radio__2oWfC\"};"]}}