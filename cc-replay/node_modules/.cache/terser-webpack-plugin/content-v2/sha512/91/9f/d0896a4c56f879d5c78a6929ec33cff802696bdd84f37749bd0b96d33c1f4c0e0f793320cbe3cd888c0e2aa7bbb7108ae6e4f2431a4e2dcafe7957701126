{"code":"(this[\"webpackJsonpbattlesnake-board\"]=this[\"webpackJsonpbattlesnake-board\"]||[]).push([[0],{12:function(e,t,n){e.exports={info:\"SettingsPage_info__hnKuB\",inputContainer:\"SettingsPage_inputContainer__OMy_9\",row:\"SettingsPage_row__FjkX8\",centered:\"SettingsPage_centered__2a9Zh\",checkmark:\"SettingsPage_checkmark__1GbZH\",radio:\"SettingsPage_radio__2oWfC\"}},33:function(e,t,n){var r,a,i;a=[],void 0===(i=\"function\"===typeof(r=function(){if(\"WebSocket\"in window)return e.prototype.onopen=function(e){},e.prototype.onclose=function(e){},e.prototype.onconnecting=function(e){},e.prototype.onmessage=function(e){},e.prototype.onerror=function(e){},e.debugAll=!1,e.CONNECTING=WebSocket.CONNECTING,e.OPEN=WebSocket.OPEN,e.CLOSING=WebSocket.CLOSING,e.CLOSED=WebSocket.CLOSED,e;function e(t,n,r){var a={debug:!1,automaticOpen:!0,reconnectInterval:1e3,maxReconnectInterval:3e4,reconnectDecay:1.5,timeoutInterval:2e3,maxReconnectAttempts:null,binaryType:\"blob\"};for(var i in r||(r={}),a)\"undefined\"!==typeof r[i]?this[i]=r[i]:this[i]=a[i];this.url=t,this.reconnectAttempts=0,this.readyState=WebSocket.CONNECTING,this.protocol=null;var c,s=this,o=!1,u=!1,l=document.createElement(\"div\");function d(e,t){var n=document.createEvent(\"CustomEvent\");return n.initCustomEvent(e,!1,!1,t),n}l.addEventListener(\"open\",(function(e){s.onopen(e)})),l.addEventListener(\"close\",(function(e){s.onclose(e)})),l.addEventListener(\"connecting\",(function(e){s.onconnecting(e)})),l.addEventListener(\"message\",(function(e){s.onmessage(e)})),l.addEventListener(\"error\",(function(e){s.onerror(e)})),this.addEventListener=l.addEventListener.bind(l),this.removeEventListener=l.removeEventListener.bind(l),this.dispatchEvent=l.dispatchEvent.bind(l),this.open=function(t){if((c=new WebSocket(s.url,n||[])).binaryType=this.binaryType,t){if(this.maxReconnectAttempts&&this.reconnectAttempts>this.maxReconnectAttempts)return}else l.dispatchEvent(d(\"connecting\")),this.reconnectAttempts=0;(s.debug||e.debugAll)&&console.debug(\"ReconnectingWebSocket\",\"attempt-connect\",s.url);var r=c,a=setTimeout((function(){(s.debug||e.debugAll)&&console.debug(\"ReconnectingWebSocket\",\"connection-timeout\",s.url),u=!0,r.close(),u=!1}),s.timeoutInterval);c.onopen=function(n){clearTimeout(a),(s.debug||e.debugAll)&&console.debug(\"ReconnectingWebSocket\",\"onopen\",s.url),s.protocol=c.protocol,s.readyState=WebSocket.OPEN,s.reconnectAttempts=0;var r=d(\"open\");r.isReconnect=t,t=!1,l.dispatchEvent(r)},c.onclose=function(n){if(clearTimeout(a),c=null,o)s.readyState=WebSocket.CLOSED,l.dispatchEvent(d(\"close\"));else{s.readyState=WebSocket.CONNECTING;var r=d(\"connecting\");r.code=n.code,r.reason=n.reason,r.wasClean=n.wasClean,l.dispatchEvent(r),t||u||((s.debug||e.debugAll)&&console.debug(\"ReconnectingWebSocket\",\"onclose\",s.url),l.dispatchEvent(d(\"close\")));var a=s.reconnectInterval*Math.pow(s.reconnectDecay,s.reconnectAttempts);setTimeout((function(){s.reconnectAttempts++,s.open(!0)}),a>s.maxReconnectInterval?s.maxReconnectInterval:a)}},c.onmessage=function(t){(s.debug||e.debugAll)&&console.debug(\"ReconnectingWebSocket\",\"onmessage\",s.url,t.data);var n=d(\"message\");n.data=t.data,l.dispatchEvent(n)},c.onerror=function(t){(s.debug||e.debugAll)&&console.debug(\"ReconnectingWebSocket\",\"onerror\",s.url,t),l.dispatchEvent(d(\"error\"))}},1==this.automaticOpen&&this.open(!1),this.send=function(t){if(c)return(s.debug||e.debugAll)&&console.debug(\"ReconnectingWebSocket\",\"send\",s.url,t),c.send(t);throw\"INVALID_STATE_ERR : Pausing to reconnect websocket\"},this.close=function(e,t){\"undefined\"==typeof e&&(e=1e3),o=!0,c&&c.close(e,t)},this.refresh=function(){c&&c.close()}}})?r.apply(t,a):r)||(e.exports=i)},36:function(e,t,n){e.exports={game:\"GamePage_game__3S4Mj\"}},37:function(e,t,n){e.exports={labels:\"PlaybackSpeed_labels__3XxZA\"}},50:function(e,t,n){},51:function(e,t,n){},53:function(e,t,n){},55:function(e,t,n){\"use strict\";n.r(t);var r=n(1),a=n.n(r),i=n(23),c=n(16),s=n(5),o=n(4);function u(e){var t=e.split(\"=\");return{key:t[0],value:void 0===t[1]||decodeURIComponent(t[1])}}function l(e){if(!e)return\"\";var t=\"?\",n=\"\";for(var r in e){var a=e[r];n+=\"\".concat(t).concat(r,\"=\").concat(a),t=\"&\"}return n}function d(e){var t={http:\"ws\",https:\"wss\"};for(var n in t){var r=t[n];if(e.substr(0,n.length+1)===n+\":\")return r+e.substr(n.length)}throw new Error(\"Invalid URL: \"+e)}function h(){function e(e,t){var n=e.replace(/\\/+$/,\"\"),r=t.replace(/^\\/+/,\"\");return\"\"===n?r:\"\"===r?n:\"\".concat(n,\"/\").concat(r)}for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return n.reduce((function(t,n){return e(t,n)}),\"\")}var p=n(8),f=n(9),b=n(11),m=n(10),g=n(6),j=n(3),v=n(0),O=function(e){Object(b.a)(n,e);var t=Object(m.a)(n);function n(){return Object(p.a)(this,n),t.apply(this,arguments)}return Object(f.a)(n,[{key:\"render\",value:function(){return Object(v.jsx)(\"div\",{children:\"ERROR: Specify a gameid\"})}}]),n}(a.a.Component),x=\"#f1f1f1\",y=\"#D6D5EA\",w=\"#ff5c75\",k=\"#000000\",S=\"0.3\",_=\"#AAAAAA\",E=\"#fefefe\",C=\"#888\",T=\"#6f42c1\",L=\"#efefef\",F=\"#424242\",N=\"#6f42c1\",A=\"#fff\",R=\"#dc3545\",H=\"#f8f9fa\",P=\"576px\",M=\"768px\",z=\"992px\",I=\"1650px\",G=\"dark\",W=\"light\",B=Object(j.a)(\"div\")({display:\"flex\",alignItems:\"center\",justifyContent:\"center\",height:\"100%\",width:\"100%\"}),D=function(e){Object(b.a)(n,e);var t=Object(m.a)(n);function n(){return Object(p.a)(this,n),t.apply(this,arguments)}return Object(f.a)(n,[{key:\"render\",value:function(){return Object(v.jsx)(B,{children:Object(v.jsxs)(\"div\",{className:\"la-ball-grid-beat la-dark la-2x\",style:{color:w},children:[Object(v.jsx)(\"div\",{}),Object(v.jsx)(\"div\",{}),Object(v.jsx)(\"div\",{}),Object(v.jsx)(\"div\",{}),Object(v.jsx)(\"div\",{}),Object(v.jsx)(\"div\",{}),Object(v.jsx)(\"div\",{}),Object(v.jsx)(\"div\",{}),Object(v.jsx)(\"div\",{})]})})}}]),n}(a.a.Component),X=Object(j.a)(\"div\")({display:\"flex\",alignItems:\"center\",justifyContent:\"center\",height:\"100%\",width:\"100%\"}),Y=function(e){Object(b.a)(n,e);var t=Object(m.a)(n);function n(){return Object(p.a)(this,n),t.apply(this,arguments)}return Object(f.a)(n,[{key:\"render\",value:function(){return Object(v.jsx)(X,{children:Object(v.jsx)(\"h2\",{style:{color:w},children:\"Game no longer available, sorry!\"})})}}]),n}(a.a.Component),V=n(22),U=20,K=(U/3.25).toFixed(2),q=.1,Q=[\"up\",\"right\",\"down\",\"left\"],J=0;function Z(e){return 24*e+4}function $(e){return 24*(J-1-e)+4}function ee(e){var t=\"left\"===e.direction||\"right\"===e.direction?8:0;return U+t}function te(e){var t=\"up\"===e.direction||\"down\"===e.direction?8:0;return U+t}function ne(e){var t=\"left\"===e.direction||\"right\"===e.direction?-4:0;return Z(e.x)+t}function re(e){var t=\"up\"===e.direction||\"down\"===e.direction?-4:0;return $(e.y)+t}function ae(e,t){return Z(e.x)-4}function ie(e,t){return $(e.y)-4}function ce(e){switch(e.direction){case\"left\":return Z(e.x+1)-4-q;case\"right\":return Z(e.x)-4-q;default:return Z(e.x)}}function se(e){switch(e.direction){case\"up\":return $(e.y-1)-4-q;case\"down\":return $(e.y)-4-q;default:return $(e.y)}}function oe(e){switch(e.direction){case\"right\":return Z(e.x+1)-4-q;case\"left\":return Z(e.x)-4-q;default:return Z(e.x)}}function ue(e){switch(e.direction){case\"down\":return $(e.y-1)-4-q;case\"up\":return $(e.y)-4-q;default:return $(e.y)}}function le(e){return\"left\"===e.direction||\"right\"===e.direction?4.2:U}function de(e){return\"left\"===e.direction||\"right\"===e.direction?U:4.2}function he(e,t){if(e.isDead){if(t)return e._id===t?1:0}else if(t)return e._id===t?1:.15;return e.isDead?.1:1}function pe(e){return e.shadeForOverlap?.8:e.isOverlapped?.3:1}function fe(e,t){return t.shadeForOverlap?_:e.color}function be(e){for(var t=[],n=0;n<e;n++)t.push(n);return t}function me(e,t){if(0===t||t===e.body.length-1)return!1;var n,r,a=e.body[t+1],i=e.body[t];return(a.x!==i.x||a.y!==i.y)&&(n=i.direction,r=a.direction,Math.abs(Q.indexOf(n)-Q.indexOf(r))%2===1)}function ge(e,t){var n=e.body[e.body.length-1];return t.isOverlapped&&n.x===t.x&&n.y===t.y}var je=function(e){Object(b.a)(n,e);var t=Object(m.a)(n);function n(){return Object(p.a)(this,n),t.apply(this,arguments)}return Object(f.a)(n,[{key:\"renderPart\",value:function(e,t,n,r){if(!ge(e,n))switch(n.type){case\"head\":return this.renderHeadPart(e,t,n);case\"tail\":return this.renderTailPart(e,t,n);default:return me(e,r)?this.renderCornerPart(e,t,n,r):this.renderMiddlePart(e,t,n,r)}}},{key:\"renderHeadPart\",value:function(e,t,n){var r=function(e){switch(e.direction){case\"left\":return Z(e.x)+q;case\"right\":return Z(e.x)-q;default:return Z(e.x)}}(n),a=function(e){switch(e.direction){case\"up\":return $(e.y)+q;case\"down\":return $(e.y)-q;default:return $(e.y)}}(n),i=e.headSvg.viewBox.baseVal,c=function(e,t){var n=t.width/2,r=t.height/2;switch(e){case\"left\":return\"scale(-1,1) translate(-100, 0)\";case\"up\":return\"rotate(-90 \".concat(n,\" \").concat(r,\")\");case\"down\":return\"rotate(90 \".concat(n,\" \").concat(r,\")\");default:return\"\"}}(n.direction,i),s=\"\".concat(i.x,\" \").concat(i.y,\" \").concat(i.width,\" \").concat(i.height),o=fe(e,n),u=pe(n);return Object(v.jsxs)(\"g\",{children:[Object(v.jsx)(\"svg\",{viewBox:s,x:r,y:a,width:U,height:U,fill:o,opacity:u,shapeRendering:\"auto\",children:Object(v.jsx)(\"g\",{transform:c,dangerouslySetInnerHTML:{__html:e.headSvg.innerHTML}})}),e.effectiveSpace>1&&Object(v.jsx)(\"rect\",{x:ce(n),y:se(n),width:le(n),height:de(n),fill:o,opacity:u,shapeRendering:\"auto\"})]},\"part\"+t+\",head\")}},{key:\"renderMiddlePart\",value:function(e,t,n,r){var a=fe(e,n),i=pe(n);return Object(v.jsx)(\"rect\",{x:ne(n),y:re(n),width:ee(n),height:te(n),fill:a,opacity:i,shapeRendering:\"auto\"},\"part\".concat(t,\",\").concat(n.x,\",\").concat(n.y))}},{key:\"renderCornerPart\",value:function(e,t,n,r){var a,i=fe(e,n),c=pe(n);var s=function(e,t){if(0===t||t===e.body.length-1)return!1;var n=e.body[t+1],r=e.body[t];return\"\".concat(r.direction,\" \").concat(n.direction)}(e,r);switch(s){case\"down left\":case\"right up\":a=\"rotate(270, 70, 70)\";break;case\"left down\":case\"up right\":a=\"rotate(90, 70, 70)\";break;case\"left up\":case\"down right\":break;case\"right down\":case\"up left\":a=\"rotate(180, 70, 70)\"}return Object(v.jsx)(\"svg\",{x:ae(n),y:ie(n),width:28,height:28,fill:i,opacity:c,viewBox:\"0 0 140 140\",shapeRendering:\"auto\",children:Object(v.jsx)(\"path\",{d:\"M0,20 h60 a60,60 0 0 1 60,60 v60 h-100 v-20 h-20 z\",transform:a})},\"part\".concat(t,\",\").concat(n.x,\",\").concat(n.y))}},{key:\"renderTailPart\",value:function(e,t,n){var r=function(e){switch(e.direction){case\"left\":return Z(e.x)-q;case\"right\":return Z(e.x)+q;default:return Z(e.x)}}(n),a=function(e){switch(e.direction){case\"up\":return $(e.y)-q;case\"down\":return $(e.y)+q;default:return $(e.y)}}(n),i=e.tailSvg.viewBox.baseVal,c=function(e,t){var n=t.width/2,r=t.height/2;switch(e){case\"right\":return\"scale(-1,1) translate(-100,0)\";case\"down\":return\"scale(-1,1) translate(-100,0) rotate(-90 \".concat(n,\" \").concat(r,\")\");case\"up\":return\"scale(-1,1) translate(-100,0) rotate(90 \".concat(n,\" \").concat(r,\")\");default:return\"\"}}(n.direction,i),s=\"\".concat(i.x,\" \").concat(i.y,\" \").concat(i.width,\" \").concat(i.height),o=fe(e,n),u=pe(n);return Object(v.jsxs)(\"g\",{children:[Object(v.jsx)(\"svg\",{viewBox:s,x:r,y:a,width:U,height:U,fill:o,opacity:u,shapeRendering:\"auto\",children:Object(v.jsx)(\"g\",{transform:c,dangerouslySetInnerHTML:{__html:e.tailSvg.innerHTML}})}),e.effectiveSpace>1&&Object(v.jsx)(\"rect\",{x:oe(n),y:ue(n),width:le(n),height:de(n),fill:o,opacity:u,shapeRendering:\"auto\"})]},\"part\"+t+\",tail\")}},{key:\"renderLabel\",value:function(e,t,n){return Object(v.jsx)(\"foreignObject\",{x:Z(t),y:$(e),width:U,height:U,children:Object(v.jsx)(\"div\",{style:{width:\"100%\",height:\"100%\",display:\"flex\",alignItems:\"center\",justifyContent:\"center\",opacity:.5},children:Object(v.jsx)(\"div\",{style:{fontSize:\"80%\"},children:n})})},\"label\"+e+t)}},{key:\"renderLabels\",value:function(){var e=this;return Object(v.jsxs)(v.Fragment,{children:[be(this.props.rows).map((function(t,n){return e.renderLabel(n,-1,n)})),be(this.props.columns).map((function(t,n){return e.renderLabel(-1,n,n)}))]})}},{key:\"renderGrid\",value:function(){var e=this;J=this.props.rows;var t,n,r=this.props.snakes||[],a=this.props.food||[],i=this.props.hazards||[],c=(t=r,n=this.props.highlightedSnake,t.concat().sort((function(e,t){var r=e.isDead?0:1,a=t.isDead?0:1;return e._id===n&&(r=2),t._id===n&&(a=2),r-a})));if(!this.props.highlightedSnake){for(var s=Array(this.props.rows),o=0;o<s.length;o++){s[o]=Array(this.props.columns);for(var u=0;u<this.props.columns;u++)s[o][u]=!1}for(var l=0;l<c.length;l++){var d=c[l];if(!d.isDead)for(var h=0;h<d.body.length;h++){var p=d.body[h];ge(d,p)||(s[p.y][p.x]?p.shadeForOverlap=!0:s[p.y][p.x]=!0)}}}var f=24*this.props.columns+4,b=24*this.props.rows+4,m=parseFloat(S),g=this.props.showCoordinateLabels?\"visible\":\"hidden\";return Object(v.jsxs)(\"svg\",{className:\"grid\",width:this.props.maxWidth,height:this.props.maxHeight,x:this.props.x,y:this.props.y,viewBox:\"0 0 \".concat(f,\" \").concat(b),overflow:g,children:[this.props.showCoordinateLabels&&this.renderLabels(),be(this.props.rows).map((function(t,n){return be(e.props.columns).map((function(t,r){return Object(v.jsx)(\"rect\",{x:Z(r),y:$(n),width:U,height:U,fill:e.props.theme===G?y:x,shapeRendering:\"auto\"},\"cell\"+n+\",\"+r)}))})),c.map((function(t,n){return Object(v.jsx)(\"g\",{className:\"snake\",opacity:he(t,e.props.highlightedSnake),children:Object(V.a)(t.body).reverse().map((function(r,a){return e.renderPart(t,n,r,t.body.length-a-1,e.props.highlightedSnake)}))},\"snake\".concat(n))})),i.map((function(e,t){return Object(v.jsx)(\"rect\",{x:Z(e.x),y:$(e.y),width:U,height:U,fill:k,fillOpacity:m,shapeRendering:\"auto\"},\"hazard\"+t)})),a.map((function(t,n){return e.props.foodImage?Object(v.jsx)(\"image\",{x:Z(t.x),y:$(t.y),width:U,height:U,href:e.props.foodImage},\"food\"+n):Object(v.jsx)(\"circle\",{className:\"food\",cx:Z(t.x)+10,cy:$(t.y)+10,r:K,fill:w,shapeRendering:\"optimizeQuality\"},\"food\"+n)}))]})}},{key:\"render\",value:function(){return this.props.snakes?this.renderGrid():void 0}}]),n}(a.a.Component),ve=100,Oe=function(e){Object(b.a)(n,e);var t=Object(m.a)(n);function n(){return Object(p.a)(this,n),t.apply(this,arguments)}return Object(f.a)(n,[{key:\"render\",value:function(){var e=this.props.showCoordinateLabels?90:ve,t=this.props.showCoordinateLabels?10:0;return Object(v.jsx)(\"svg\",{viewBox:\"0 0 \".concat(ve,\" \").concat(ve),children:Object(v.jsx)(je,{snakes:this.props.snakes,food:this.props.food,foodImage:this.props.foodImage,hazards:this.props.hazards,columns:this.props.columns,rows:this.props.rows,highlightedSnake:this.props.highlightedSnake,theme:this.props.theme,maxWidth:e,maxHeight:e,x:t,y:0,turn:this.props.turn,showCoordinateLabels:this.props.showCoordinateLabels})})}}]),n}(a.a.Component),xe=n(17),ye=n(2),we=n.n(ye),ke=n(7),Se=n(33),_e=n.n(Se);function Ee(e,t){var n={},r=!1;return new Promise((function(a,i){var c=new _e.a(e);c.addEventListener(\"message\",(function(e){var i=JSON.parse(e.data),s=i.Data;n[s.Turn]||(n[s.Turn]=!0,(r=t(i))&&(c.close(),a()))})),c.addEventListener(\"onerror\",(function(e){i(e)})),c.addEventListener(\"onclose\",(function(e){r||(r=!0,a())}))}))}var Ce={},Te={};function Le(e){return Promise.all(e.map(Ne))}function Fe(e){return Ce[e]}function Ne(e){return e in Ce?Promise.resolve(Ce[e]):function(e){return Ae.apply(this,arguments)}(e)}function Ae(){return(Ae=Object(ke.a)(we.a.mark((function e(t){var n,r,a;return we.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(t);case 2:return n=e.sent,e.next=5,n.text();case 5:return r=e.sent,a=Re(r),Ce[t]=a,e.abrupt(\"return\",a);case 9:case\"end\":return e.stop()}}),e)})))).apply(this,arguments)}function Re(e){var t=document.createElement(\"div\");return t.innerHTML=e.trim(),t.firstChild}function He(e){return Pe.apply(this,arguments)}function Pe(){return(Pe=Object(ke.a)(we.a.mark((function e(t){var n,r,a;return we.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t in Ce)){e.next=2;break}return e.abrupt(\"return\",!0);case 2:if(!(t in Te)){e.next=4;break}return e.abrupt(\"return\",!1);case 4:return e.prev=4,e.next=7,fetch(t);case 7:return n=e.sent,e.next=10,n.text();case 10:return r=e.sent,(a=r.startsWith(\"<svg\"))||(Te[t]=!0),e.abrupt(\"return\",a);case 16:return e.prev=16,e.t0=e.catch(4),console.warn(e.t0,t,\"Fallback to default\"),e.abrupt(\"return\",!1);case 20:case\"end\":return e.stop()}}),e,null,[[4,16]])})))).apply(this,arguments)}var Me=\"default\",ze=\"default\";function Ie(){return(Ie=Object(ke.a)(we.a.mark((function e(t,n){var r;return we.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(t+l(n));case 2:if(200!==(r=e.sent).status){e.next=7;break}return e.abrupt(\"return\",Promise.resolve(r.json()));case 7:return e.abrupt(\"return\",Promise.resolve(r.json()).then((function(e){return console.error(e.error),Promise.reject(e.error)})));case 8:case\"end\":return e.stop()}}),e)})))).apply(this,arguments)}function Ge(e){return new Promise((function(t){return setTimeout(t,e)}))}function We(e){switch(e.cause){case\"snake-collision\":return\"Ran into \".concat(e.eliminatedBy,\"'s body\");case\"snake-self-collision\":return\"Collided with itself\";case\"out-of-health\":return\"Out of health\";case\"hazard\":return\"Eliminated by hazard\";case\"head-collision\":return\"Lost head-to-head with \".concat(e.eliminatedBy);case\"wall-collision\":return\"Moved out of bounds\";case\"squad-eliminated\":return\"Squad was eliminated\";default:return e.cause}}function Be(e){var t=e.reduce((function(e,t){return e.concat([t.HeadType,t.TailType])}),[]),n=new Set(t);return Array.from(n)}function De(e){return Xe.apply(this,arguments)}function Xe(){return(Xe=Object(ke.a)(we.a.mark((function e(t){var n,r,a;return we.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=Object(xe.a)(t),e.prev=1,n.s();case 3:if((r=n.n()).done){e.next=19;break}return(a=r.value).HeadType||(a.HeadType=Me),a.TailType||(a.TailType=ze),a.HeadType=qe(a.HeadType),a.TailType=Qe(a.TailType),e.next=11,He(a.HeadType);case 11:if(e.sent){e.next=13;break}a.HeadType=qe(Me);case 13:return e.next=15,He(a.TailType);case 15:if(e.sent){e.next=17;break}a.TailType=Qe(ze);case 17:e.next=3;break;case 19:e.next=24;break;case 21:e.prev=21,e.t0=e.catch(1),n.e(e.t0);case 24:return e.prev=24,n.f(),e.finish(24);case 27:case\"end\":return e.stop()}}),e,null,[[1,21,24,27]])})))).apply(this,arguments)}function Ye(e){return Ve.apply(this,arguments)}function Ve(){return(Ve=Object(ke.a)(we.a.mark((function e(t){var n,r,a;return we.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,De(t);case 2:return e.next=4,Le(Be(t));case 4:n=Object(xe.a)(t);try{for(n.s();!(r=n.n()).done;)(a=r.value).HeadSvg=Fe(a.HeadType),a.TailSvg=Fe(a.TailType)}catch(i){n.e(i)}finally{n.f()}case 6:case\"end\":return e.stop()}}),e)})))).apply(this,arguments)}function Ue(e){return e.indexOf(\"/\")>=0||e.indexOf(\".\")>=0}function Ke(e,t){return h(\"https://media.battlesnake.com\",e,t)+\".svg?board_version=1.2.1\"}function qe(e){return Ke(\"/snakes/heads\",Ue(e)?Me:e)}function Qe(e){return Ke(\"/snakes/tails\",Ue(e)?ze:e)}function Je(e){return Ze.apply(this,arguments)}function Ze(){return(Ze=Object(ke.a)(we.a.mark((function e(t){return we.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ye(t.Snakes);case 2:case\"end\":return e.stop()}}),e)})))).apply(this,arguments)}function $e(e,t){return function(e,t){return Ie.apply(this,arguments)}(h(e,\"games/\".concat(t)))}function et(e,t,n){return tt.apply(this,arguments)}function tt(){return(tt=Object(ke.a)(we.a.mark((function e(t,n,r){var a,i,c,s,o;return we.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=function(e){if(e.Type){var t=e.Data||e;c=c.then(Object(ke.a)(we.a.mark((function n(){return we.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(\"frame\"!==e.Type){n.next=3;break}return n.next=3,Je(t);case 3:return n.abrupt(\"return\",r(i,e.Type,t));case 4:case\"end\":return n.stop()}}),n)}))))}return e.Type&&\"game_end\"===e.Type},a=window.location.href,t=a.substr(0,a.lastIndexOf(\"/\")+1),e.next=5,$e(t,n);case 5:return i=e.sent,c=Promise.resolve(),o=h(d(t),\"games/\".concat(n,\"/events\")),e.next=10,Ee(o,s);case 10:return e.next=12,c;case 12:case\"end\":return e.stop()}}),e)})))).apply(this,arguments)}function nt(e,t){return e.filter((function(e){return e.turn===t}))[0]}var rt=n(27),at=(n(50),{color:R});var it=function(e){var t;if(\"\"===e.error)return\"\";var n=e.error.toString().split(\":\"),r=Object(rt.a)(n,2);return r[0],t=r[1],Object(v.jsxs)(\"div\",{className:\"error-message\",style:at,children:[Object(v.jsx)(\"span\",{className:\"material-icons material-icons-inline\",children:\"error\"}),Object(v.jsx)(\"span\",{children:t})]})},ct=(n(51),{color:R,cursor:\"pointer\",margin:0,padding:0});var st,ot,ut,lt,dt,ht,pt,ft,bt,mt,gt,jt,vt,Ot,xt,yt,wt=function(e){var t=e.errorMessage;if(\"\"===t)return\"\";var n=t.toString().split(\":\");Object(rt.a)(n,1)[0];return Object(v.jsx)(\"div\",{style:ct,children:Object(v.jsx)(\"span\",{className:\"material-icons material-icons-inline\",children:\"error\"})})},kt=Object(j.a)(\"div\")(st||(st=Object(g.a)([\"\\n  width: 100%;\\n  white-space: nowrap;\\n  overflow: hidden;\\n\\n  opacity: \",\";\\n\"])),(function(e){return e.isEliminated?\"0.5\":\"1.0\"})),St=Object(j.a)(\"span\")((function(e){return{display:\"block\",textShadow:e.theme===G?\"0 1px 2px rgba(0,0,0,0.90)\":null}})),_t=Object(j.a)(\"span\")((function(e){return{marginLeft:\"auto\",textShadow:e.theme===G?\"0 1px 2px rgba(0,0,0,0.90)\":null}})),Et=Object(j.a)(\"div\")({fontSize:\"1rem\",fontWeight:\"400\",display:\"flex\",flexDirection:\"row\",height:\"1.25rem\"}),Ct=Object(j.a)(\"span\")((function(e){return{display:\"block\",flexGrow:1,textShadow:e.theme===G?\"0 1px 2px rgba(0,0,0,0.90)\":null}})),Tt=Object(j.a)(\"span\")((function(e){var t=e.theme,n=e.latency;return{color:\"0\"===n?\"red\":\"inherit\",marginLeft:\"auto\",textShadow:t===G?\"0 1px 2px rgba(0,0,0,0.90)\":null,display:\"\"===n?\"none\":\"block\"}})),Lt=Object(j.a)(\"div\")({marginTop:\"0.2rem\",width:\"100%\",height:\"1.0rem\",background:E,borderRadius:\"1.5rem\"}),Ft=Object(j.a)(\"div\")((function(e){return{height:\"100%\",backgroundColor:e.color,borderRadius:\"inherit\"}})),Nt=Object(j.a)(\"div\")((function(e){return{width:\"100%\",marginTop:\"0.2rem\",fontSize:\"1rem\",lineHeight:\"1rem\",color:e.theme===G?L:F}})),At=function(e){Object(b.a)(n,e);var t=Object(m.a)(n);function n(e){var r;return Object(p.a)(this,n),(r=t.call(this,e)).state={showError:!1},r}return Object(f.a)(n,[{key:\"render\",value:function(){return Object(v.jsxs)(kt,{isEliminated:!!this.props.snake.death,children:[Object(v.jsxs)(\"div\",{className:\"row\",children:[Object(v.jsx)(St,{children:this.props.snake.name}),Object(v.jsx)(_t,{children:this.props.snake.body.length})]}),Object(v.jsxs)(Et,{children:[Object(v.jsxs)(Ct,{children:[\"by \",this.props.snake.author]}),Object(v.jsx)(wt,{errorMessage:this.props.snake.error}),Object(v.jsxs)(Tt,{latency:this.props.snake.latency,children:[this.props.snake.latency,\" ms\"]})]}),this.props.snake.death?Object(v.jsx)(Nt,{theme:this.props.theme,children:We(this.props.snake.death)}):Object(v.jsx)(Lt,{children:Object(v.jsx)(Ft,{color:this.props.snake.color,style:{width:\"\".concat(this.props.snake.health,\"%\")}})}),Object(v.jsx)(it,{error:this.props.highlighted?this.props.snake.error:\"\"})]})}}]),n}(a.a.Component),Rt=function(e){var t=e.filter((function(e){return!e.isDead})).sort((function(e,t){var n=e.name.toLowerCase(),r=t.name.toLowerCase();return n<r?-1:n>r?1:0})),n=e.filter((function(e){return e.isDead})).sort((function(e,t){return e.death.turn-t.death.turn})).reverse();return t.concat(n)},Ht=Object(j.a)(\"div\")(ot||(ot=Object(g.a)([\"\\n  display: none;\\n  color: \",\";\\n  font-weight: 600;\\n  font-size: 1.4rem;\\n\\n  @media (min-width: \",\") {\\n    display: \",\";\\n    font-size: 1.8rem;\\n  }\\n\\n  @media (min-width: \",\") {\\n    font-size: 3.2rem;\\n    letter-spacing: 0.1rem;\\n  }\\n\"])),(function(e){return e.theme===G?L:F}),M,(function(e){return e.hide?\"none\":\"block\"}),I),Pt=Object(j.a)(\"div\")(ut||(ut=Object(g.a)([\"\\n  padding: 0.75rem;\\n  transition: background-color 0.2s, box-shadow 0.2s;\\n  border: 2px solid\\n    \",\";\\n  &:hover {\\n    background-color: \",\";\\n    cursor: pointer;\\n    border-color: \",\";\\n  }\\n\"])),(function(e){return e.highlighted?T:\"transparent\"}),(function(e){return e.theme===G?N:H}),(function(e){return e.highlighted?T:C})),Mt=function(e){Object(b.a)(n,e);var t=Object(m.a)(n);function n(){var e;Object(p.a)(this,n);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return(e=t.call.apply(t,[this].concat(a))).state={highlightedSnake:null},e.toggleHighlight=function(t){var n=function(e,t){return e.highlightedSnake!==t._id?t._id:null};e.props.highlightSnake(n(e.state,t)),e.setState((function(e){return{highlightedSnake:n(e,t)}}))},e}return Object(f.a)(n,[{key:\"render\",value:function(){var e=this,t=this.state.highlightedSnake;return Object(v.jsx)(Ht,{theme:this.props.theme,children:this.props.snakes?Rt(this.props.snakes).map((function(n,r){return Object(v.jsx)(Pt,{onClick:function(){return e.toggleHighlight(n)},highlighted:t===n._id,theme:e.props.theme,children:Object(v.jsx)(At,{snake:n,theme:e.props.theme,highlighted:t===n._id},\"avatar\"+r)},\"avatarwrapper\"+r)})):void 0})}}]),n}(a.a.Component),zt=n(34),It=n.n(zt),Gt=Object(j.a)(\"div\")(lt||(lt=Object(g.a)([\"\\n  display: \",\";\\n  margin-top: 1rem;\\n  width: 100%;\\n\"])),(function(e){return e.hide?\"none\":\"block\"})),Wt=Object(j.a)(\"div\")({position:\"relative\"}),Bt=Object(j.a)(\"div\")(dt||(dt=Object(g.a)([\"\\n  position: absolute;\\n  bottom: 2.5rem;\\n  right: 2.5rem;\\n  width: 20rem;\\n  padding: 1rem;\\n  border: solid 1px #999;\\n  background: #fff;\\n\\n  @media (min-width: \",\") {\\n    left: 2.5rem;\\n    right: 0;\\n  }\\n\\n  h4 {\\n    margin-top: 0;\\n    margin-bottom: 1rem;\\n  }\\n\\n  ul {\\n    list-style-type: none;\\n    margin: 0;\\n    padding: 0;\\n  }\\n\"])),M),Dt=Object(j.a)(\"div\")({display:\"flex\",justifyContent:\"center\",width:\"100%\"}),Xt=Object(j.a)(\"button\")(ht||(ht=Object(g.a)([\"\\n  display: inline-block;\\n  min-width: 3rem;\\n  text-align: center;\\n  background: transparent;\\n  color: \",\";\\n  font-size: 1.4rem;\\n  border: none;\\n  text-decoration: none;\\n  cursor: pointer;\\n  transition: background 250ms ease-in-out, transform 150ms ease;\\n  -webkit-appearance: none;\\n  -moz-appearance: none;\\n\\n  &:hover {\\n    cursor: pointer;\\n  }\\n\\n  &:focus {\\n    outline: none;\\n  }\\n\\n  &:disabled {\\n    color: #ccc;\\n    cursor: not-allowed;\\n  }\\n\\n  @media (max-width: \",\") {\\n    padding: 2rem 2rem;\\n  }\\n\"])),(function(e){return e.theme===G?\"#eee\":\"#333\"}),P),Yt=Object(j.a)(\"input\")(pt||(pt=Object(g.a)([\"\\n  width: 100%;\\n  max-width: 60rem;\\n\\n  &:disabled,\\n  &:disabled:hover {\\n    opacity: 0.2;\\n    cursor: not-allowed;\\n  }\\n\"]))),Vt=function(e){Object(b.a)(n,e);var t=Object(m.a)(n);function n(e){var r;return Object(p.a)(this,n),(r=t.call(this,e)).state={paneHidden:!0},r.handleParentKeyboardEvent=function(e){var t=e.data.code;r.handleKeyEvent(r.keyboardCodeMap[t],e)},r.handleReload=function(){r.props.reloadGame()},r.handlePlayPause=function(){r.props.toggleGamePause()},r.handleBackward=function(){r.props.stepBackwardFrame()},r.handleForward=function(){r.props.stepForwardFrame()},r.handleScrubMouseDown=function(){r.props.pauseGame()},r.handleScrubbing=function(e){r.props.stepToTurn(parseInt(e.target.value))},r.handleSettings=function(){r.props.persistAvailable&&r.props.history.push(\"/settings\")},r.handleShortcutPaneShowToggle=function(){r.setState({paneHidden:!r.state.paneHidden})},r.handleKeyEvent=function(e,t){switch(t.preventDefault(),e){case\"r\":r.handleReload();break;case\"left\":r.handleBackward();break;case\"right\":r.handleForward();break;case\"space\":r.handlePlayPause();break;case\",\":r.handleSettings()}},r.keyboardCodeMap={KeyR:\"r\",ArrowLeft:\"left\",ArrowRight:\"right\",Space:\"space\",Settings:\",\"},r}return Object(f.a)(n,[{key:\"componentDidMount\",value:function(){window.addEventListener(\"message\",this.handleParentKeyboardEvent)}},{key:\"componentWillUnmount\",value:function(){window.removeEventListener(\"message\",this.handleParentKeyboardEvent)}},{key:\"render\",value:function(){return this.renderControls()}},{key:\"renderScrubbing\",value:function(){var e=this.props.hasAllFrames?this.props.currentFrame.turn:0,t=this.props.hasAllFrames?this.props.maxTurn:0;return this.props.showFrameScrubber&&Object(v.jsx)(Dt,{children:Object(v.jsx)(Yt,{type:\"range\",min:\"0\",max:t,value:e,onMouseDown:this.handleScrubMouseDown,onChange:this.handleScrubbing,disabled:!this.props.hasAllFrames})})}},{key:\"renderControls\",value:function(){var e=this.props,t=e.currentFrame,n=e.hideControls,r=e.paused,a=e.theme,i=e.persistAvailable,c=i?\"Configure playback settings\":\"Enable localStorage to configure playback settings\";return Object(v.jsxs)(Gt,{hide:n,children:[this.renderScrubbing(),Object(v.jsxs)(Dt,{children:[Object(v.jsx)(Xt,{onClick:this.handleBackward,disabled:0===t.turn||!r,theme:a,children:Object(v.jsx)(\"span\",{className:\"material-icons icon-image-preview\",children:\"skip_previous\"})}),Object(v.jsx)(Xt,{onClick:this.handlePlayPause,theme:a,children:Object(v.jsx)(\"span\",{className:\"material-icons icon-image-preview\",children:r?\"play_arrow\":\"pause\"})}),Object(v.jsx)(Xt,{onClick:this.handleForward,disabled:!r,theme:a,children:Object(v.jsx)(\"span\",{className:\"material-icons icon-image-preview\",children:\"skip_next\"})}),Object(v.jsx)(Xt,{onClick:this.handleReload,disabled:0===t.turn||!r,theme:a,children:Object(v.jsx)(\"span\",{className:\"material-icons icon-image-preview\",children:\"refresh\"})}),Object(v.jsx)(Xt,{onClick:this.handleSettings,disabled:!i,theme:a,children:Object(v.jsx)(\"span\",{className:\"material-icons icon-image-preview\",title:c,children:\"settings\"})}),Object(v.jsx)(It.a,{handleKeys:Object.values(this.keyboardCodeMap),onKeyEvent:this.handleKeyEvent}),Object(v.jsxs)(Wt,{children:[Object(v.jsx)(Xt,{onClick:this.handleShortcutPaneShowToggle,theme:a,children:Object(v.jsx)(\"span\",{className:\"material-icons icon-image-preview\",children:\"help\"})}),!this.state.paneHidden&&Object(v.jsxs)(Bt,{children:[Object(v.jsx)(\"h4\",{children:\"Keyboard shortcuts\"}),Object(v.jsxs)(\"ul\",{children:[Object(v.jsx)(\"li\",{children:\"Reload = r\"}),Object(v.jsx)(\"li\",{children:\"Play/Pause = space\"}),Object(v.jsx)(\"li\",{children:\"Backward = left arrow\"}),Object(v.jsx)(\"li\",{children:\"Forward = right arrow\"}),Object(v.jsx)(\"li\",{children:\"Settings = comma\"})]})]})]})]})]})}}]),n}(a.a.Component),Ut=Object(s.g)(Vt),Kt=Object(j.a)(\"div\")(ft||(ft=Object(g.a)([\"\\n  height: 100%;\\n  width: 100%;\\n\\n  > svg {\\n    object-fit: contain;\\n    width: 100%;\\n    height: 100%;\\n    max-width: 100%;\\n    max-height: 100%;\\n  }\\n\"]))),qt=Object(j.a)((function(e){return Object(v.jsx)(Kt,{children:Object(v.jsxs)(\"svg\",Object(o.a)(Object(o.a)({\"data-name\":\"Layer 1\",viewBox:\"0 0 360 150.82\",width:\"1em\",height:\"1em\"},e),{},{children:[Object(v.jsxs)(\"defs\",{children:[Object(v.jsxs)(\"linearGradient\",{id:\"Wordmark_svg__a\",x1:118.62,y1:69.31,x2:345.43,y2:181.87,gradientTransform:\"matrix(1 0 0 -1 0 150.95)\",gradientUnits:\"userSpaceOnUse\",children:[Object(v.jsx)(\"stop\",{offset:0,stopColor:\"#3d2f90\"}),Object(v.jsx)(\"stop\",{offset:1,stopColor:\"#ea0578\"})]}),Object(v.jsx)(\"linearGradient\",{id:\"Wordmark_svg__b\",x1:153.2,y1:-.36,x2:380.02,y2:112.21,xlinkHref:\"#Wordmark_svg__a\"}),Object(v.jsx)(\"linearGradient\",{id:\"Wordmark_svg__c\",x1:110.47,y1:85.74,x2:337.28,y2:198.31,xlinkHref:\"#Wordmark_svg__a\"}),Object(v.jsx)(\"linearGradient\",{id:\"Wordmark_svg__d\",x1:132.19,y1:41.99,x2:359,y2:154.56,xlinkHref:\"#Wordmark_svg__a\"}),Object(v.jsx)(\"linearGradient\",{id:\"Wordmark_svg__e\",x1:98.64,y1:109.56,x2:325.45,y2:222.13,xlinkHref:\"#Wordmark_svg__a\"}),Object(v.jsx)(\"linearGradient\",{id:\"Wordmark_svg__f\",x1:130.52,y1:47.49,x2:364.27,y2:163.5,xlinkHref:\"#Wordmark_svg__a\"}),Object(v.jsx)(\"linearGradient\",{id:\"Wordmark_svg__g\",x1:13.42,y1:72.58,x2:346.58,y2:72.58,xlinkHref:\"#Wordmark_svg__a\"}),Object(v.jsxs)(\"linearGradient\",{id:\"Wordmark_svg__h\",x1:86.06,y1:89.18,x2:274.73,y2:89.18,gradientUnits:\"userSpaceOnUse\",children:[Object(v.jsx)(\"stop\",{offset:.23,stopColor:\"#3d2f90\"}),Object(v.jsx)(\"stop\",{offset:1,stopColor:\"#9f1782\"})]})]}),Object(v.jsxs)(\"g\",{opacity:.15,children:[Object(v.jsx)(\"path\",{d:\"M215.54 86.65h-23.25V41h-10.54v45.65H158.5V41H142l-8.33-20h94.25l-.45 20h-12z\",fill:\"url(#Wordmark_svg__a)\"}),Object(v.jsx)(\"path\",{d:\"M339.67 139L254 92.43l22-22.36-21.6-49.25h86.18v8.25L326.36 39l15.87 13.86h-39.14l11.13 24-12.44 12.6z\",fill:\"url(#Wordmark_svg__b)\"}),Object(v.jsx)(\"path\",{d:\"M105.76 87.44L88.25 69.73l20.55-49.12h22.4l27.62 66H133.6l-3.38-8.53h-20.79z\",fill:\"url(#Wordmark_svg__c)\"}),Object(v.jsx)(\"path\",{d:\"M256.83 86.65h-27.21V21.06h23.24V63h18l3 6.8z\",fill:\"url(#Wordmark_svg__d)\"}),Object(v.jsx)(\"path\",{d:\"M21.56 139l38-49.57-12.47-12.67 11.14-24H19l15.87-13.83L20.63 29v-8.28h86.17L85.28 70.13l22 22.3z\",fill:\"url(#Wordmark_svg__e)\"})]}),Object(v.jsx)(\"path\",{d:\"M87.27 125.08a3.06 3.06 0 00.84-.72l-1.65 1.11z\",fill:\"url(#Wordmark_svg__f)\"}),Object(v.jsx)(\"path\",{d:\"M343.93 133.36l-88.33-48 22.65-23.05-22.17-50.51h88.81V20l-14.66 10.19 16.35 14.28h-40.34l11.48 24.69-12.82 13.1zM259 84.84L336.51 127l-34.3-44.92 13.07-13.35L303 42.4h38.11L326.92 30l15.93-11.13v-5.39h-83.66l21.48 49.26zm57.7-57.75a4.75 4.75 0 114.74-4.75 4.66 4.66 0 01-4.79 4.75zm0-7.49a2.74 2.74 0 102.74 2.74 2.7 2.7 0 00-2.79-2.74zm-185-7.81l8.3 20.58h17.31v46.21L129.1 11.81H106C99 28.68 91.89 45.08 84.83 62l18 18.25 3.68-9.63h21.59q1.72 4.41 3.47 8.8h49.62v-47h10.88v47H216v-47h12.28V11.8zm1.3 65.55l-3.47-8.8h-24.38l-3.05 8-14.86-15c6.71-16.05 13.42-31.6 20.13-47.64h20.37c8.93 21.32 17.85 42.16 26.77 63.49zm93.34-47H214v47h-19.9v-47h-14.95v47h-19.87v-47h-17.94l-6.77-16.5h91.73zM109.91 55h14.93l-7.47-19.8q-3.73 9.92-7.46 19.8zm2.94-2l4.52-12 4.52 12zm160 2h-18.54V11.8h-23.52l-.43 67.39 28.09.19 17.46-17.29zm-15.24 22.34l-25.21-.18V13.47h19.85V57h19.21l2 4.59zm-155.18 9.09zm0 0zm0 0zM43.4 17.6a4.75 4.75 0 104.75 4.74 4.65 4.65 0 00-4.75-4.74zm0 7.48a2.74 2.74 0 112.74-2.74 2.69 2.69 0 01-2.74 2.74zm38.33 37.55l22.12-50.8H15.12V20l14.65 10.22-16.35 14.27h40.34l-11.48 24.7 12.8 13.11L16.81 133l82.84-45.06 4.68-2.54zm19.37 22.2L23.53 127l34.31-44.91-13.07-13.35L57 42.4H18.89L33.12 30 17.2 18.89v-5h83.62c-5 11.68-21.57 49.2-21.57 49.2z\",fill:\"url(#Wordmark_svg__g)\"}),Object(v.jsx)(\"path\",{d:\"M271.62 55.66c-.23-.26-.17-.48-.69-.44a.74.74 0 00-.43 1.21c.08.09-.2.2-.24.18a3.85 3.85 0 00-.44-.19c-.08 0-.13.11-.17-.05s-.34-.41-.52-.35-.05.08-.15 0-.2-.21-.36-.18a26.54 26.54 0 00-6.15 2.16 4.38 4.38 0 01-1.27.5c-.2 0-.37-.38-.65-.23a5.68 5.68 0 01-.77.42c-.19 0-.24-.09-.39 0-3.16 1.26-6.21 2.65-9.28 4.07a6.76 6.76 0 01-1 .32c-1.08.36-2.12.67-3.22 1a15.64 15.64 0 00-3.32 1.12.55.55 0 00.06 1c-2.37 1-4.82 1.88-7.25 2.74-.78.27-.46 1.19.29 1.19-.21.23-.16.1-.43.41a4.37 4.37 0 00-.93 1.57c0 .18.25.49.25.62a1.69 1.69 0 010 .21c-.12 5.6.05 11.16.23 16.75l-.54.15a40.47 40.47 0 01-6 1 21.23 21.23 0 01-3.56.12c-.18 0-.3-.36-.48-.39a.63.63 0 01-.39-.13c-.83-.65-1.57-1-2.38-1.81a18.7 18.7 0 01-2.26-3l.06-.12a7 7 0 01.54-.76c.17-.21.38-.52.58-.75a6.21 6.21 0 00.42-.81 15.73 15.73 0 011.7-2.19c.68-.77.86-.9 1.78-2s3.47-4 4.35-5.13a11.59 11.59 0 001.53-2.28c.22-.44 0-.76.14-1.14a2.57 2.57 0 00.16-.93 2.13 2.13 0 00-.63-1.13 2.94 2.94 0 00-.81-.56c-.31-.15-.52-.31-.86-.44s-.52-.63-.87-.76a4.06 4.06 0 01-1.23-.45c-.34-.26-.76-.78-1.12-.8s-.71.54-1 .76-.81.56-1.09.77.12.4.21.41.34.26.26.33-.31-.13-.51-.07-.34-.14-.62.2c-1.47 1.75-3.95 4.69-5.31 6.22a20.74 20.74 0 00-2.45 3.44c-.32.49-.62.91-1 1.36l-1.12 1.43c-.29.39-.36.47-.61.83v-1.84c0-.84 0-2.07.05-3 0-1.52-.09-3.48-.09-4.9a11.51 11.51 0 00-.72-3.5c-.23-.83.2-1.82.12-2.56s-.46-.72-1-.67a.73.73 0 00-1.24-.76c-.55.61-.73 1.28-1.28 1.77-.88.77-1.84 1.33-2.69 2.12-2.23 0-2.4 1.66-2.55 3.52a1.51 1.51 0 000 .7 4.64 4.64 0 01.05 1c.06.82 0 2 .07 2.68s-.38 1.06-.38 1.55c0 1.71.19 3.36.08 5-.08 1.09-.11 2-.19 3.11-.43-.5-.85-1-1.26-1.51-2.74 1.08-5.55 2.22-8.29 3.15a3.45 3.45 0 01-.66.19c-.23 0-.36.25-.54.21s-.38.18-.54 0a12 12 0 01-1.2-2.32c-.36-.76-.8-1.81-1.1-2.54l-.78-1.88c-.27-.66-.6-1.2-.86-1.86s-.39-1.44-.67-2.11a2.09 2.09 0 01-.08-.23 18 18 0 00-2.83-6.09c-.14-.23-.26-.71-.38-.67a2.44 2.44 0 00-.79 1c-.06.28.64.89.62 1.12s-.58 0-.64-.09 0-.05 0-.15a.66.66 0 00-.25-.37c-.08 0 0-.15 0-.11a12.69 12.69 0 00-.75 1.09 1.39 1.39 0 01-1.69.42c-1.19-.55-2.33-1.15-3.51-1.71a5.54 5.54 0 00-.57-.21c-1.07 2.51-1.71 5.11-3.37 7.32 0 .07-.19.11-.24.16a4.61 4.61 0 00-.76 2 1.91 1.91 0 01-.07.3c-.27.59-.64 1.51-.87 2s.06.6.12.9 0 .07-.09.46a18.56 18.56 0 01-.56 1.78 2.17 2.17 0 000 .51c0 .14.15.28.13.39-.1.61-.3 1.32-.42 1.89s-.32 1.42-.42 1.87-.18.79-.24 1 0 0-.05.09 0 0 0 .06a.1.1 0 010 .09v.07a1 1 0 000 .12v.13a1.27 1.27 0 01-.06.18V92c0 .07 0 0 0 0v.07a.13.13 0 000 .08v.07c0 .07 0-.1 0 0a3.48 3.48 0 01-.1.41v.2c0 .02 0 0 0 0v-.07c0 .01 0 0 0 0v.15c0 .02 0 0 0 0v.25c0 .05 0 0 0 0v.19a.58.58 0 000 .18v.06a.51.51 0 010 .13v.06a.45.45 0 000 .11v.19c0 .04 0 0 0 0a.54.54 0 010 .15s0 .22-.08.31 0-.07 0 0v.11c0 .19-.15.65-.23 1a28.7 28.7 0 00-1.06 5.79 5.35 5.35 0 00.15 1c-.16.21-.32.38-.48.58a2 2 0 01.63.44c.08.12 0 .1 0 .15s-.05 0-.05.06v.08a.33.33 0 010 .14v.14a.26.26 0 000 .15V104.62c0 .07 0-.06 0 0v.35c0 .05.05 0 0 0s0 0 0 .06v1.04c0 .03 0 .06 0 0v.1c0 .03 0 0 0 0v.06c0 .06 0 0 0 0a.31.31 0 010 .1v.09a1.94 1.94 0 010 .24s0-.06 0 0a1.29 1.29 0 010 .19s.06 0 0 .07a.19.19 0 00-.05.11v1.83c0 .21-.06 0 0 0s0 .06 0 .1 0-.06 0 0v.5c0 .02 0 .1 0 0s-.05-.37-.06-.46a1.15 1.15 0 010-.21v-.07-.52-.39a.72.72 0 010-.23v-.05a.16.16 0 000-.09v-.05c0-.05.06 0 0-.07a1.77 1.77 0 01-.05-.32c0-.06.05 0 .06 0a2.36 2.36 0 010-.37v-.07-.05a1.89 1.89 0 00-.06.18v.09a.55.55 0 000 .18v.06c0 .06 0 0 0 0v-.06c0 .01-.06 0-.07 0s0 .14 0 .22V107.65c0 .01 0 0 0 0a.53.53 0 010 .13V108.93a1.07 1.07 0 000 .25v.07a.29.29 0 010 .09V109.83a2.18 2.18 0 000 .25 1.62 1.62 0 000-.22.31.31 0 000-.1v-.06a1.82 1.82 0 010-.33v-.18a.74.74 0 000-.15s0-.06 0 0a1.19 1.19 0 01.05.22v.11a.13.13 0 010 .09v.1s0-.07 0 0a.65.65 0 010 .2v.25a1.48 1.48 0 010 .22.12.12 0 000 .09v-.1c0-.01 0 0 0 0s0-.06 0 0v.12a.46.46 0 010 .14c0 .09.06.4.08.49s0 0 0 .1v.21h.07v-.08-.06s0-.12.05-.11 0 .06.05.08a.15.15 0 010 .07v-.07c0-.03 0 0 0 0a2.64 2.64 0 010-.29c0-.05.05 0 0-.05s0 0 0-.06v-.06-.12a3.23 3.23 0 00.58 1.24 2 2 0 002 .71 34.67 34.67 0 003.8 3.47c.45.33 1.3.2 1.24-.52a42.61 42.61 0 011-11 37.32 37.32 0 00.6-5c0-.45.08-1.23.07-1.71a17.14 17.14 0 001.53 2.92c.6.72 1.28.24 1.25-.47 0 0-.06-.08 0-.1a60.1 60.1 0 015.64-2.31c.5-.17 1-.34 1.54-.48.16.52.51 1.57.66 1.94s0 0 0 .06 0 .2.17.21a1.78 1.78 0 01.88.33c.1.14.1.08.11.12.88 3.28 1.53 6.54 2.08 9.87a.32.32 0 00.54.13c.88-1 1.12-2.38 1.57-3.53s1-2 1.42-3.13c.09-.2.3-.31.43-.5a9.13 9.13 0 001.06-1.91c.06-.15.09-.3.16-.44a3.21 3.21 0 01.24-.36c.1-.15 0-.21 0-.39a6.1 6.1 0 01.13-.84c0-.18 0-.11.06-.27s-.07 0 0-.28a13.8 13.8 0 00.35-1.41.74.74 0 00-.94-.8c-.12-.43-.44-1.16-.54-1.5s-.31-.42-.27-.67-.48-.45-.17-.63c1.12-.7 2.3 0 3.77-1.15A32.81 32.81 0 01202 90.6c.18 1.94.11 4.31.27 6.18 0 .4-.23.13-.32.32a.39.39 0 000 .44c.09.13.18.1.2.24s.28.3.32.39.05 0 0 .13-.36.07-.45.21a.87.87 0 00.06.66c.09.18.25.42.34.56a1.28 1.28 0 01.19.34c0 .16.05.56.07.68s-.06.12-.06.18.08 0 .08 0c.19 1.64.42 3.29.5 4.94a2.84 2.84 0 01-.1.65c0 .21.11.38.12.56a10.85 10.85 0 01-.16 2.28c-.05.27-.32.45-.4.71-.26.8.47 1.49 1.21.92 0 0-.06 0 0-.05a.86.86 0 00.47-.37c.13-.25.62-1 .74-1.24-.13.32-.36.7-.49 1.05-.3.87.78 1.61 1.28.76.92-1.54 1.55-3.23 2.43-4.76.06-.1.25 0 .35-.06a6.31 6.31 0 001.88-2.61 34.47 34.47 0 001-3.31 8.37 8.37 0 01.37-1.35c.51-1.24 1.26-2.64 1.92-3.87a7 7 0 001.44 1 37.56 37.56 0 006.37 1.92c.34.09.52.23.78.29s.19 0 .47 0 1.18.28 1.39.34.14.1.19.11a15.09 15.09 0 002.6.38 16.39 16.39 0 003 0c.37 0 .78-.15 1.14-.18 1.2-.12 2.37-.19 3.55-.4 0 .65.12 1.31.12 1.95 0 .12-.15.19-.18.32a3.18 3.18 0 00.54 2.85v1c0 1.14-.17 2.53.6 3.52 0 0 .12.07.13.12.13.8.33 1.8 1.26 1.86a7.35 7.35 0 002.34-.51c1-.21 1.82-.49 3-.75s2.4-.69 3.77-.94 3.3-.54 4.71-.93 2.45-.83 3.88-1.29 3.22-.75 4.7-1.24a.74.74 0 00-.21-1.46 14.51 14.51 0 00-2.94.61 13 13 0 002.63-1.16c.33-.21.9-.4.95-.72.19-1.07.35-2.65.61-3.58s.42-1.3.6-2.06c.05-.19-.18-.39-.36-.45s-.58 0-.82-.17-.51-.4-.74-.62-.53-.57-.77-.76-.55-.6-.86-.51a20 20 0 01-2.52.94 12.39 12.39 0 00-2.31 1.1c-.93.33-1.95.21-2.76.47s-1.4.36-2.12.57a18.91 18.91 0 01-2.18.46 4.08 4.08 0 01-1.64-.23v-2.94c0-1.04 0-2.21-.05-3.27a3.52 3.52 0 001.21 0c.43-.12 1 .12 1.42.07s.78-.35 1.15-.27a1.9 1.9 0 00.94-.15 1.42 1.42 0 01.4-.06h.61a7.28 7.28 0 002.23-.54.85.85 0 01.19-.09c.14 0 .74-.26.86-.28s.13-.13.15-.08c.32.61.9.44 1.31.2s.57-.36.59-.75-.05-1 0-1.26.16-.18.21-.26c.34-.52 1.11-1.1 1.35-1.54a1.51 1.51 0 00-.06-1.19 1.94 1.94 0 00-.5-1c-.21-.11-.79 0-.91-.12 0-.77.06-1.52.12-2.28 0-.23-.1-.35-.16-.53a.79.79 0 00-1.52-.09c0 .07 0 .21-.06.21s0 0-.19-.06-.33-.36-.8-.23-1.08.32-1.78.45-1.89.45-2.69.54c-1.28.14-2.79.89-4 .32-.27-.12.69-3.9.7-4.3s-.07-.26 0-.28c2.09-1 4.15-2.11 6.25-3.08 2.62-1.21 5.27-2.3 7.95-3.35 2-.79 4.08-1.48 6.13-2.18-.12-.31-.1-.59.26-.75 1.25-.57 2.59-1 3.9-1.43a6.92 6.92 0 001.3-.5 1.15 1.15 0 00.29-.84c0-.09-.5.11-.76.09a4.71 4.71 0 01-1 0c-.43-.07-.93-.73-.46-1.17.08-.07.12.2.21.19s.14.08.22.08h.13c-.07 0-.1 0 0 0a.69.69 0 00.32 0h.07c.07 0 .06 0 .22-.11a1 1 0 00.39-.77.66.66 0 00-.48-.61c-.31-.11-.52.15-.7.31a2.08 2.08 0 00-.37.35c-.13.16.14.28-.08.39a2.21 2.21 0 01-1 .15c-.52 0-.78-.88-.32-1.26s1.09-.47 1.31-.74 0-.74 0-.81a4.37 4.37 0 00-.94.13c-.22 0-.81-.27-.83-.41s-.09 0 .08 0 .59 0 .94.09a1.1 1.1 0 001.27-1.19c-.06-.64-.78-.76-1-.87s-.39 0-.31-.06a22.56 22.56 0 012.11-1.2 2.39 2.39 0 00.34-.18c.23-.14.78-.39 1.14-.58.75-.4 1.63-.8 2.4-1.23.16-.08.33-.09.48-.27s.26-.71.41-1c-1.07.44-2.12.85-3.15 1.22zm-90.93 35.1c-1 .21-1.92.39-2.88.57a1.85 1.85 0 01-.54.11c-.15 0-.56.22-.57.09a4 4 0 01.33-1c.1-.34.29-.69.42-1.09a29.15 29.15 0 011.09-2.94c.42-1 1-1.91 1.48-2.89.07-.15.14-.42.2-.59.58 1.16 1.16 2.37 1.71 3.54s1 2.29 1.58 3.46c-.93.25-1.87.53-2.82.74zm-19.42-16.94a.61.61 0 00-.77-.21l-.36-.33c-1.9-2.24-3.76-4.49-5.8-6.51a.62.62 0 00-.32.47l-.31 2v.23c-.38 2.38-.74 4.73-1.1 7.09a.75.75 0 00.38.8 3.19 3.19 0 01-.45 1.19c0 1.1.16 2.24.22 3.21v2.71a1.22 1.22 0 000 .27 1.09 1.09 0 010 .36 1 1 0 010 .34v1.28a.54.54 0 000 .18v1.54a.17.17 0 010 .14 3.53 3.53 0 010 .65 20.08 20.08 0 01-1 4.78 6.22 6.22 0 01-.29.71 101.58 101.58 0 00-4.11-11.21 7.49 7.49 0 00-.24-1.39.2.2 0 01.29 0l-.09.11a1.93 1.93 0 010-.34.49.49 0 000-.24 1.81 1.81 0 00-.22-.32v-.2h.15c.16 0 .18 0 .2-.31a10.6 10.6 0 00-.6-1.33c-.45-3-.79-5.92-1-9a.73.73 0 00-.76-.68 4 4 0 01-.16-.45 1 1 0 00-.22-.34l-.36.3a66.17 66.17 0 01-7.72 8.25c-.49.74-1 1.48-1.43 2.24V80a1.27 1.27 0 01.9.87.77.77 0 00.4-.29l.36-.52c-.5 2.61-1 5.21-1.55 7.79L134 93.71a28.65 28.65 0 00-1 5.74.25.25 0 00.25.25c-.2 1-.43 2.11-.63 3.12a.58.58 0 00-.31.63 7.39 7.39 0 001.25 2.49c.29.47.63 1 1 1.61s.89 1.48 1.39 2.24a13.37 13.37 0 001.59 1.93 4.63 4.63 0 00.65.52 43.92 43.92 0 012.09 4 .72.72 0 001.32-.17l2.76-15.3.2.36c.16-.41 2.09-1.77 2.09-1.06v.45a.46.46 0 01.42.27c.59 1.26 4 8 4.49 9a37.3 37.3 0 003 4.8 18.27 18.27 0 012.51 2.69.72.72 0 001 .23.73.73 0 00.33-.58c.52-4.06 1.95-11.65 2.09-15.71a4.18 4.18 0 01.51-.8c.05-1 .15-2 .3-3 0-1.06.18-2 .26-2.94.39-2.92.74-5.83 1.13-8.73.29-2.24.62-4.48.83-6.72a7.27 7.27 0 00-2.25-5.21zm-25.46-11.64l-.63.92a.67.67 0 00-.88-.37l-.27.13a.75.75 0 00-.31-.6.53.53 0 000-.74.53.53 0 00-.25-.63 1.19 1.19 0 00-.6-.2.51.51 0 00-.25-.59 12.81 12.81 0 001.3-.74.61.61 0 010-.27 2.18 2.18 0 01.61-.6l-2.25 1.59a1.09 1.09 0 00-.67 0 .72.72 0 00-.54 0 .68.68 0 00-.49.63c-1.12.65-2.24 1.34-3.3 2H127a1.36 1.36 0 00-.81.62l-2.24 1.4a16.6 16.6 0 00-2.87 1.9l-.94.49q.33-.27.69-.51c2.25-1.66 4.65-3.21 6.73-5.07.43-.36 0-1-.58-.74a59.61 59.61 0 00-7.25 4.87c-2.24 1.7-4.68 3.43-7 5.2-4.49 3.45-9.13 6.95-13.46 10.77a.62.62 0 00-.25.47 12 12 0 00-2.78 2.35c.49 3.12 2.74 5.5 4.22 8.28a71.94 71.94 0 019.4 2c1 .29 2 .61 2.91.94a8 8 0 012.8 1.28 4.35 4.35 0 01.66 4.73 30.7 30.7 0 01-3.95 3.7c-1.64.81-3.28 1.6-4.89 2.43s-2.83 1.48-4.22 2.24a1 1 0 010 .25c-.85.27-1.68.67-2.35.89a45 45 0 00-5 2 .56.56 0 00-.19.77.53.53 0 00.37.26.5.5 0 00.11.69.5.5 0 00.43.08 23.27 23.27 0 004.24-1.8l.29-.13a89 89 0 01-10.45 7.42c-1.51 1-3 2-4.49 3a.69.69 0 01.16.18 47.72 47.72 0 017.49-4.26c.54-.25 1.14.42.65.87a52.65 52.65 0 00-4.17 3.57l.45-.16H91a24.48 24.48 0 013.22-1.86.83.83 0 011.08.47l.16-.13h.13l1-.41-1.26.7a.51.51 0 01-.22.54l-.18.13a7.83 7.83 0 00.92-.45l.38-.24c.56-.36 1 .38.67.83 1.8-1 3.59-1.91 5.41-2.79a.73.73 0 000 .36l-.36.23a.33.33 0 00.25.6 36.92 36.92 0 004.1-1.32l2.92-1.68.38-.2a5.38 5.38 0 011.5 0 .36.36 0 00.42-.29 1.14 1.14 0 010-.45.34.34 0 00.54.36 4.73 4.73 0 01.83-.78 23.8 23.8 0 004.19-2.25 11.66 11.66 0 002.13-1.25l1.21-.94c.65-.43 1.28-.86 1.89-1.33l.53-.45a8.8 8.8 0 001.44-1.14 11.53 11.53 0 011.39-.92.29.29 0 00.13-.39l.59-.89a18.3 18.3 0 001.84-4.49 14.38 14.38 0 00.33-5 7.1 7.1 0 00-.74-2.67l-.69-1.37c-.39-.77-.82-1.52-1.28-2.24a16.27 16.27 0 00-3.52-3.26 23.53 23.53 0 00-4.49-2.24 18.39 18.39 0 01-4.73-1.68.6.6 0 01-.2-.27c3-1.91 6-3.9 9-5.85 3.72-2.45 7.58-4.8 11.21-7.5l2.47-1.25v-.18a1.23 1.23 0 01-.81-1 1.3 1.3 0 01-.47-.85.48.48 0 00.16-.12 4.48 4.48 0 00.94-2.24.57.57 0 00.82 0 .53.53 0 00.17-.25 4.17 4.17 0 000-.5.7.7 0 00-.65-.63c.24-.42.47-.87.71-1.27a.58.58 0 00-.51-.65z\",fill:\"url(#Wordmark_svg__h)\"})]}))})}))(bt||(bt=Object(g.a)([\"\\n  > path {\\n    fill: \",\";\\n  }\\n\"])),(function(e){var t=e.color,n=e.theme;return t||(n===G?A:N)})),Qt=n(36),Jt=n.n(Qt),Zt=Object(j.a)(\"div\")((function(e){return{fontSize:\"2rem\",fontWeight:\"600\",textAlign:\"center\",textTransform:\"uppercase\",color:e.theme===G?L:F}})),$t=Object(j.a)(\"div\")(mt||(mt=Object(g.a)([\"\\n  display: flex;\\n  flex-direction: column;\\n  justify-content: center;\\n  margin: 0.5rem 0;\\n  text-align: center;\\n\\n  @media (min-width: \",\") {\\n    padding-top: 1rem;\\n    padding-bottom: 2rem;\\n  }\\n\"])),I),en=Object(j.a)(\"div\")(gt||(gt=Object(g.a)([\"\\n  width: 100%;\\n  height: 5rem;\\n\\n  @media (min-width: \",\") {\\n    height: 8rem;\\n  }\\n\\n  @media (min-width: \",\") {\\n    height: 16rem;\\n  }\\n\"])),z,I),tn=Object(j.a)(\"div\")(jt||(jt=Object(g.a)([\"\\n  font-size: 2rem;\\n  font-weight: 600;\\n  text-transform: uppercase;\\n  color: \",\";\\n\\n  @media (min-width: \",\") {\\n    font-size: 3rem;\\n  }\\n\"])),(function(e){return e.theme===G?L:F}),I),nn=Object(j.a)(\"span\")(vt||(vt=Object(g.a)([\"\\n  display: inline-block;\\n  width: 6rem;\\n\"]))),rn=Object(j.a)(\"div\")(Ot||(Ot=Object(g.a)([\"\\n  display: flex;\\n  flex-direction: column;\\n  width: 100%;\\n  height: 100%;\\n\\n  @media (min-width: \",\") {\\n    width: \",\";\\n  }\\n\"])),M,(function(e){return e.hideScoreboard?\"100%\":\"60vw\"})),an=Object(j.a)(\"div\")(xt||(xt=Object(g.a)([\"\\n  display: none;\\n  width: 40vw;\\n  padding: 0 2rem;\\n\\n  @media (min-width: \",\") {\\n    display: \",\";\\n  }\\n\"])),M,(function(e){return e.hide?\"none\":\"block\"})),cn=Object(j.a)(\"p\")(yt||(yt=Object(g.a)([\"\\n  margin: 0.25rem;\\n  width: 100%;\\n  font-size: 1.2rem;\\n  text-align: center;\\n  color: #aaa;\\n  text-transform: capitalize;\\n\"]))),sn=function(e){Object(b.a)(n,e);var t=Object(m.a)(n);function n(){return Object(p.a)(this,n),t.apply(this,arguments)}return Object(f.a)(n,[{key:\"componentDidMount\",value:function(){var e=this.props.options;this.props.togglePlayButtons(\"show\"),e.theme&&this.props.toggleTheme(e.theme),e.game||(this.invalidArgs=!0),this.hideLogo=\"true\"===e.hideLogo,this.hideScoreboard=\"true\"===e.hideScoreboard,this.showFrameScrubber=e.showFrameScrubber,this.title=e.title&&decodeURIComponent(e.title),this.props.setGameOptions(e),0===this.props.frames.length&&this.props.fetchFrames()}},{key:\"render\",value:function(){return this.invalidArgs?Object(v.jsx)(O,{}):this.props.gameNotFound?Object(v.jsx)(Y,{}):this.props.currentFrame?this.renderGame():Object(v.jsx)(D,{})}},{key:\"renderGame\",value:function(){var e=this.props,t=e.currentFrame,n=e.options;return Object(v.jsx)(\"main\",{className:n.theme,children:Object(v.jsxs)(\"section\",{className:Jt.a.game,children:[Object(v.jsxs)(rn,{hideScoreboard:this.hideScoreboard,children:[Object(v.jsx)(Zt,{theme:n.theme,children:this.title}),Object(v.jsx)(Oe,{snakes:t.snakes,food:t.food,foodImage:n.foodImage,hazards:t.hazards,columns:this.props.grid.width,rows:this.props.grid.height,highlightedSnake:this.props.highlightedSnake,theme:n.theme,turn:t.turn,showCoordinateLabels:n.showCoordinateLabels}),Object(v.jsx)(Ut,{currentFrame:t,hideControls:\"true\"===n.hideMediaControls,reloadGame:this.props.reloadGame,toggleGamePause:this.props.toggleGamePause,stepBackwardFrame:this.props.stepBackwardFrame,stepForwardFrame:this.props.stepForwardFrame,stepToTurn:this.props.stepToTurn,pauseGame:this.props.pauseGame,paused:this.props.paused,theme:n.theme,persistAvailable:n.persistAvailable,maxTurn:this.props.frames[this.props.frames.length-1].turn,showFrameScrubber:this.showFrameScrubber,hasAllFrames:this.props.hasAllFrames})]}),!this.hideScoreboard&&Object(v.jsxs)(an,{children:[Object(v.jsxs)($t,{children:[!this.hideLogo&&Object(v.jsx)(en,{children:Object(v.jsx)(qt,{theme:n.theme})}),Object(v.jsxs)(tn,{theme:n.theme,children:[\"Turn \",Object(v.jsx)(nn,{children:t.turn})]})]}),Object(v.jsx)(Mt,{turn:t.turn,snakes:t.snakes,food:t.food,highlightSnake:this.props.highlightSnake,theme:n.theme}),Object(v.jsxs)(cn,{children:[\"Rules: \",this.props.ruleset.name]})]})]})})}}]),n}(a.a.Component),on=\"SET_GAME_OPTIONS\",un=\"SET_THEME\",ln=\"GAME_OVER\",dn=\"GAME_NOT_FOUND\",hn=\"FETCH_FRAMES\",pn=\"REQUEST_FRAMES\",fn=\"RECEIVE_FRAME\",bn=\"SET_CURRENT_FRAME\",mn=\"PAUSE_GAME\",gn=\"RESUME_GAME\",jn=\"HIGHLIGHT_SNAKE\",vn=\"RECEIVE_EVENT_END\",On=\"TOGGLE_SETTINGS_VIEW\",xn=\"THEME_CHANGED\",yn={frameRate:6,theme:W,autoplay:!1,showFrameScrubber:!1,persistAvailable:!1,showCoordinateLabels:!1},wn=function(e,t){return{type:fn,game:e,frame:t}},kn=function(e,t,n){return{type:vn,game:e,endEvent:t,frame:n}},Sn=function(e){return{type:bn,frame:e}},_n=function(){return{type:mn}},En=function(){return{type:gn}},Cn=function e(t){return function(){var n=Object(ke.a)(we.a.mark((function n(r,a){var i,c,s,o,u,l,d,h,p,f,b;return we.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:i=a().game.gameOptions.frameRate,c=a().game.frames.slice(),s=c.indexOf(t),o=c.slice(s),u=Math.ceil(i||6),l=1e3/u,d=Object(xe.a)(o),n.prev=7,d.s();case 9:if((h=d.n()).done){n.next=18;break}if(p=h.value,!a().game.paused){n.next=13;break}return n.abrupt(\"return\");case 13:return r(Sn(p)),n.next=16,Ge(l);case 16:n.next=9;break;case 18:n.next=23;break;case 20:n.prev=20,n.t0=n.catch(7),d.e(n.t0);case 23:return n.prev=23,d.f(),n.finish(23);case 26:(f=o[o.length-1]).gameOver?a().game.paused||(a().game.gameOptions.loop?(b=nt(c,0),r(e(b))):r({type:ln})):r(e(f));case 28:case\"end\":return n.stop()}}),n,null,[[7,20,23,26]])})));return function(e,t){return n.apply(this,arguments)}}()},Tn=function(e){return{type:On,showHide:e}},Ln=function(e){return{type:xn,theme:e}},Fn=function(e){if(!e||!e.length)return{};var t=e.substr(1).split(\"&\").map(u),n=window.location.href;return t.engine=n.substr(0,n.lastIndexOf(\"/\")+1),t.reduce((function(e,t){return e[t.key]=t.value,e}),{})}(window.location.search);\"undefined\"!==typeof Fn.autoplay&&(Fn.autoplay=\"true\"===Fn.autoplay),\"undefined\"!==typeof Fn.showFrameScrubber&&(Fn.showFrameScrubber=\"true\"===Fn.showFrameScrubber);var Nn=Object(c.b)((function(e){var t=e.game,n=e.settings;return{options:Object(o.a)(Object(o.a)({},n),Fn),ruleset:t.ruleset,grid:t.grid,gameNotFound:t.gameNotFound,paused:t.paused,currentFrame:t.currentFrame,frames:t.frames,highlightedSnake:t.highlightedSnake,theme:Fn.boardTheme||n.theme,hasAllFrames:!!t.endEvent}}),(function(e){return{setGameOptions:function(t){return e({type:on,gameOptions:t})},fetchFrames:function(){return e(function(){var e=Object(ke.a)(we.a.mark((function e(t,n){var r,a,i,c,s,o;return we.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n().game.gameOptions,a=r.autoplay,i=r.engine,c=r.game,s=r.turn,t({type:pn}),e.prev=2,e.next=5,et(i,c,(function(e,r,i){if(\"frame\"===r){var c=i;if(c.Turn=c.Turn||0,t(wn(e,c)),0===c.Turn){var s=n().game.frames[0];t(Sn(s)),a&&(t(En()),t(Cn(s)))}}else if(\"game_end\"===r){var o=n().game.frames.length,u=n().game.frames[o-1];u.gameOver=!0,t(kn(e,i,u))}}));case 5:e.next=11;break;case 7:return e.prev=7,e.t0=e.catch(2),console.log(e.t0),e.abrupt(\"return\",t({type:dn}));case 11:s&&s<=n().game.frames.length&&(o=n().game.frames[s],t(Sn(o)));case 12:case\"end\":return e.stop()}}),e,null,[[2,7]])})));return function(t,n){return e.apply(this,arguments)}}())},toggleTheme:function(t){return e((n=t,function(){var e=Object(ke.a)(we.a.mark((function e(t){return we.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t({type:un,theme:n});case 1:case\"end\":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));var n},reloadGame:function(){return e(function(){var e=Object(ke.a)(we.a.mark((function e(t,n){var r,a,i;return we.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=n().game,a=r.frames,r.paused&&(i=nt(a,0),t(Sn(i)));case 2:case\"end\":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}())},toggleGamePause:function(t){return e(function(){var e=Object(ke.a)(we.a.mark((function e(t,n){var r,a;return we.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=n().game,a=r.currentFrame,r.paused?(t(En()),t(Cn(a))):t(_n());case 2:case\"end\":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}())},pauseGame:function(){return e(function(){var e=Object(ke.a)(we.a.mark((function e(t,n){return we.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n().game.paused||t(_n());case 2:case\"end\":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}())},stepForwardFrame:function(){return e(function(){var e=Object(ke.a)(we.a.mark((function e(t,n){var r,a,i,c,s;return we.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=n().game,a=r.currentFrame,i=r.frames,c=a.turn+1,(s=nt(i,c))&&t(Sn(s));case 4:case\"end\":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}())},stepBackwardFrame:function(){return e(function(){var e=Object(ke.a)(we.a.mark((function e(t,n){var r,a,i,c,s;return we.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=n().game,a=r.currentFrame,i=r.frames,c=a.turn-1,(s=nt(i,c))&&t(Sn(s));case 4:case\"end\":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}())},stepToTurn:function(t){return e((n=t,function(){var e=Object(ke.a)(we.a.mark((function e(t,r){var a,i;return we.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=r().game.frames,(i=nt(a,n))&&t(Sn(i));case 3:case\"end\":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()));var n},highlightSnake:function(t){return e(function(e){return{type:jn,snakeId:e}}(t))},togglePlayButtons:function(t){return e(Tn(t))}}}))(sn),An=n(26);function Rn(e){var t;try{t=window[e];var n=\"__storage_test__\";return t.setItem(n,n),t.removeItem(n),!0}catch(r){return(r instanceof DOMException&&22===r.code||1014===r.code||\"QuotaExceededError\"===r.name||\"NS_ERROR_DOM_QUOTA_REACHED\"===r.name)&&t&&0!==t.length}}function Hn(e){if(Rn(\"localStorage\"))return window.localStorage.getItem(e)}function Pn(e,t){Rn(\"localStorage\")&&window.localStorage.setItem(e,t)}var Mn=Object(An.b)({name:\"settings\",initialState:yn,reducers:{frameRateUpdated:function(e,t){e.frameRate=t.payload},themeSelected:function(e,t){e.theme=t.payload},autoPlayUpdated:function(e,t){e.autoplay=t.payload},showFrameScrubberUpdated:function(e,t){e.showFrameScrubber=t.payload},showCoordinateLabelsUpdated:function(e,t){e.showCoordinateLabels=t.payload}}}),zn=Mn.actions,In=zn.frameRateUpdated,Gn=zn.themeSelected,Wn=zn.autoPlayUpdated,Bn=zn.showFrameScrubberUpdated,Dn=zn.showCoordinateLabelsUpdated,Xn=function(e){return e.settings.frameRate},Yn=function(e){return e.settings.theme},Vn=function(e){return e.settings.autoplay},Un=function(e){return e.settings.showFrameScrubber},Kn=function(e){return e.settings.showCoordinateLabels};var qn=Mn.reducer,Qn=n(37),Jn=n.n(Qn),Zn={min:1,max:5},$n={min:6,max:12};function er(e){var t=2;return e<=Zn.max?t=1:e>$n.max&&(t=3),t}var tr=function(e){return Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)(\"input\",{type:\"range\",min:1,max:3,value:er(e.default),onChange:function(t){return function(e,t){var n=20,r=e.target.valueAsNumber||e.target.value;r<=1?n=3:r<=2&&(n=6),t.call(this,n)}(t,e.onChange)}}),Object(v.jsxs)(\"div\",{className:Jn.a.labels,children:[Object(v.jsx)(\"span\",{children:\"Slow\"}),Object(v.jsx)(\"span\",{children:\"Medium\"}),Object(v.jsx)(\"span\",{children:\"Fast\"})]})]})},nr=n(12),rr=n.n(nr),ar=function(){var e=Object(s.f)(),t=Object(c.d)(Yn),n=Object(c.d)(Xn),a=Object(c.d)(Vn),i=Object(c.d)(Un),o=Object(c.d)(Kn),u=Object(c.c)();return Object(r.useEffect)((function(){u(Tn(\"hide\")),u(_n())})),Object(v.jsx)(\"main\",{children:Object(v.jsxs)(\"section\",{children:[Object(v.jsx)(\"h2\",{children:\"Playback Settings\"}),Object(v.jsxs)(\"fieldset\",{children:[Object(v.jsx)(\"legend\",{children:\"Playback Speed\"}),Object(v.jsx)(\"div\",{className:rr.a.info,children:\"Adjust the playback speed of your games\"}),Object(v.jsx)(\"div\",{className:rr.a.inputContainer,children:Object(v.jsx)(tr,{default:n,onChange:function(e){u(In(e))}})})]}),Object(v.jsxs)(\"fieldset\",{children:[Object(v.jsx)(\"legend\",{children:\"Theme\"}),Object(v.jsx)(\"div\",{className:rr.a.info,children:\"Change your game theme colors\"}),Object(v.jsxs)(\"div\",{className:rr.a.inputContainer&&rr.a.row,children:[Object(v.jsxs)(\"label\",{children:[Object(v.jsx)(\"input\",{type:\"radio\",value:\"light\",name:\"theme\",checked:\"light\"===t,onChange:function(e){return u(Gn(e.target.value))&&u(Ln(e.target.value))}}),Object(v.jsx)(\"span\",{className:rr.a.radio}),\"Light\"]}),Object(v.jsxs)(\"label\",{children:[Object(v.jsx)(\"input\",{type:\"radio\",value:\"dark\",name:\"theme\",checked:\"dark\"===t,onChange:function(e){return u(Gn(e.target.value))&&u(Ln(e.target.value))}}),Object(v.jsx)(\"span\",{className:rr.a.radio}),\"Projector\"]})]})]}),Object(v.jsxs)(\"fieldset\",{children:[Object(v.jsx)(\"legend\",{children:\"Autoplay\"}),Object(v.jsx)(\"div\",{className:rr.a.info,children:\"All games will start playing as soon as the game loads\"}),Object(v.jsx)(\"div\",{className:rr.a.inputContainer,children:Object(v.jsxs)(\"label\",{children:[Object(v.jsx)(\"input\",{type:\"checkbox\",name:\"autoplay\",checked:a,onChange:function(e){return u(Wn(e.target.checked))}}),Object(v.jsx)(\"span\",{className:rr.a.checkmark}),a?\"On\":\"Off\"]})})]}),Object(v.jsxs)(\"fieldset\",{children:[Object(v.jsx)(\"legend\",{children:\"Frame Scrubber [EXPERIMENTAL]\"}),Object(v.jsxs)(\"div\",{className:rr.a.info,children:[\"Display progress bar that shows current frame and allows quickly jumping to specific frames. \\xa0\",Object(v.jsx)(\"a\",{href:\"https://github.com/BattlesnakeOfficial/feedback/discussions/171\",target:\"_blank\",rel:\"noreferrer\",children:\"Let us know what you think!\"})]}),Object(v.jsx)(\"div\",{className:rr.a.inputContainer,children:Object(v.jsxs)(\"label\",{children:[Object(v.jsx)(\"input\",{type:\"checkbox\",name:\"showFrameScrubber\",checked:i,onChange:function(e){return u(Bn(e.target.checked))}}),Object(v.jsx)(\"span\",{className:rr.a.checkmark}),i?\"On\":\"Off\"]})})]}),Object(v.jsxs)(\"fieldset\",{children:[Object(v.jsx)(\"legend\",{children:\"Show Coordinate Labels [EXPERIMENTAL]\"}),Object(v.jsxs)(\"div\",{className:rr.a.info,children:[\"Adds coordinate labels to the game board. \\xa0 These go from 0 to the width/height of the board to make it easier to debug games\",Object(v.jsx)(\"a\",{href:\"https://github.com/orgs/BattlesnakeOfficial/discussions/231\",target:\"_blank\",rel:\"noreferrer\",children:\"Let us know what you think!\"})]}),Object(v.jsx)(\"div\",{className:rr.a.inputContainer,children:Object(v.jsxs)(\"label\",{children:[Object(v.jsx)(\"input\",{type:\"checkbox\",name:\"showCoordinateLabels\",checked:o,onChange:function(e){return u(Dn(e.target.checked))}}),Object(v.jsx)(\"span\",{className:rr.a.checkmark}),o?\"On\":\"Off\"]})})]}),Object(v.jsx)(\"fieldset\",{className:rr.a.centered,children:Object(v.jsx)(\"button\",{onClick:function(){return e.goBack()},children:\"Return to Game\"})})]})})},ir=(n(53),function(){return Object(v.jsxs)(s.c,{children:[Object(v.jsx)(s.a,{path:\"/settings\",component:ar}),Object(v.jsx)(s.a,{component:Nn})]})}),cr=n(38),sr=n.n(cr),or=\"head\",ur=\"tail\",lr=\"body\";function dr(e){!function(e){e.Turn=e.Turn||0;var t,n=Object(xe.a)(e.Snakes);try{for(n.s();!(t=n.n()).done;){var r,a=t.value,i=Object(xe.a)(a.Body);try{for(i.s();!(r=i.n()).done;){var c=r.value;c.X=c.X||0,c.Y=c.Y||0}}catch(l){i.e(l)}finally{i.f()}}}catch(l){n.e(l)}finally{n.f()}var s,o=Object(xe.a)(e.Food);try{for(o.s();!(s=o.n()).done;){var u=s.value;u.X=u.X||0,u.Y=u.Y||0}}catch(l){o.e(l)}finally{o.f()}}(e);var t=function(e){if(e){var t=e.map(pr);return t.forEach((function(e,n){if(e.death&&e.death.eliminatedBy&&e.death.eliminatedBy.length>0)for(var r in t)if(t[r]._id===e.death.eliminatedBy){t[n].death.eliminatedBy=t[r].name;break}})),t}}(e.Snakes);return{turn:e.Turn,snakes:t,food:mr(e.Food),hazards:mr(e.Hazards)}}function hr(e){var t=sr()(e);for(var n in t.snakes){var r=t.snakes[n];r.id=r._id,delete r._id,delete r.headSvg,delete r.tailSvg}return t}function pr(e){var t=e.Body.filter((function(t,n){return br(e,n)}));return{body:e.Body.map((function(t,n){return function(e,t){var n=e.Body[t],r=function(e,t){if(0===t)return or;if(t===e.Body.length-1)return ur;return lr}(e,t),a=gr(n),i=a.x,c=a.y,s=function(e,t,n,r){var a;if(\"head\"===e)a=jr(t.Body[1],t.Body[0]);else{var i;do{i=t.Body[Math.max(r-1,0)],--r}while(r>0&&i.X===n.X&&i.Y===n.Y);a=jr(n,i)}return a}(r,e,n,t),o=!br(e,t)||void 0;return{direction:s,type:r,isOverlapped:o,x:i,y:c}}(e,n)})),color:e.Color,_id:e.ID,name:e.Name,effectiveSpace:t.length,health:e.Health,latency:e.Latency,error:e.Error,timing:e.TimingMicros,isDead:!!e.Death,death:fr(e.Death),head:e.HeadType&&e.HeadType.toLowerCase(),tail:e.TailType&&e.TailType.toLowerCase(),headSvg:e.HeadSvg,tailSvg:e.TailSvg,squad:e.Squad,author:e.Author,shout:e.Shout}}function fr(e){if(e)return{cause:e.Cause,turn:e.Turn||0,eliminatedBy:e.EliminatedBy}}function br(e,t){var n=e.Body.length-1,r=e.Body[0],a=e.Body[n],i=e.Body[t];if(0===t)return!0;if(t===n)return!(r.X===i.X&&r.Y===i.Y);var c=e.Body[t-1];return!(a.X===i.X&&a.Y===i.Y)&&!(r.X===i.X&&r.Y===i.Y)&&!(c&&c.X===i.X&&c.Y===i.Y)}function mr(e){if(e)return e.map(gr)}function gr(e){return{x:e.X,y:e.Y}}function jr(e,t){if(e&&t){if(e.X+1===t.X)return\"right\";if(e.X-1===t.X)return\"left\";if(e.Y+1===t.Y)return\"up\";if(e.Y-1===t.Y)return\"down\";if(e.X>t.X&&0===t.X)return\"right\";if(e.X<t.X&&0===e.X)return\"left\";if(e.Y>t.Y&&0===t.Y)return\"up\";if(e.Y<t.Y&&0===e.Y)return\"down\"}return\"right\"}var vr={options:null,grid:[],frames:[],endEvent:{},paused:!0,gameNotFound:!1,highlightedSnake:null,theme:W};function Or(e){if(window.parent)try{window.parent.postMessage(e,\"*\")}catch(t){console.error(t)}}var xr=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:vr,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case un:return Object(o.a)(Object(o.a)({},e),{},{theme:t.theme});case on:return t.gameOptions.turn=parseInt(t.gameOptions.turn)||0,t.gameOptions.loop=t.gameOptions.loop&&\"true\"===t.gameOptions.loop,Object(o.a)(Object(o.a)({},e),{},{gameOptions:t.gameOptions});case dn:return Object(o.a)(Object(o.a)({},e),{},{gameNotFound:!0});case mn:return Object(o.a)(Object(o.a)({},e),{},{paused:!0});case ln:return Or({action:t.type,endEvent:t.endEvent}),Object(o.a)(Object(o.a)({},e),{},{paused:!0});case gn:return Object(o.a)(Object(o.a)({},e),{},{paused:!1});case bn:return Or({action:t.type,frame:hr(t.frame)}),Object(o.a)(Object(o.a)({},e),{},{currentFrame:t.frame});case fn:var n=dr(t.frame);return Object(o.a)(Object(o.a)({},e),{},{ruleset:t.game.Game.Ruleset,grid:{height:t.game.Game.Height,width:t.game.Game.Width},frames:[].concat(Object(V.a)(e.frames),[n])});case vn:return Object(o.a)(Object(o.a)({},e),{},{endEvent:t.endEvent,frames:[].concat(Object(V.a)(e.frames),[t.frame])});case pn:case hn:return Object(o.a)({},e);case jn:return Or({action:t.type,id:t.snakeId,name:t.snakeId?e.currentFrame.snakes.find((function(e){return e._id===t.snakeId})).name:null}),Object(o.a)(Object(o.a)({},e),{},{highlightedSnake:t.snakeId});case On:return Or({action:t.type,value:t.showHide}),Object(o.a)({},e);case xn:return Or({action:t.type,value:t.theme}),Object(o.a)({},e);default:return Object(o.a)({},e)}};var yr=Object(An.a)({reducer:{game:xr,settings:qn},middleware:function(e){return e({immutableCheck:!1,serializableCheck:!1})},preloadedState:function(){var e={game:{options:null,grid:[],frames:[],endEvent:null,paused:!0,gameNotFound:!1,highlightedSnake:null,theme:W},settings:yn};return Rn(\"localStorage\")?(e.settings=function(){var e=Hn(\"autoplay\"),t=Hn(\"showFrameScrubber\"),n=Hn(\"showCoordinateLabels\");return e=\"undefined\"===typeof e?yn.autoplay:\"true\"===e,t=\"undefined\"===typeof t?yn.showFrameScrubber:\"true\"===t,n=\"undefined\"===typeof n?yn.showCoordinateLabels:\"true\"===n,{frameRate:Number(Hn(\"frameRate\"))||6,theme:Hn(\"theme\")||yn.theme,showFrameScrubber:t,autoplay:e,showCoordinateLabels:n}}(),e.settings.persistAvailable=!0):console.info(\"Please enable localStorage for an improved experience that allows you to persist board settings.\"),e}()});yr.subscribe((function(){var e;(e=yr.getState()).settings.frameRate!==Hn(\"frameRate\")&&Pn(\"frameRate\",e.settings.frameRate),e.settings.theme!==Hn(\"theme\")&&Pn(\"theme\",e.settings.theme),e.settings.autoplay!==Hn(\"autoplay\")&&Pn(\"autoplay\",e.settings.autoplay),e.settings.showFrameScrubber!==Hn(\"showFrameScrubber\")&&Pn(\"showFrameScrubber\",e.settings.showFrameScrubber),e.settings.showCoordinateLabels!==Hn(\"showCoordinateLabels\")&&Pn(\"showCoordinateLabels\",e.settings.showCoordinateLabels)}));var wr=yr,kr=n(25);Object(i.render)(Object(v.jsx)(c.a,{store:wr,children:Object(v.jsx)(kr.a,{children:Object(v.jsx)(ir,{})})}),document.getElementById(\"root\"))}},[[55,1,2]]]);","name":"static/js/main.025cfca5.chunk.js","map":{"version":3,"sources":["static/js/main.025cfca5.chunk.js"],"names":["this","push","module","exports","__webpack_require__","info","inputContainer","row","centered","checkmark","radio","__WEBPACK_AMD_DEFINE_FACTORY__","__WEBPACK_AMD_DEFINE_ARRAY__","__WEBPACK_AMD_DEFINE_RESULT__","undefined","window","ReconnectingWebSocket","prototype","onopen","event","onclose","onconnecting","onmessage","onerror","debugAll","CONNECTING","WebSocket","OPEN","CLOSING","CLOSED","url","protocols","options","settings","debug","automaticOpen","reconnectInterval","maxReconnectInterval","reconnectDecay","timeoutInterval","maxReconnectAttempts","binaryType","key","reconnectAttempts","readyState","protocol","ws","self","forcedClose","timedOut","eventTarget","document","createElement","generateEvent","s","args","evt","createEvent","initCustomEvent","addEventListener","bind","removeEventListener","dispatchEvent","open","reconnectAttempt","console","localWs","timeout","setTimeout","close","clearTimeout","e","isReconnect","code","reason","wasClean","Math","pow","data","send","refresh","apply","game","labels","__webpack_exports__","r","react","react_default","n","react_dom","es","react_router","objectSpread2","parseArg","a","parts","split","value","decodeURIComponent","makeQueryString","query","sep","result","concat","httpToWsProtocol","mappings","http","https","from","to","substr","length","Error","join","joinPair","b","cleanA","replace","cleanB","_len","arguments","Array","_key","reduce","current","next","classCallCheck","createClass","inherits","createSuper","taggedTemplateLiteral","emotion_styled_browser_esm","jsx_runtime","blank_state","_React$Component","Object","BlankState","_super","children","Component","colors","breakpoints","themes","LoadingIndicatorWrapper","display","alignItems","justifyContent","height","width","loading_indicator","LoadingIndicator","className","style","color","NotFoundWrapper","game_not_found","GameNotFound","toConsumableArray","CELL_SIZE","FOOD_SIZE","toFixed","END_OVERLAP","DIRECTIONS_CW","GRID_ROWS","toGridSpaceX","slot","toGridSpaceY","getPartWidth","part","extraWidth","direction","getPartHeight","extraHeight","getPartXOffset","xBias","x","getPartYOffset","yBias","y","getCornerPartXOffset","type","getCornerPartYOffset","getHeadFillerXOffset","getHeadFillerYOffset","getTailFillerXOffset","getTailFillerYOffset","getFillerWidth","CELL_SPACING","getFillerHeight","getOpacity","snake","highlightedSnake","isDead","_id","getPartOpacity","shadeForOverlap","isOverlapped","getPartColor","range","size","i","checkIfCornerPart","partIndex","body","d1","d2","behind","abs","indexOf","isOverlappedByTail","head","grid","Grid","snakeIndex","renderHeadPart","renderTailPart","renderCornerPart","renderMiddlePart","getHeadXOffset","getHeadYOffset","box","headSvg","viewBox","baseVal","transform","halfX","halfY","getHeadTransform","viewBoxStr","opacity","fill","shapeRendering","dangerouslySetInnerHTML","__html","innerHTML","effectiveSpace","cornerType","determineCornerType","d","getTailXOffset","getTailYOffset","tailSvg","getTailTransform","col","label","fontSize","_this","props","rows","map","_","renderLabel","columns","_this2","snakes","unsortedSnakes","food","hazards","sortedSnakes","sort","aOrder","bOrder","gridCellsWithSnakeParts","j","_i","viewBoxWidth","viewBoxHeight","hazardOpacity","parseFloat","overflow","showCoordinateLabels","maxWidth","maxHeight","renderLabels","theme","reverse","renderPart","o","hazardIndex","fillOpacity","f","foodIndex","foodImage","href","cx","cy","renderGrid","BOARD_SIZE","board","Board","boardSize","turn","createForOfIteratorHelper","regenerator","regenerator_default","asyncToGenerator","reconnecting_websocket","reconnecting_websocket_default","streamAll","receive","turns","done","Promise","resolve","reject","obj","JSON","parse","eventData","Data","Turn","loaded","doesntExist","loadSvgs","paths","all","requireSvg","getSvg","path","_x","_fetchSvg","fetchSvg","mark","_callee","response","svgText","svg","wrap","_context","prev","fetch","sent","text","makeDom","abrupt","stop","wrapper","trim","firstChild","svgExists","_x2","_svgExists","_callee2","exists","_context2","startsWith","t0","warn","DEFAULT_SNAKE_HEAD","DEFAULT_SNAKE_TAIL","_get","status","json","then","responseJson","error","delay","millis","getReadableCauseOfDeath","death","cause","eliminatedBy","getAllSvgs","HeadType","TailType","unique","Set","assignHeadAndTailUrls","_x3","_assignHeadAndTailUrls","_iterator","_step","getSnakeHeadSvgUrl","getSnakeTailSvgUrl","finish","setHeadAndTailSvgs","_x4","_setHeadAndTailSvgs","_callee3","_iterator2","_step2","_context3","HeadSvg","TailSvg","err","isIllegalSvgPath","nameOrPath","svgUrlFromName","base","relative","prepareFrame","_x5","_prepareFrame","_callee4","frame","_context4","Snakes","fetchGameInfo","baseUrl","gameId","get","streamAllEvents","_x6","_x7","_x8","_streamAllEvents","_callee6","receiveEvent","chain","onEngineEvent","wsUrl","_context6","engineEvent","Type","_callee5","_context5","location","lastIndexOf","getFrameByTurn","frames","filter","slicedToArray","errorColor","scoreboard_error_message_ErrorMessage","message","_props$error$toString","toString","_props$error$toString2","cursor","margin","padding","_templateObject","scoreboard_templateObject","_templateObject2","mediaControls_templateObject","mediaControls_templateObject2","_templateObject3","_templateObject4","logo_templateObject","logo_templateObject2","game_templateObject","game_templateObject2","game_templateObject3","game_templateObject4","_templateObject5","_templateObject6","_templateObject7","status_indicator_StatusIndicator","_ref","errorMessage","_errorMessage$toStrin","AvatarWrapper","isEliminated","Name","textShadow","Length","_ref2","marginLeft","AuthorWrapper","fontWeight","flexDirection","Author","_ref3","flexGrow","Latency","_ref4","latency","HealthBarWrapper","marginTop","background","borderRadius","HealthBar","_ref5","backgroundColor","CauseOfDeath","_ref6","lineHeight","avatar","Avatar","call","state","showError","name","author","health","highlighted","orderSnakes","aliveSnakes","aLower","toLowerCase","bLower","deadSnakes","Wrapper","hide","scoreboard_AvatarWrapper","scoreboard","Scoreboard","toggleHighlight","getSnakeToHighlight","highlightSnake","setState","onClick","react_keyboard_event_handler","react_keyboard_event_handler_default","MediaControlsWrapper","KeyboardShortcutsWrapper","position","ShortcutsPane","ButtonWrapper","Button","Scrubber","mediaControls_MediaControls","MediaControls","paneHidden","handleParentKeyboardEvent","handleKeyEvent","keyboardCodeMap","handleReload","reloadGame","handlePlayPause","toggleGamePause","handleBackward","stepBackwardFrame","handleForward","stepForwardFrame","handleScrubMouseDown","pauseGame","handleScrubbing","stepToTurn","parseInt","target","handleSettings","persistAvailable","history","handleShortcutPaneShowToggle","preventDefault","KeyR","ArrowLeft","ArrowRight","Space","Settings","renderControls","hasAllFrames","currentFrame","max","maxTurn","showFrameScrubber","min","onMouseDown","onChange","disabled","_this$props","hideControls","paused","settingsInfo","renderScrubbing","title","handleKeys","values","onKeyEvent","mediaControls","SVGWrapper","logo","id","x1","y1","x2","y2","gradientTransform","gradientUnits","offset","stopColor","xlinkHref","GamePage_module","GamePage_module_default","BoardTitle","textAlign","textTransform","HeaderWrapper","LogoWrapper","TurnCount","TurnCountValue","BoardWrapper","hideScoreboard","ScoreboardWrapper","Ruleset","components_game","Game","togglePlayButtons","toggleTheme","invalidArgs","hideLogo","setGameOptions","fetchFrames","gameNotFound","renderGame","hideMediaControls","ruleset","SET_GAME_OPTIONS","SET_THEME","GAME_OVER","GAME_NOT_FOUND","FETCH_FRAMES","REQUEST_FRAMES","RECEIVE_FRAME","SET_CURRENT_FRAME","PAUSE_GAME","RESUME_GAME","HIGHLIGHT_SNAKE","RECEIVE_EVENT_END","TOGGLE_SETTINGS_VIEW","THEME_CHANGED","initialSettings","frameRate","autoplay","actions_receiveFrame","actions_receiveEventEnd","endEvent","actions_setCurrentFrame","actions_pauseGame","actions_resumeGame","actions_playFromFrame","playFromFrame","dispatch","getState","frameIndex","slicedFrames","ceiledFps","delayMillis","_frame4","lastFrame","_frame3","gameOptions","slice","ceil","gameOver","loop","actions_togglePlayButtons","showHide","actions_themeChanged","GamePage_options","q","arg","parseQueryString","search","GamePage","gameState","boardTheme","_getState$game$gameOp","engineUrl","engine","eventType","_frame","numFrames","_frame2","log","themeToSet","_x11","_getState$game","_getState$game2","_x9","_x10","_ref7","_callee7","_getState$game3","nextFrame","stepToFrame","_context7","_x12","_x13","_ref8","_callee8","_getState$game4","prevFrame","_context8","_x14","_x15","_ref9","_callee9","_context9","_x16","_x17","snakeId","actions_highlightSnake","redux_toolkit_esm","storageAvailable","storage","setItem","removeItem","DOMException","getLocalSetting","localStorage","getItem","setLocalSetting","settingsSlice","initialState","reducers","frameRateUpdated","action","payload","themeSelected","autoPlayUpdated","showFrameScrubberUpdated","showCoordinateLabelsUpdated","_settingsSlice$action","actions","currentFrameRate","currentTheme","currentAutoplay","currentShowFrameScrubber","currentShowCoordinateLabels","settings_slice","PlaybackSpeed_module","PlaybackSpeed_module_default","speedRanges","defaultValueHandler","defaultValue","playback_PlaybackSpeed","default","changeHandler","fps","sliderValue","valueAsNumber","valueChanged","SettingsPage_module","SettingsPage_module_default","settings_SettingsPage","playbackSpeed","checked","rel","goBack","src_App_0","component","lodash_clonedeep","lodash_clonedeep_default","TYPE_HEAD","TYPE_TAIL","TYPE_BODY","formatFrame","_step3","_iterator3","Body","X","Y","Food","cleanFrame","newSnakes","formatSnake","forEach","index","formatSnakes","formatPositions","Hazards","sanitizeFrame","sanitizedFrame","renderedParts","shouldRenderPart","getType","_formatPosition","formatPosition","getDirection","prevPart","formatDirection","formatSnakePart","Color","ID","Health","timing","TimingMicros","Death","formatDeath","tail","squad","Squad","shout","Shout","Cause","EliminatedBy","tailIndex","currPart","nextPart","positions","pos","reducers_initialState","windowPostMessage","parent","postMessage","src_reducers","Height","Width","find","store","reducer","middleware","getDefaultMiddleware","immutableCheck","serializableCheck","preloadedState","checkAutoplay","checkShowFrameScrubber","Number","rehydrateLocalSettings","rehydrateInitialState","subscribe","app_store","react_router_dom","getElementById"],"mappings":"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"},"input":"(this[\"webpackJsonpbattlesnake-board\"] = this[\"webpackJsonpbattlesnake-board\"] || []).push([[0],{\n\n/***/ 12:\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\nmodule.exports = {\"info\":\"SettingsPage_info__hnKuB\",\"inputContainer\":\"SettingsPage_inputContainer__OMy_9\",\"row\":\"SettingsPage_row__FjkX8\",\"centered\":\"SettingsPage_centered__2a9Zh\",\"checkmark\":\"SettingsPage_checkmark__1GbZH\",\"radio\":\"SettingsPage_radio__2oWfC\"};\n\n/***/ }),\n\n/***/ 33:\n/***/ (function(module, exports, __webpack_require__) {\n\nvar __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;/* eslint-disable */ // MIT License:\n//\n// Copyright (c) 2010-2012, Joe Walnes\n//\n// Permission is hereby granted, free of charge, to any person obtaining a copy\n// of this software and associated documentation files (the \"Software\"), to deal\n// in the Software without restriction, including without limitation the rights\n// to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n// copies of the Software, and to permit persons to whom the Software is\n// furnished to do so, subject to the following conditions:\n//\n// The above copyright notice and this permission notice shall be included in\n// all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n// IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n// FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n// AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n// LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n// OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n// THE SOFTWARE.\n/**\n * This behaves like a WebSocket in every way, except if it fails to connect,\n * or it gets disconnected, it will repeatedly poll until it successfully connects\n * again.\n *\n * It is API compatible, so when you have:\n *   ws = new WebSocket('ws://....');\n * you can replace with:\n *   ws = new ReconnectingWebSocket('ws://....');\n *\n * The event stream will typically look like:\n *  onconnecting\n *  onopen\n *  onmessage\n *  onmessage\n *  onclose // lost connection\n *  onconnecting\n *  onopen  // sometime later...\n *  onmessage\n *  onmessage\n *  etc...\n *\n * It is API compatible with the standard WebSocket API, apart from the following members:\n *\n * - `bufferedAmount`\n * - `extensions`\n * - `binaryType`\n *\n * Latest version: https://github.com/joewalnes/reconnecting-websocket/\n * - Joe Walnes\n *\n * Syntax\n * ======\n * var socket = new ReconnectingWebSocket(url, protocols, options);\n *\n * Parameters\n * ==========\n * url - The url you are connecting to.\n * protocols - Optional string or array of protocols.\n * options - See below\n *\n * Options\n * =======\n * Options can either be passed upon instantiation or set after instantiation:\n *\n * var socket = new ReconnectingWebSocket(url, null, { debug: true, reconnectInterval: 4000 });\n *\n * or\n *\n * var socket = new ReconnectingWebSocket(url);\n * socket.debug = true;\n * socket.reconnectInterval = 4000;\n *\n * debug\n * - Whether this instance should log debug messages. Accepts true or false. Default: false.\n *\n * automaticOpen\n * - Whether or not the websocket should attempt to connect immediately upon instantiation. The socket can be manually opened or closed at any time using ws.open() and ws.close().\n *\n * reconnectInterval\n * - The number of milliseconds to delay before attempting to reconnect. Accepts integer. Default: 1000.\n *\n * maxReconnectInterval\n * - The maximum number of milliseconds to delay a reconnection attempt. Accepts integer. Default: 30000.\n *\n * reconnectDecay\n * - The rate of increase of the reconnect delay. Allows reconnect attempts to back off when problems persist. Accepts integer or float. Default: 1.5.\n *\n * timeoutInterval\n * - The maximum time in milliseconds to wait for a connection to succeed before closing and retrying. Accepts integer. Default: 2000.\n *\n */(function(global,factory){if(true){!(__WEBPACK_AMD_DEFINE_ARRAY__ = [], __WEBPACK_AMD_DEFINE_FACTORY__ = (factory),\n\t\t\t\t__WEBPACK_AMD_DEFINE_RESULT__ = (typeof __WEBPACK_AMD_DEFINE_FACTORY__ === 'function' ?\n\t\t\t\t(__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__)) : __WEBPACK_AMD_DEFINE_FACTORY__),\n\t\t\t\t__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));}else {}})(this,function(){if(!(\"WebSocket\"in window)){return;}function ReconnectingWebSocket(url,protocols,options){// Default settings\nvar settings={/** Whether this instance should log debug messages. */debug:false,/** Whether or not the websocket should attempt to connect immediately upon instantiation. */automaticOpen:true,/** The number of milliseconds to delay before attempting to reconnect. */reconnectInterval:1000,/** The maximum number of milliseconds to delay a reconnection attempt. */maxReconnectInterval:30000,/** The rate of increase of the reconnect delay. Allows reconnect attempts to back off when problems persist. */reconnectDecay:1.5,/** The maximum time in milliseconds to wait for a connection to succeed before closing and retrying. */timeoutInterval:2000,/** The maximum number of reconnection attempts to make. Unlimited if null. */maxReconnectAttempts:null,/** The binary type, possible values 'blob' or 'arraybuffer', default 'blob'. */binaryType:\"blob\"};if(!options){options={};}// Overwrite and define settings with options if they exist.\nfor(var key in settings){if(typeof options[key]!==\"undefined\"){this[key]=options[key];}else{this[key]=settings[key];}}// These should be treated as read-only properties\n/** The URL as resolved by the constructor. This is always an absolute URL. Read only. */this.url=url;/** The number of attempted reconnects since starting, or the last successful connection. Read only. */this.reconnectAttempts=0;/**\n     * The current state of the connection.\n     * Can be one of: WebSocket.CONNECTING, WebSocket.OPEN, WebSocket.CLOSING, WebSocket.CLOSED\n     * Read only.\n     */this.readyState=WebSocket.CONNECTING;/**\n     * A string indicating the name of the sub-protocol the server selected; this will be one of\n     * the strings specified in the protocols parameter when creating the WebSocket object.\n     * Read only.\n     */this.protocol=null;// Private state variables\nvar self=this;var ws;var forcedClose=false;var timedOut=false;var eventTarget=document.createElement(\"div\");// Wire up \"on*\" properties as event handlers\neventTarget.addEventListener(\"open\",function(event){self.onopen(event);});eventTarget.addEventListener(\"close\",function(event){self.onclose(event);});eventTarget.addEventListener(\"connecting\",function(event){self.onconnecting(event);});eventTarget.addEventListener(\"message\",function(event){self.onmessage(event);});eventTarget.addEventListener(\"error\",function(event){self.onerror(event);});// Expose the API required by EventTarget\nthis.addEventListener=eventTarget.addEventListener.bind(eventTarget);this.removeEventListener=eventTarget.removeEventListener.bind(eventTarget);this.dispatchEvent=eventTarget.dispatchEvent.bind(eventTarget);/**\n     * This function generates an event that is compatible with standard\n     * compliant browsers and IE9 - IE11\n     *\n     * This will prevent the error:\n     * Object doesn't support this action\n     *\n     * http://stackoverflow.com/questions/19345392/why-arent-my-parameters-getting-passed-through-to-a-dispatched-event/19345563#19345563\n     * @param s String The name that the event should use\n     * @param args Object an optional object that the event will use\n     */function generateEvent(s,args){var evt=document.createEvent(\"CustomEvent\");evt.initCustomEvent(s,false,false,args);return evt;}this.open=function(reconnectAttempt){ws=new WebSocket(self.url,protocols||[]);ws.binaryType=this.binaryType;if(reconnectAttempt){if(this.maxReconnectAttempts&&this.reconnectAttempts>this.maxReconnectAttempts){return;}}else{eventTarget.dispatchEvent(generateEvent(\"connecting\"));this.reconnectAttempts=0;}if(self.debug||ReconnectingWebSocket.debugAll){console.debug(\"ReconnectingWebSocket\",\"attempt-connect\",self.url);}var localWs=ws;var timeout=setTimeout(function(){if(self.debug||ReconnectingWebSocket.debugAll){console.debug(\"ReconnectingWebSocket\",\"connection-timeout\",self.url);}timedOut=true;localWs.close();timedOut=false;},self.timeoutInterval);ws.onopen=function(event){clearTimeout(timeout);if(self.debug||ReconnectingWebSocket.debugAll){console.debug(\"ReconnectingWebSocket\",\"onopen\",self.url);}self.protocol=ws.protocol;self.readyState=WebSocket.OPEN;self.reconnectAttempts=0;var e=generateEvent(\"open\");e.isReconnect=reconnectAttempt;reconnectAttempt=false;eventTarget.dispatchEvent(e);};ws.onclose=function(event){clearTimeout(timeout);ws=null;if(forcedClose){self.readyState=WebSocket.CLOSED;eventTarget.dispatchEvent(generateEvent(\"close\"));}else{self.readyState=WebSocket.CONNECTING;var e=generateEvent(\"connecting\");e.code=event.code;e.reason=event.reason;e.wasClean=event.wasClean;eventTarget.dispatchEvent(e);if(!reconnectAttempt&&!timedOut){if(self.debug||ReconnectingWebSocket.debugAll){console.debug(\"ReconnectingWebSocket\",\"onclose\",self.url);}eventTarget.dispatchEvent(generateEvent(\"close\"));}var timeout=self.reconnectInterval*Math.pow(self.reconnectDecay,self.reconnectAttempts);setTimeout(function(){self.reconnectAttempts++;self.open(true);},timeout>self.maxReconnectInterval?self.maxReconnectInterval:timeout);}};ws.onmessage=function(event){if(self.debug||ReconnectingWebSocket.debugAll){console.debug(\"ReconnectingWebSocket\",\"onmessage\",self.url,event.data);}var e=generateEvent(\"message\");e.data=event.data;eventTarget.dispatchEvent(e);};ws.onerror=function(event){if(self.debug||ReconnectingWebSocket.debugAll){console.debug(\"ReconnectingWebSocket\",\"onerror\",self.url,event);}eventTarget.dispatchEvent(generateEvent(\"error\"));};};// Whether or not to create a websocket upon instantiation\nif(this.automaticOpen==true){this.open(false);}/**\n     * Transmits data to the server over the WebSocket connection.\n     *\n     * @param data a text string, ArrayBuffer or Blob to send to the server.\n     */this.send=function(data){if(ws){if(self.debug||ReconnectingWebSocket.debugAll){console.debug(\"ReconnectingWebSocket\",\"send\",self.url,data);}return ws.send(data);}else{throw\"INVALID_STATE_ERR : Pausing to reconnect websocket\";}};/**\n     * Closes the WebSocket connection or connection attempt, if any.\n     * If the connection is already CLOSED, this method does nothing.\n     */this.close=function(code,reason){// Default CLOSE_NORMAL code\nif(typeof code==\"undefined\"){code=1000;}forcedClose=true;if(ws){ws.close(code,reason);}};/**\n     * Additional public API method to refresh the connection if still open (close, re-open).\n     * For example, if the app suspects bad data / missed heart beats, it can try to refresh.\n     */this.refresh=function(){if(ws){ws.close();}};}/**\n   * An event listener to be called when the WebSocket connection's readyState changes to OPEN;\n   * this indicates that the connection is ready to send and receive data.\n   */ReconnectingWebSocket.prototype.onopen=function(event){};/** An event listener to be called when the WebSocket connection's readyState changes to CLOSED. */ReconnectingWebSocket.prototype.onclose=function(event){};/** An event listener to be called when a connection begins being attempted. */ReconnectingWebSocket.prototype.onconnecting=function(event){};/** An event listener to be called when a message is received from the server. */ReconnectingWebSocket.prototype.onmessage=function(event){};/** An event listener to be called when an error occurs. */ReconnectingWebSocket.prototype.onerror=function(event){};/**\n   * Whether all instances of ReconnectingWebSocket should log debug messages.\n   * Setting this to true is the equivalent of setting all instances of ReconnectingWebSocket.debug to true.\n   */ReconnectingWebSocket.debugAll=false;ReconnectingWebSocket.CONNECTING=WebSocket.CONNECTING;ReconnectingWebSocket.OPEN=WebSocket.OPEN;ReconnectingWebSocket.CLOSING=WebSocket.CLOSING;ReconnectingWebSocket.CLOSED=WebSocket.CLOSED;return ReconnectingWebSocket;});\n\n/***/ }),\n\n/***/ 36:\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\nmodule.exports = {\"game\":\"GamePage_game__3S4Mj\"};\n\n/***/ }),\n\n/***/ 37:\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\nmodule.exports = {\"labels\":\"PlaybackSpeed_labels__3XxZA\"};\n\n/***/ }),\n\n/***/ 50:\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\n\n/***/ }),\n\n/***/ 51:\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\n\n/***/ }),\n\n/***/ 53:\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\n\n/***/ }),\n\n/***/ 55:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n// ESM COMPAT FLAG\n__webpack_require__.r(__webpack_exports__);\n\n// EXTERNAL MODULE: ./node_modules/react/index.js\nvar react = __webpack_require__(1);\nvar react_default = /*#__PURE__*/__webpack_require__.n(react);\n\n// EXTERNAL MODULE: ./node_modules/react-dom/index.js\nvar react_dom = __webpack_require__(23);\n\n// EXTERNAL MODULE: ./node_modules/react-redux/es/index.js + 25 modules\nvar es = __webpack_require__(16);\n\n// EXTERNAL MODULE: ./node_modules/react-router/esm/react-router.js + 4 modules\nvar react_router = __webpack_require__(5);\n\n// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/esm/objectSpread2.js + 1 modules\nvar objectSpread2 = __webpack_require__(4);\n\n// CONCATENATED MODULE: ./src/utils/url.js\n// Creates a dictionary of parameters based on the given query string. q should\n// look like \"?foo=bar&thing=blah\".\nfunction parseQueryString(q){if(!q||!q.length){return{};}// Array of key/value pairs\nvar args=q.substr(1).split(\"&\").map(parseArg);//?game_idでアクセス可能\nvar href=window.location.href;args[\"engine\"]=href.substr(0,href.lastIndexOf(\"/\")+1);// Convert to object\nreturn args.reduce(function(result,arg){result[arg.key]=arg.value;return result;},{});}// Converts “asdf=qwer” to { asdf: “qwer” } or “asdf” to { asdf: true }. The\n// latter example is to allow switch-like parameters like ?enableThing without\n// an equals sign.\nfunction parseArg(a){var parts=a.split(\"=\");var key=parts[0];var value=parts[1]===undefined?true:decodeURIComponent(parts[1]);return{key:key,value:value};}// Converts { a: \"aaa\", b: \"bbb\" } to \"?a=aaa&b=bbb\"\nfunction makeQueryString(query){if(!query){return\"\";}var sep=\"?\";var result=\"\";for(var key in query){var value=query[key];result+=\"\".concat(sep).concat(key,\"=\").concat(value);sep=\"&\";}return result;}// Converts http://foo to ws://foo or https://foo to wss://foo\nfunction httpToWsProtocol(url){var mappings={http:\"ws\",https:\"wss\"};for(var from in mappings){var to=mappings[from];if(url.substr(0,from.length+1)===from+\":\"){return to+url.substr(from.length);}}throw new Error(\"Invalid URL: \"+url);}// Joins path components and makes sure there is exactly one '/' separating\n// them.\nfunction join(){function joinPair(a,b){var cleanA=a.replace(/\\/+$/,\"\");var cleanB=b.replace(/^\\/+/,\"\");if(cleanA===\"\"){return cleanB;}if(cleanB===\"\"){return cleanA;}return\"\".concat(cleanA,\"/\").concat(cleanB);}for(var _len=arguments.length,parts=new Array(_len),_key=0;_key<_len;_key++){parts[_key]=arguments[_key];}return parts.reduce(function(current,next){return joinPair(current,next);},\"\");}\n// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/esm/classCallCheck.js\nvar classCallCheck = __webpack_require__(8);\n\n// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/esm/createClass.js\nvar createClass = __webpack_require__(9);\n\n// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/esm/inherits.js + 1 modules\nvar inherits = __webpack_require__(11);\n\n// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/esm/createSuper.js + 5 modules\nvar createSuper = __webpack_require__(10);\n\n// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral.js\nvar taggedTemplateLiteral = __webpack_require__(6);\n\n// EXTERNAL MODULE: ./node_modules/@emotion/styled/dist/emotion-styled.browser.esm.js + 15 modules\nvar emotion_styled_browser_esm = __webpack_require__(3);\n\n// EXTERNAL MODULE: ./node_modules/react/jsx-runtime.js\nvar jsx_runtime = __webpack_require__(0);\n\n// CONCATENATED MODULE: ./src/components/blank-state.jsx\nvar blank_state_BlankState=/*#__PURE__*/function(_React$Component){Object(inherits[\"a\" /* default */])(BlankState,_React$Component);var _super=Object(createSuper[\"a\" /* default */])(BlankState);function BlankState(){Object(classCallCheck[\"a\" /* default */])(this,BlankState);return _super.apply(this,arguments);}Object(createClass[\"a\" /* default */])(BlankState,[{key:\"render\",value:function render(){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{children:\"ERROR: Specify a gameid\"});}}]);return BlankState;}(react_default.a.Component);/* harmony default export */ var blank_state = (blank_state_BlankState);\n// CONCATENATED MODULE: ./src/theme/index.js\nvar colors={// Page\npageBackground:\"transparent\",// Grid\ngridDot:\"#6a208f\",gridCellBackground:\"#f1f1f1\",gridCellBackgroundDark:\"#D6D5EA\",food:\"#ff5c75\",hazard:\"#000000\",hazardOpacity:\"0.3\",overlapSnake:\"#AAAAAA\",// Scoreboard\nhealthBar:\"#0f0\",healthBarBackground:\"#fefefe\",healthBarOutline:\"#666\",healthBarDeathBackground:\"#f1f1f1\",healthBarDeathBackgroundDark:\"#59526b\",avatarHoverBorder:\"#888\",avatarHighlightedBorder:\"#6f42c1\",// Misc\nlightText:\"#efefef\",darkText:\"#424242\",// Colour names (from theme)\nblue:\"#007bff\",indigo:\"#6610f2\",purple:\"#6f42c1\",pink:\"#e83e8c\",red:\"#dc3545\",orange:\"#fd7e14\",yellow:\"#ffc107\",green:\"#28a745\",teal:\"#20c997\",cyan:\"#17a2b8\",white:\"#fff\",gray:\"#6c757d\",grayLight:\"#f1f1f1\",grayDark:\"#343a40\",primary:\"#007bff\",secondary:\"#6c757d\",success:\"#28a745\",info:\"#17a2b8\",warning:\"#ffc107\",danger:\"#dc3545\",light:\"#f8f9fa\",dark:\"#343a40\"};var breakpoints={sm:\"576px\",md:\"768px\",lg:\"992px\",xl:\"1200px\",xxl:\"1650px\"};var themes={// Themes\ndark:\"dark\",light:\"light\"};\n// CONCATENATED MODULE: ./src/components/loading-indicator.jsx\nvar LoadingIndicatorWrapper=Object(emotion_styled_browser_esm[\"a\" /* default */])(\"div\")({display:\"flex\",alignItems:\"center\",justifyContent:\"center\",height:\"100%\",width:\"100%\"});var loading_indicator_LoadingIndicator=/*#__PURE__*/function(_React$Component){Object(inherits[\"a\" /* default */])(LoadingIndicator,_React$Component);var _super=Object(createSuper[\"a\" /* default */])(LoadingIndicator);function LoadingIndicator(){Object(classCallCheck[\"a\" /* default */])(this,LoadingIndicator);return _super.apply(this,arguments);}Object(createClass[\"a\" /* default */])(LoadingIndicator,[{key:\"render\",value:function render(){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(LoadingIndicatorWrapper,{children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"la-ball-grid-beat la-dark la-2x\",style:{color:colors.food},children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{})]})});}}]);return LoadingIndicator;}(react_default.a.Component);/* harmony default export */ var loading_indicator = (loading_indicator_LoadingIndicator);\n// CONCATENATED MODULE: ./src/components/game-not-found.jsx\nvar NotFoundWrapper=Object(emotion_styled_browser_esm[\"a\" /* default */])(\"div\")({display:\"flex\",alignItems:\"center\",justifyContent:\"center\",height:\"100%\",width:\"100%\"});var game_not_found_GameNotFound=/*#__PURE__*/function(_React$Component){Object(inherits[\"a\" /* default */])(GameNotFound,_React$Component);var _super=Object(createSuper[\"a\" /* default */])(GameNotFound);function GameNotFound(){Object(classCallCheck[\"a\" /* default */])(this,GameNotFound);return _super.apply(this,arguments);}Object(createClass[\"a\" /* default */])(GameNotFound,[{key:\"render\",value:function render(){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(NotFoundWrapper,{children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h2\",{style:{color:colors.food},children:\"Game no longer available, sorry!\"})});}}]);return GameNotFound;}(react_default.a.Component);/* harmony default export */ var game_not_found = (game_not_found_GameNotFound);\n// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/esm/toConsumableArray.js + 3 modules\nvar toConsumableArray = __webpack_require__(22);\n\n// CONCATENATED MODULE: ./src/components/grid.jsx\nvar HIGHLIGHT_DIM=0.15;var DEAD_OPACITY=0.1;var OVERLAP_OPACITY=0.3;var SNAKE_ON_SNAKE_OPACITY=0.8;var FULL_OPACITY=1.0;var CELL_SIZE=20;var CELL_SPACING=4;var FOOD_SIZE=(CELL_SIZE/3.25).toFixed(2);var END_OVERLAP=0.1;var DIRECTIONS_CW=[\"up\",\"right\",\"down\",\"left\"];// let GRID_COLUMNS = 0;  Unused for now.\nvar GRID_ROWS=0;function toGridSpaceX(slot){return(CELL_SIZE+CELL_SPACING)*slot+CELL_SPACING;}function toGridSpaceY(slot){// Y-Axis in board space is inverted, positive goes up\nreturn(CELL_SIZE+CELL_SPACING)*(GRID_ROWS-1-slot)+CELL_SPACING;}function getPartWidth(part){var extraWidth=part.direction===\"left\"||part.direction===\"right\"?2*CELL_SPACING:0;return CELL_SIZE+extraWidth;}function getPartHeight(part){var extraHeight=part.direction===\"up\"||part.direction===\"down\"?2*CELL_SPACING:0;return CELL_SIZE+extraHeight;}function getPartXOffset(part){var xBias=part.direction===\"left\"||part.direction===\"right\"?-CELL_SPACING:0;return toGridSpaceX(part.x)+xBias;}function getPartYOffset(part){var yBias=part.direction===\"up\"||part.direction===\"down\"?-CELL_SPACING:0;return toGridSpaceY(part.y)+yBias;}function getCornerPartXOffset(part,type){return toGridSpaceX(part.x)-CELL_SPACING;}function getCornerPartYOffset(part,type){return toGridSpaceY(part.y)-CELL_SPACING;}function getTailXOffset(part){// apply slight offset to avoid ugly white line in between parts (works most of the time)\nswitch(part.direction){case\"left\":return toGridSpaceX(part.x)-END_OVERLAP;case\"right\":return toGridSpaceX(part.x)+END_OVERLAP;default:return toGridSpaceX(part.x);}}function getTailYOffset(part){// apply slight offset to avoid ugly white line in between parts (works most of the time)\nswitch(part.direction){case\"up\":return toGridSpaceY(part.y)-END_OVERLAP;case\"down\":return toGridSpaceY(part.y)+END_OVERLAP;default:return toGridSpaceY(part.y);}}function getHeadXOffset(part){// apply slight offset to avoid ugly white line in between parts (works most of the time)\nswitch(part.direction){case\"left\":return toGridSpaceX(part.x)+END_OVERLAP;case\"right\":return toGridSpaceX(part.x)-END_OVERLAP;default:return toGridSpaceX(part.x);}}function getHeadYOffset(part){// apply slight offset to avoid ugly white line in between parts (works most of the time)\nswitch(part.direction){case\"up\":return toGridSpaceY(part.y)+END_OVERLAP;case\"down\":return toGridSpaceY(part.y)-END_OVERLAP;default:return toGridSpaceY(part.y);}}function getHeadFillerXOffset(part){// apply slight offset to avoid ugly white line in between parts (works most of the time)\nswitch(part.direction){case\"left\":return toGridSpaceX(part.x+1)-CELL_SPACING-END_OVERLAP;case\"right\":return toGridSpaceX(part.x)-CELL_SPACING-END_OVERLAP;default:return toGridSpaceX(part.x);}}function getHeadFillerYOffset(part){// apply slight offset to avoid ugly white line in between parts (works most of the time)\nswitch(part.direction){case\"up\":return toGridSpaceY(part.y-1)-CELL_SPACING-END_OVERLAP;case\"down\":return toGridSpaceY(part.y)-CELL_SPACING-END_OVERLAP;default:return toGridSpaceY(part.y);}}function getTailFillerXOffset(part){// apply slight offset to avoid ugly white line in between parts (works most of the time)\nswitch(part.direction){case\"right\":return toGridSpaceX(part.x+1)-CELL_SPACING-END_OVERLAP;case\"left\":return toGridSpaceX(part.x)-CELL_SPACING-END_OVERLAP;default:return toGridSpaceX(part.x);}}function getTailFillerYOffset(part){// apply slight offset to avoid ugly white line in between parts (works most of the time)\nswitch(part.direction){case\"down\":return toGridSpaceY(part.y-1)-CELL_SPACING-END_OVERLAP;case\"up\":return toGridSpaceY(part.y)-CELL_SPACING-END_OVERLAP;default:return toGridSpaceY(part.y);}}function getFillerWidth(part){return part.direction===\"left\"||part.direction===\"right\"?CELL_SPACING+2*END_OVERLAP:CELL_SIZE;}function getFillerHeight(part){return part.direction===\"left\"||part.direction===\"right\"?CELL_SIZE:CELL_SPACING+2*END_OVERLAP;}function getOpacity(snake,highlightedSnake){if(!snake.isDead){if(highlightedSnake){return snake._id===highlightedSnake?1:HIGHLIGHT_DIM;}}else{if(highlightedSnake){return snake._id===highlightedSnake?1:0;}}return snake.isDead?DEAD_OPACITY:1;}function getPartOpacity(part){if(part.shadeForOverlap){return SNAKE_ON_SNAKE_OPACITY;}else if(part.isOverlapped){return OVERLAP_OPACITY;}else{return FULL_OPACITY;}}function getPartColor(snake,part){if(part.shadeForOverlap){return colors.overlapSnake;}else{return snake.color;}}function range(size){var result=[];for(var i=0;i<size;i++){result.push(i);}return result;}function sortAliveSnakesOnTop(snakes,highlightedSnake){return snakes.concat().sort(function(a,b){var aOrder=a.isDead?0:1;var bOrder=b.isDead?0:1;// always put the highlighted snake up top\nif(a._id===highlightedSnake)aOrder=2;if(b._id===highlightedSnake)bOrder=2;return aOrder-bOrder;});}function getHeadTransform(direction,viewBox){var halfX=viewBox.width/2;var halfY=viewBox.height/2;switch(direction){case\"left\":return\"scale(-1,1) translate(-100, 0)\";case\"up\":return\"rotate(-90 \".concat(halfX,\" \").concat(halfY,\")\");case\"down\":return\"rotate(90 \".concat(halfX,\" \").concat(halfY,\")\");default:return\"\";}}function getTailTransform(direction,viewBox){var halfX=viewBox.width/2;var halfY=viewBox.height/2;switch(direction){case\"right\":return\"scale(-1,1) translate(-100,0)\";case\"down\":return\"scale(-1,1) translate(-100,0) rotate(-90 \".concat(halfX,\" \").concat(halfY,\")\");case\"up\":return\"scale(-1,1) translate(-100,0) rotate(90 \".concat(halfX,\" \").concat(halfY,\")\");default:return\"\";}}function areAdjacentDirections(d1,d2){// Check if the directions are adjacent in the circular directions array\n// Otherwise they are the same or opposite directions\nreturn Math.abs(DIRECTIONS_CW.indexOf(d1)-DIRECTIONS_CW.indexOf(d2))%2===1;}function checkIfCornerPart(snake,partIndex){// If head or tail of the snake, then false\nif(partIndex===0||partIndex===snake.body.length-1)return false;var behind=snake.body[partIndex+1];var current=snake.body[partIndex];// Return false if the behind part has the same position as the current.\n// Relevant for when the snake initially spawns.\nif(behind.x===current.x&&behind.y===current.y)return false;// Check if the directions are adjacent in the circular directions array\n// Otherwise they are the same or opposite directions and should be rendered with a straight part\nreturn areAdjacentDirections(current.direction,behind.direction);}function determineCornerType(snake,partIndex){// If head or tail of the snake, then false\nif(partIndex===0||partIndex===snake.body.length-1)return false;var behind=snake.body[partIndex+1];var current=snake.body[partIndex];return\"\".concat(current.direction,\" \").concat(behind.direction);}function isOverlappedByTail(snake,part){var head=snake.body[snake.body.length-1];return part.isOverlapped&&head.x===part.x&&head.y===part.y;}var grid_Grid=/*#__PURE__*/function(_React$Component){Object(inherits[\"a\" /* default */])(Grid,_React$Component);var _super=Object(createSuper[\"a\" /* default */])(Grid);function Grid(){Object(classCallCheck[\"a\" /* default */])(this,Grid);return _super.apply(this,arguments);}Object(createClass[\"a\" /* default */])(Grid,[{key:\"renderPart\",value:function renderPart(snake,snakeIndex,part,partIndex){if(isOverlappedByTail(snake,part))return;switch(part.type){case\"head\":return this.renderHeadPart(snake,snakeIndex,part);case\"tail\":return this.renderTailPart(snake,snakeIndex,part);default:if(checkIfCornerPart(snake,partIndex)){return this.renderCornerPart(snake,snakeIndex,part,partIndex);}else{return this.renderMiddlePart(snake,snakeIndex,part,partIndex);}}}},{key:\"renderHeadPart\",value:function renderHeadPart(snake,snakeIndex,part){var x=getHeadXOffset(part);var y=getHeadYOffset(part);var box=snake.headSvg.viewBox.baseVal;var transform=getHeadTransform(part.direction,box);var viewBoxStr=\"\".concat(box.x,\" \").concat(box.y,\" \").concat(box.width,\" \").concat(box.height);var color=getPartColor(snake,part);var opacity=getPartOpacity(part);return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"g\",{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"svg\",{viewBox:viewBoxStr,x:x,y:y,width:CELL_SIZE,height:CELL_SIZE,fill:color,opacity:opacity,shapeRendering:\"auto\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"g\",{transform:transform,dangerouslySetInnerHTML:{__html:snake.headSvg.innerHTML}})}),snake.effectiveSpace>1&&/*#__PURE__*/ // only add filler if the snake is effectively longer than one tile\nObject(jsx_runtime[\"jsx\"])(\"rect\",{x:getHeadFillerXOffset(part),y:getHeadFillerYOffset(part),width:getFillerWidth(part),height:getFillerHeight(part),fill:color,opacity:opacity,shapeRendering:\"auto\"})]},\"part\"+snakeIndex+\",head\");}},{key:\"renderMiddlePart\",value:function renderMiddlePart(snake,snakeIndex,part,partIndex){var color=getPartColor(snake,part);var opacity=getPartOpacity(part);return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"rect\",{x:getPartXOffset(part),y:getPartYOffset(part),width:getPartWidth(part),height:getPartHeight(part),fill:color,opacity:opacity,shapeRendering:\"auto\"},\"part\".concat(snakeIndex,\",\").concat(part.x,\",\").concat(part.y));}},{key:\"renderCornerPart\",value:function renderCornerPart(snake,snakeIndex,part,partIndex){var viewBox,transform;var path=\"M0,20 h60 a60,60 0 0 1 60,60 v60 h-100 v-20 h-20 z\";var color=getPartColor(snake,part);var opacity=getPartOpacity(part);viewBox=\"0 0 140 140\";var cornerType=determineCornerType(snake,partIndex);switch(cornerType){case\"down left\":case\"right up\":transform=\"rotate(270, 70, 70)\";break;case\"left down\":case\"up right\":transform=\"rotate(90, 70, 70)\";break;case\"left up\":case\"down right\":break;case\"right down\":case\"up left\":transform=\"rotate(180, 70, 70)\";break;default:break;}return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"svg\",{x:getCornerPartXOffset(part,cornerType),y:getCornerPartYOffset(part,cornerType),width:CELL_SIZE+2*CELL_SPACING,height:CELL_SIZE+2*CELL_SPACING,fill:color,opacity:opacity,viewBox:viewBox,shapeRendering:\"auto\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"path\",{d:path,transform:transform})},\"part\".concat(snakeIndex,\",\").concat(part.x,\",\").concat(part.y));}},{key:\"renderTailPart\",value:function renderTailPart(snake,snakeIndex,part){var x=getTailXOffset(part);var y=getTailYOffset(part);var box=snake.tailSvg.viewBox.baseVal;var transform=getTailTransform(part.direction,box);var viewBoxStr=\"\".concat(box.x,\" \").concat(box.y,\" \").concat(box.width,\" \").concat(box.height);var color=getPartColor(snake,part);var opacity=getPartOpacity(part);return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"g\",{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"svg\",{viewBox:viewBoxStr,x:x,y:y,width:CELL_SIZE,height:CELL_SIZE,fill:color,opacity:opacity,shapeRendering:\"auto\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"g\",{transform:transform,dangerouslySetInnerHTML:{__html:snake.tailSvg.innerHTML}})}),snake.effectiveSpace>1&&/*#__PURE__*/ // only add filler if the snake is effectively longer than one tile\nObject(jsx_runtime[\"jsx\"])(\"rect\",{x:getTailFillerXOffset(part),y:getTailFillerYOffset(part),width:getFillerWidth(part),height:getFillerHeight(part),fill:color,opacity:opacity,shapeRendering:\"auto\"})]},\"part\"+snakeIndex+\",tail\");}},{key:\"renderLabel\",value:function renderLabel(row,col,label){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"foreignObject\",{x:toGridSpaceX(col),y:toGridSpaceY(row),width:CELL_SIZE,height:CELL_SIZE,children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{style:{width:\"100%\",height:\"100%\",display:\"flex\",alignItems:\"center\",justifyContent:\"center\",opacity:0.5},children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{style:{fontSize:\"80%\"},children:label})})},\"label\"+row+col);}},{key:\"renderLabels\",value:function renderLabels(){var _this=this;return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(jsx_runtime[\"Fragment\"],{children:[range(this.props.rows).map(function(_,row){return _this.renderLabel(row,-1,row);}),range(this.props.columns).map(function(_,col){return _this.renderLabel(-1,col,col);})]});}},{key:\"renderGrid\",value:function renderGrid(){var _this2=this;// GRID_COLUMNS = this.props.columns;\nGRID_ROWS=this.props.rows;var unsortedSnakes=this.props.snakes||[];var food=this.props.food||[];var hazards=this.props.hazards||[];// Make alive snakes render on top of dead snakes\nvar sortedSnakes=sortAliveSnakesOnTop(unsortedSnakes,this.props.highlightedSnake);if(!this.props.highlightedSnake){// track all of the grid cells that will have a snake part drawn in them.  Successive snake parts\n// drawn in the same cell need to be flagged so they render differently and layer properly\nvar gridCellsWithSnakeParts=Array(this.props.rows);for(var i=0;i<gridCellsWithSnakeParts.length;i++){gridCellsWithSnakeParts[i]=Array(this.props.columns);for(var j=0;j<this.props.columns;j++){gridCellsWithSnakeParts[i][j]=false;}}// Go through each snake, in the order they will be drawn and mark the cells they will occupy.\n// flag parts that would be drawn in cells that are already claimed\nfor(var _i=0;_i<sortedSnakes.length;_i++){var snake=sortedSnakes[_i];if(!snake.isDead){for(var x=0;x<snake.body.length;x++){var part=snake.body[x];if(!isOverlappedByTail(snake,part)){if(gridCellsWithSnakeParts[part.y][part.x]){part.shadeForOverlap=true;}else{gridCellsWithSnakeParts[part.y][part.x]=true;}}}}}}var viewBoxWidth=(CELL_SIZE+CELL_SPACING)*this.props.columns+CELL_SPACING;var viewBoxHeight=(CELL_SIZE+CELL_SPACING)*this.props.rows+CELL_SPACING;var hazardOpacity=parseFloat(colors.hazardOpacity);var overflow=this.props.showCoordinateLabels?\"visible\":\"hidden\";return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"svg\",{className:\"grid\",width:this.props.maxWidth,height:this.props.maxHeight,x:this.props.x,y:this.props.y,viewBox:\"0 0 \".concat(viewBoxWidth,\" \").concat(viewBoxHeight),overflow:overflow,children:[this.props.showCoordinateLabels&&this.renderLabels(),range(this.props.rows).map(function(_,row){return range(_this2.props.columns).map(function(_,col){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"rect\",{x:toGridSpaceX(col),y:toGridSpaceY(row),width:CELL_SIZE,height:CELL_SIZE,fill:_this2.props.theme===themes.dark?colors.gridCellBackgroundDark:colors.gridCellBackground,shapeRendering:\"auto\"},\"cell\"+row+\",\"+col);});}),sortedSnakes.map(function(snake,snakeIndex){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"g\",{className:\"snake\",opacity:getOpacity(snake,_this2.props.highlightedSnake),children:Object(toConsumableArray[\"a\" /* default */])(snake.body).reverse().map(function(part,partIndex){return _this2.renderPart(snake,snakeIndex,part,snake.body.length-partIndex-1,_this2.props.highlightedSnake);})},\"snake\".concat(snakeIndex));}),hazards.map(function(o,hazardIndex){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"rect\",{x:toGridSpaceX(o.x),y:toGridSpaceY(o.y),width:CELL_SIZE,height:CELL_SIZE,fill:colors.hazard,fillOpacity:hazardOpacity,shapeRendering:\"auto\"},\"hazard\"+hazardIndex);}),food.map(function(f,foodIndex){if(_this2.props.foodImage){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"image\",{x:toGridSpaceX(f.x),y:toGridSpaceY(f.y),width:CELL_SIZE,height:CELL_SIZE,href:_this2.props.foodImage},\"food\"+foodIndex);}else{return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"circle\",{className:\"food\",cx:toGridSpaceX(f.x)+CELL_SIZE/2,cy:toGridSpaceY(f.y)+CELL_SIZE/2,r:FOOD_SIZE,fill:colors.food,shapeRendering:\"optimizeQuality\"},\"food\"+foodIndex);}})]});}},{key:\"render\",value:function render(){if(this.props.snakes){return this.renderGrid();}else{return;}}}]);return Grid;}(react_default.a.Component);/* harmony default export */ var grid = (grid_Grid);\n// CONCATENATED MODULE: ./src/components/board.jsx\nvar BOARD_SIZE=100;var LABEL_ADJUSTMENT=10;var board_Board=/*#__PURE__*/function(_React$Component){Object(inherits[\"a\" /* default */])(Board,_React$Component);var _super=Object(createSuper[\"a\" /* default */])(Board);function Board(){Object(classCallCheck[\"a\" /* default */])(this,Board);return _super.apply(this,arguments);}Object(createClass[\"a\" /* default */])(Board,[{key:\"render\",value:function render(){var boardSize=this.props.showCoordinateLabels?BOARD_SIZE-LABEL_ADJUSTMENT:BOARD_SIZE;var x=this.props.showCoordinateLabels?LABEL_ADJUSTMENT:0;return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"svg\",{viewBox:\"0 0 \".concat(BOARD_SIZE,\" \").concat(BOARD_SIZE),children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(grid,{snakes:this.props.snakes,food:this.props.food,foodImage:this.props.foodImage,hazards:this.props.hazards,columns:this.props.columns,rows:this.props.rows,highlightedSnake:this.props.highlightedSnake,theme:this.props.theme,maxWidth:boardSize,maxHeight:boardSize,x:x,y:0,turn:this.props.turn,showCoordinateLabels:this.props.showCoordinateLabels})});}}]);return Board;}(react_default.a.Component);/* harmony default export */ var board = (board_Board);\n// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/esm/createForOfIteratorHelper.js\nvar createForOfIteratorHelper = __webpack_require__(17);\n\n// EXTERNAL MODULE: ./node_modules/@babel/runtime/regenerator/index.js\nvar regenerator = __webpack_require__(2);\nvar regenerator_default = /*#__PURE__*/__webpack_require__.n(regenerator);\n\n// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\nvar asyncToGenerator = __webpack_require__(7);\n\n// EXTERNAL MODULE: ./src/io/reconnecting-websocket.js\nvar reconnecting_websocket = __webpack_require__(33);\nvar reconnecting_websocket_default = /*#__PURE__*/__webpack_require__.n(reconnecting_websocket);\n\n// CONCATENATED MODULE: ./src/io/websocket.js\n// Establishes websocket connection on given url and then calls receive for\n// every object sent from the server. Returns a promise that resolves when\n// receive returns true or when the server closes the connection.\nfunction streamAll(url,receive){var turns={};var done=false;return new Promise(function(resolve,reject){var ws=new reconnecting_websocket_default.a(url);ws.addEventListener(\"message\",function(e){var obj=JSON.parse(e.data);var eventData=obj.Data;if(turns[eventData.Turn]){return;}turns[eventData.Turn]=true;done=receive(obj);if(done){ws.close();resolve();}});ws.addEventListener(\"onerror\",function(e){reject(e);});ws.addEventListener(\"onclose\",function(e){if(!done){done=true;resolve();}});});}\n// CONCATENATED MODULE: ./src/utils/inline-svg.js\n/**\n * This file contains helper functions for async loading svg files that\n * can be injected inline into an html <svg> element. This is better than\n * alternatives for the following reasons:\n *\n *    <use href=\"...\"> has a problem where the game could start before the\n *    svg has finished loading whereas this method gives a promise we can wait\n *    for.\n *\n *    <image src=\"...\"> has a problem where the fill color of the image cannot\n *    be overriden. Inline svg solves this problem and allows css styles to\n *    cascade into the svg content. <use> may also have this problem?\n *\n *    Directly embedding the svg xml into react components (or similar) would\n *    mostly solve everything except that it eliminates the possibility of\n *    pulling in svg data from external trusted sources.\n *\n * The main downside to this method is that the source of the svg must be\n * trusted or else you are vulnerable to xss attacks.\n */var loaded={};var doesntExist={};function loadSvgs(paths){return Promise.all(paths.map(requireSvg));}function getSvg(path){return loaded[path];}function requireSvg(path){if(path in loaded){return Promise.resolve(loaded[path]);}return fetchSvg(path);}function fetchSvg(_x){return _fetchSvg.apply(this,arguments);}function _fetchSvg(){_fetchSvg=Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/regenerator_default.a.mark(function _callee(path){var response,svgText,svg;return regenerator_default.a.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return fetch(path);case 2:response=_context.sent;_context.next=5;return response.text();case 5:svgText=_context.sent;svg=makeDom(svgText);loaded[path]=svg;return _context.abrupt(\"return\",svg);case 9:case\"end\":return _context.stop();}}},_callee);}));return _fetchSvg.apply(this,arguments);}function makeDom(svgText){var wrapper=document.createElement(\"div\");wrapper.innerHTML=svgText.trim();return wrapper.firstChild;}function svgExists(_x2){return _svgExists.apply(this,arguments);}function _svgExists(){_svgExists=Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/regenerator_default.a.mark(function _callee2(path){var response,svgText,exists;return regenerator_default.a.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:if(!(path in loaded)){_context2.next=2;break;}return _context2.abrupt(\"return\",true);case 2:if(!(path in doesntExist)){_context2.next=4;break;}return _context2.abrupt(\"return\",false);case 4:_context2.prev=4;_context2.next=7;return fetch(path);case 7:response=_context2.sent;_context2.next=10;return response.text();case 10:svgText=_context2.sent;exists=svgText.startsWith(\"<svg\");if(!exists){doesntExist[path]=true;}return _context2.abrupt(\"return\",exists);case 16:_context2.prev=16;_context2.t0=_context2[\"catch\"](4);//Most likely a CORS issue for a specific svg\nconsole.warn(_context2.t0,path,\"Fallback to default\");return _context2.abrupt(\"return\",false);case 20:case\"end\":return _context2.stop();}}},_callee2,null,[[4,16]]);}));return _svgExists.apply(this,arguments);}\n// CONCATENATED MODULE: ./src/utils/engine-client.js\nvar DEFAULT_SNAKE_HEAD=\"default\";var DEFAULT_SNAKE_TAIL=\"default\";var APP_VERSION=\"1.2.1\";function get(_x,_x2){return _get.apply(this,arguments);}function _get(){_get=Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/regenerator_default.a.mark(function _callee(url,query){var response;return regenerator_default.a.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return fetch(url+makeQueryString(query));case 2:response=_context.sent;if(!(response.status===200)){_context.next=7;break;}return _context.abrupt(\"return\",Promise.resolve(response.json()));case 7:return _context.abrupt(\"return\",Promise.resolve(response.json()).then(function(responseJson){console.error(responseJson.error);return Promise.reject(responseJson.error);}));case 8:case\"end\":return _context.stop();}}},_callee);}));return _get.apply(this,arguments);}function delay(millis){return new Promise(function(resolve){return setTimeout(resolve,millis);});}function getReadableCauseOfDeath(death){// See https://github.com/BattlesnakeOfficial/rules/blob/master/standard.go\nswitch(death.cause){case\"snake-collision\":return\"Ran into \".concat(death.eliminatedBy,\"'s body\");case\"snake-self-collision\":return\"Collided with itself\";case\"out-of-health\":return\"Out of health\";case\"hazard\":return\"Eliminated by hazard\";case\"head-collision\":return\"Lost head-to-head with \".concat(death.eliminatedBy);case\"wall-collision\":return\"Moved out of bounds\";case\"squad-eliminated\":return\"Squad was eliminated\";default:return death.cause;}}// Gets a list of all unique SVG paths required by the snakes.\nfunction getAllSvgs(snakes){var all=snakes.reduce(function(result,snake){return result.concat([snake.HeadType,snake.TailType]);},[]);var unique=new Set(all);return Array.from(unique);}function assignHeadAndTailUrls(_x3){return _assignHeadAndTailUrls.apply(this,arguments);}function _assignHeadAndTailUrls(){_assignHeadAndTailUrls=Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/regenerator_default.a.mark(function _callee2(snakes){var _iterator,_step,snake;return regenerator_default.a.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_iterator=Object(createForOfIteratorHelper[\"a\" /* default */])(snakes);_context2.prev=1;_iterator.s();case 3:if((_step=_iterator.n()).done){_context2.next=19;break;}snake=_step.value;// Assign default if missing\nif(!snake.HeadType){snake.HeadType=DEFAULT_SNAKE_HEAD;}if(!snake.TailType){snake.TailType=DEFAULT_SNAKE_TAIL;}// Format as actual URL if it's just a name\nsnake.HeadType=getSnakeHeadSvgUrl(snake.HeadType);snake.TailType=getSnakeTailSvgUrl(snake.TailType);_context2.next=11;return svgExists(snake.HeadType);case 11:if(_context2.sent){_context2.next=13;break;}snake.HeadType=getSnakeHeadSvgUrl(DEFAULT_SNAKE_HEAD);case 13:_context2.next=15;return svgExists(snake.TailType);case 15:if(_context2.sent){_context2.next=17;break;}snake.TailType=getSnakeTailSvgUrl(DEFAULT_SNAKE_TAIL);case 17:_context2.next=3;break;case 19:_context2.next=24;break;case 21:_context2.prev=21;_context2.t0=_context2[\"catch\"](1);_iterator.e(_context2.t0);case 24:_context2.prev=24;_iterator.f();return _context2.finish(24);case 27:case\"end\":return _context2.stop();}}},_callee2,null,[[1,21,24,27]]);}));return _assignHeadAndTailUrls.apply(this,arguments);}function setHeadAndTailSvgs(_x4){return _setHeadAndTailSvgs.apply(this,arguments);}function _setHeadAndTailSvgs(){_setHeadAndTailSvgs=Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/regenerator_default.a.mark(function _callee3(snakes){var _iterator2,_step2,snake;return regenerator_default.a.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:_context3.next=2;return assignHeadAndTailUrls(snakes);case 2:_context3.next=4;return loadSvgs(getAllSvgs(snakes));case 4:_iterator2=Object(createForOfIteratorHelper[\"a\" /* default */])(snakes);try{for(_iterator2.s();!(_step2=_iterator2.n()).done;){snake=_step2.value;snake.HeadSvg=getSvg(snake.HeadType);snake.TailSvg=getSvg(snake.TailType);}}catch(err){_iterator2.e(err);}finally{_iterator2.f();}case 6:case\"end\":return _context3.stop();}}},_callee3);}));return _setHeadAndTailSvgs.apply(this,arguments);}function isIllegalSvgPath(nameOrPath){return nameOrPath.indexOf(\"/\")>=0||nameOrPath.indexOf(\".\")>=0;}function svgUrlFromName(base,relative){//appending the git hash of this version allows for cache busting on deploy\nvar extension=\".svg?board_version=\"+APP_VERSION;return join(\"https://media.battlesnake.com\",base,relative)+extension;}function getSnakeHeadSvgUrl(path){var effectivePath=isIllegalSvgPath(path)?DEFAULT_SNAKE_HEAD:path;return svgUrlFromName(\"/snakes/heads\",effectivePath);}function getSnakeTailSvgUrl(path){var effectivePath=isIllegalSvgPath(path)?DEFAULT_SNAKE_TAIL:path;return svgUrlFromName(\"/snakes/tails\",effectivePath);}function prepareFrame(_x5){return _prepareFrame.apply(this,arguments);}function _prepareFrame(){_prepareFrame=Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/regenerator_default.a.mark(function _callee4(frame){return regenerator_default.a.wrap(function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:_context4.next=2;return setHeadAndTailSvgs(frame.Snakes);case 2:case\"end\":return _context4.stop();}}},_callee4);}));return _prepareFrame.apply(this,arguments);}function fetchGameInfo(baseUrl,gameId){var url=join(baseUrl,\"games/\".concat(gameId));return get(url);}function streamAllEvents(_x6,_x7,_x8){return _streamAllEvents.apply(this,arguments);}function _streamAllEvents(){_streamAllEvents=Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/regenerator_default.a.mark(function _callee6(baseUrl,gameId,receiveEvent){var href,game,chain,onEngineEvent,wsUrl;return regenerator_default.a.wrap(function _callee6$(_context6){while(1){switch(_context6.prev=_context6.next){case 0:onEngineEvent=function _onEngineEvent(engineEvent){if(engineEvent.Type){var eventData=engineEvent.Data||engineEvent;//output eventdata\nchain=chain.then(/*#__PURE__*/Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/regenerator_default.a.mark(function _callee5(){return regenerator_default.a.wrap(function _callee5$(_context5){while(1){switch(_context5.prev=_context5.next){case 0:if(!(engineEvent.Type===\"frame\")){_context5.next=3;break;}_context5.next=3;return prepareFrame(eventData);case 3:return _context5.abrupt(\"return\",receiveEvent(game,engineEvent.Type,eventData));case 4:case\"end\":return _context5.stop();}}},_callee5);})));}return engineEvent.Type&&engineEvent.Type===\"game_end\";};// modified yabust\nhref=window.location.href;baseUrl=href.substr(0,href.lastIndexOf(\"/\")+1);//\n_context6.next=5;return fetchGameInfo(baseUrl,gameId);case 5:game=_context6.sent;chain=Promise.resolve();wsUrl=join(httpToWsProtocol(baseUrl),\"games/\".concat(gameId,\"/events\"));_context6.next=10;return streamAll(wsUrl,onEngineEvent);case 10:_context6.next=12;return chain;case 12:case\"end\":return _context6.stop();}}},_callee6);}));return _streamAllEvents.apply(this,arguments);}function getFrameByTurn(frames,turn){return frames.filter(function(frame){return frame.turn===turn;})[0];}\n// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/esm/slicedToArray.js + 3 modules\nvar slicedToArray = __webpack_require__(27);\n\n// EXTERNAL MODULE: ./src/components/scoreboard/error-message/ErrorMessage.css\nvar error_message_ErrorMessage = __webpack_require__(50);\n\n// CONCATENATED MODULE: ./src/components/scoreboard/error-message/ErrorMessage.jsx\nvar errorColor={color:colors.danger};function getIcon(code){return\"error\";}var ErrorMessage_ErrorMessage=function ErrorMessage(props){var code,message;if(props.error===\"\"){return\"\";}var _props$error$toString=props.error.toString().split(\":\");var _props$error$toString2=Object(slicedToArray[\"a\" /* default */])(_props$error$toString,2);code=_props$error$toString2[0];message=_props$error$toString2[1];return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"error-message\",style:errorColor,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"span\",{className:\"material-icons material-icons-inline\",children:getIcon(code)}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"span\",{children:message})]});};/* harmony default export */ var scoreboard_error_message_ErrorMessage = (ErrorMessage_ErrorMessage);\n// EXTERNAL MODULE: ./src/components/scoreboard/avatar/Avatar.css\nvar avatar_Avatar = __webpack_require__(51);\n\n// CONCATENATED MODULE: ./src/components/scoreboard/status-indicator/StatusIndicator.jsx\nvar style={color:colors.danger,cursor:\"pointer\",margin:0,padding:0};function StatusIndicator_getIcon(code){return\"error\";}var StatusIndicator_StatusIndicator=function StatusIndicator(_ref){var errorMessage=_ref.errorMessage;if(errorMessage===\"\"){return\"\";}// until we can refactor Avatar and not pass the whole error object\nvar _errorMessage$toStrin=errorMessage.toString().split(\":\"),_errorMessage$toStrin2=Object(slicedToArray[\"a\" /* default */])(_errorMessage$toStrin,1),code=_errorMessage$toStrin2[0];return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{style:style,children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"span\",{className:\"material-icons material-icons-inline\",children:StatusIndicator_getIcon(code)})});};/* harmony default export */ var status_indicator_StatusIndicator = (StatusIndicator_StatusIndicator);\n// CONCATENATED MODULE: ./src/components/avatar.jsx\nvar _templateObject;var AvatarWrapper=Object(emotion_styled_browser_esm[\"a\" /* default */])(\"div\")(_templateObject||(_templateObject=Object(taggedTemplateLiteral[\"a\" /* default */])([\"\\n  width: 100%;\\n  white-space: nowrap;\\n  overflow: hidden;\\n\\n  opacity: \",\";\\n\"])),function(props){return props.isEliminated?\"0.5\":\"1.0\";});var Name=Object(emotion_styled_browser_esm[\"a\" /* default */])(\"span\")(function(_ref){var theme=_ref.theme;return{display:\"block\",textShadow:theme===themes.dark?\"0 1px 2px rgba(0,0,0,0.90)\":null};});var Length=Object(emotion_styled_browser_esm[\"a\" /* default */])(\"span\")(function(_ref2){var theme=_ref2.theme;return{marginLeft:\"auto\",textShadow:theme===themes.dark?\"0 1px 2px rgba(0,0,0,0.90)\":null};});var AuthorWrapper=Object(emotion_styled_browser_esm[\"a\" /* default */])(\"div\")({fontSize:\"1rem\",fontWeight:\"400\",display:\"flex\",flexDirection:\"row\",height:\"1.25rem\"});var Author=Object(emotion_styled_browser_esm[\"a\" /* default */])(\"span\")(function(_ref3){var theme=_ref3.theme;return{display:\"block\",flexGrow:1,textShadow:theme===themes.dark?\"0 1px 2px rgba(0,0,0,0.90)\":null};});var Latency=Object(emotion_styled_browser_esm[\"a\" /* default */])(\"span\")(function(_ref4){var theme=_ref4.theme,latency=_ref4.latency;return{color:latency===\"0\"?\"red\":\"inherit\",marginLeft:\"auto\",textShadow:theme===themes.dark?\"0 1px 2px rgba(0,0,0,0.90)\":null,display:latency===\"\"?\"none\":\"block\"};});var HealthBarWrapper=Object(emotion_styled_browser_esm[\"a\" /* default */])(\"div\")({marginTop:\"0.2rem\",width:\"100%\",height:\"1.0rem\",background:colors.healthBarBackground,borderRadius:\"1.5rem\"});var HealthBar=Object(emotion_styled_browser_esm[\"a\" /* default */])(\"div\")(function(_ref5){var color=_ref5.color;return{height:\"100%\",backgroundColor:color,borderRadius:\"inherit\"};});var CauseOfDeath=Object(emotion_styled_browser_esm[\"a\" /* default */])(\"div\")(function(_ref6){var theme=_ref6.theme;return{width:\"100%\",marginTop:\"0.2rem\",fontSize:\"1rem\",lineHeight:\"1rem\",color:theme===themes.dark?colors.lightText:colors.darkText};});var components_avatar_Avatar=/*#__PURE__*/function(_React$Component){Object(inherits[\"a\" /* default */])(Avatar,_React$Component);var _super=Object(createSuper[\"a\" /* default */])(Avatar);function Avatar(props){var _this;Object(classCallCheck[\"a\" /* default */])(this,Avatar);_this=_super.call(this,props);_this.state={showError:false};return _this;}Object(createClass[\"a\" /* default */])(Avatar,[{key:\"render\",value:function render(){return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(AvatarWrapper,{isEliminated:this.props.snake.death?true:false,children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"row\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Name,{children:this.props.snake.name}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Length,{children:this.props.snake.body.length})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(AuthorWrapper,{children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Author,{children:[\"by \",this.props.snake.author]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(status_indicator_StatusIndicator,{errorMessage:this.props.snake.error}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Latency,{latency:this.props.snake.latency,children:[this.props.snake.latency,\" ms\"]})]}),this.props.snake.death?/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(CauseOfDeath,{theme:this.props.theme,children:getReadableCauseOfDeath(this.props.snake.death)}):/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(HealthBarWrapper,{children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(HealthBar,{color:this.props.snake.color,style:{width:\"\".concat(this.props.snake.health,\"%\")}})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(scoreboard_error_message_ErrorMessage,{error:this.props.highlighted?this.props.snake.error:\"\"})]});}}]);return Avatar;}(react_default.a.Component);/* harmony default export */ var avatar = (components_avatar_Avatar);\n// CONCATENATED MODULE: ./src/components/scoreboard.jsx\nvar scoreboard_templateObject,_templateObject2;var orderSnakes=function orderSnakes(snakes){// Sort by name\nvar aliveSnakes=snakes.filter(function(s){return!s.isDead;}).sort(function(a,b){var aLower=a.name.toLowerCase();var bLower=b.name.toLowerCase();if(aLower<bLower){return-1;}if(aLower>bLower){return 1;}return 0;});// Sort by turn died, descending\nvar deadSnakes=snakes.filter(function(s){return s.isDead;}).sort(function(a,b){return a.death.turn-b.death.turn;}).reverse();return aliveSnakes.concat(deadSnakes);};var Wrapper=Object(emotion_styled_browser_esm[\"a\" /* default */])(\"div\")(scoreboard_templateObject||(scoreboard_templateObject=Object(taggedTemplateLiteral[\"a\" /* default */])([\"\\n  display: none;\\n  color: \",\";\\n  font-weight: 600;\\n  font-size: 1.4rem;\\n\\n  @media (min-width: \",\") {\\n    display: \",\";\\n    font-size: 1.8rem;\\n  }\\n\\n  @media (min-width: \",\") {\\n    font-size: 3.2rem;\\n    letter-spacing: 0.1rem;\\n  }\\n\"])),function(_ref){var theme=_ref.theme;return theme===themes.dark?colors.lightText:colors.darkText;},breakpoints.md,function(_ref2){var hide=_ref2.hide;return hide?\"none\":\"block\";},breakpoints.xxl);var scoreboard_AvatarWrapper=Object(emotion_styled_browser_esm[\"a\" /* default */])(\"div\")(_templateObject2||(_templateObject2=Object(taggedTemplateLiteral[\"a\" /* default */])([\"\\n  padding: 0.75rem;\\n  transition: background-color 0.2s, box-shadow 0.2s;\\n  border: 2px solid\\n    \",\";\\n  &:hover {\\n    background-color: \",\";\\n    cursor: pointer;\\n    border-color: \",\";\\n  }\\n\"])),function(props){return props.highlighted?colors.avatarHighlightedBorder:\"transparent\";},function(props){return props.theme===themes.dark?colors.purple:colors.light;},function(props){return props.highlighted?colors.avatarHighlightedBorder:colors.avatarHoverBorder;});var scoreboard_Scoreboard=/*#__PURE__*/function(_React$Component){Object(inherits[\"a\" /* default */])(Scoreboard,_React$Component);var _super=Object(createSuper[\"a\" /* default */])(Scoreboard);function Scoreboard(){var _this;Object(classCallCheck[\"a\" /* default */])(this,Scoreboard);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={highlightedSnake:null};_this.toggleHighlight=function(snake){var getSnakeToHighlight=function getSnakeToHighlight(state,snake){return state.highlightedSnake!==snake._id?snake._id:null;};_this.props.highlightSnake(getSnakeToHighlight(_this.state,snake));_this.setState(function(state){return{highlightedSnake:getSnakeToHighlight(state,snake)};});};return _this;}Object(createClass[\"a\" /* default */])(Scoreboard,[{key:\"render\",value:function render(){var _this2=this;var highlightedSnake=this.state.highlightedSnake;return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Wrapper,{theme:this.props.theme,children:this.props.snakes?orderSnakes(this.props.snakes).map(function(snake,i){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(scoreboard_AvatarWrapper,{onClick:function onClick(){return _this2.toggleHighlight(snake);},highlighted:highlightedSnake===snake._id,theme:_this2.props.theme,children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(avatar,{snake:snake,theme:_this2.props.theme,highlighted:highlightedSnake===snake._id},\"avatar\"+i)},\"avatarwrapper\"+i);}):undefined});}}]);return Scoreboard;}(react_default.a.Component);/* harmony default export */ var scoreboard = (scoreboard_Scoreboard);\n// EXTERNAL MODULE: ./node_modules/react-keyboard-event-handler/lib/react-keyboard-event-handler.js\nvar react_keyboard_event_handler = __webpack_require__(34);\nvar react_keyboard_event_handler_default = /*#__PURE__*/__webpack_require__.n(react_keyboard_event_handler);\n\n// CONCATENATED MODULE: ./src/components/mediaControls.jsx\nvar mediaControls_templateObject,mediaControls_templateObject2,_templateObject3,_templateObject4;var MediaControlsWrapper=Object(emotion_styled_browser_esm[\"a\" /* default */])(\"div\")(mediaControls_templateObject||(mediaControls_templateObject=Object(taggedTemplateLiteral[\"a\" /* default */])([\"\\n  display: \",\";\\n  margin-top: 1rem;\\n  width: 100%;\\n\"])),function(_ref){var hide=_ref.hide;return hide?\"none\":\"block\";});var KeyboardShortcutsWrapper=Object(emotion_styled_browser_esm[\"a\" /* default */])(\"div\")({position:\"relative\"});var ShortcutsPane=Object(emotion_styled_browser_esm[\"a\" /* default */])(\"div\")(mediaControls_templateObject2||(mediaControls_templateObject2=Object(taggedTemplateLiteral[\"a\" /* default */])([\"\\n  position: absolute;\\n  bottom: 2.5rem;\\n  right: 2.5rem;\\n  width: 20rem;\\n  padding: 1rem;\\n  border: solid 1px #999;\\n  background: #fff;\\n\\n  @media (min-width: \",\") {\\n    left: 2.5rem;\\n    right: 0;\\n  }\\n\\n  h4 {\\n    margin-top: 0;\\n    margin-bottom: 1rem;\\n  }\\n\\n  ul {\\n    list-style-type: none;\\n    margin: 0;\\n    padding: 0;\\n  }\\n\"])),breakpoints.md);var ButtonWrapper=Object(emotion_styled_browser_esm[\"a\" /* default */])(\"div\")({display:\"flex\",justifyContent:\"center\",width:\"100%\"});var Button=Object(emotion_styled_browser_esm[\"a\" /* default */])(\"button\")(_templateObject3||(_templateObject3=Object(taggedTemplateLiteral[\"a\" /* default */])([\"\\n  display: inline-block;\\n  min-width: 3rem;\\n  text-align: center;\\n  background: transparent;\\n  color: \",\";\\n  font-size: 1.4rem;\\n  border: none;\\n  text-decoration: none;\\n  cursor: pointer;\\n  transition: background 250ms ease-in-out, transform 150ms ease;\\n  -webkit-appearance: none;\\n  -moz-appearance: none;\\n\\n  &:hover {\\n    cursor: pointer;\\n  }\\n\\n  &:focus {\\n    outline: none;\\n  }\\n\\n  &:disabled {\\n    color: #ccc;\\n    cursor: not-allowed;\\n  }\\n\\n  @media (max-width: \",\") {\\n    padding: 2rem 2rem;\\n  }\\n\"])),function(_ref2){var theme=_ref2.theme;return theme===themes.dark?\"#eee\":\"#333\";},breakpoints.sm);var Scrubber=Object(emotion_styled_browser_esm[\"a\" /* default */])(\"input\")(_templateObject4||(_templateObject4=Object(taggedTemplateLiteral[\"a\" /* default */])([\"\\n  width: 100%;\\n  max-width: 60rem;\\n\\n  &:disabled,\\n  &:disabled:hover {\\n    opacity: 0.2;\\n    cursor: not-allowed;\\n  }\\n\"])));var mediaControls_MediaControls=/*#__PURE__*/function(_React$Component){Object(inherits[\"a\" /* default */])(MediaControls,_React$Component);var _super=Object(createSuper[\"a\" /* default */])(MediaControls);function MediaControls(props){var _this;Object(classCallCheck[\"a\" /* default */])(this,MediaControls);_this=_super.call(this,props);_this.state={paneHidden:true};_this.handleParentKeyboardEvent=function(e){var code=e.data.code;_this.handleKeyEvent(_this.keyboardCodeMap[code],e);};_this.handleReload=function(){_this.props.reloadGame();};_this.handlePlayPause=function(){_this.props.toggleGamePause();};_this.handleBackward=function(){_this.props.stepBackwardFrame();};_this.handleForward=function(){_this.props.stepForwardFrame();};_this.handleScrubMouseDown=function(){_this.props.pauseGame();};_this.handleScrubbing=function(event){_this.props.stepToTurn(parseInt(event.target.value));};_this.handleSettings=function(){if(_this.props.persistAvailable){_this.props.history.push(\"/settings\");}};_this.handleShortcutPaneShowToggle=function(){_this.setState({paneHidden:!_this.state.paneHidden});};_this.handleKeyEvent=function(key,e){e.preventDefault();switch(key){case\"r\":_this.handleReload();break;case\"left\":_this.handleBackward();break;case\"right\":_this.handleForward();break;case\"space\":_this.handlePlayPause();break;case\",\":_this.handleSettings();break;default:break;}};_this.keyboardCodeMap={KeyR:\"r\",ArrowLeft:\"left\",ArrowRight:\"right\",Space:\"space\",Settings:\",\"};return _this;}Object(createClass[\"a\" /* default */])(MediaControls,[{key:\"componentDidMount\",value:function componentDidMount(){window.addEventListener(\"message\",this.handleParentKeyboardEvent);}},{key:\"componentWillUnmount\",value:function componentWillUnmount(){window.removeEventListener(\"message\",this.handleParentKeyboardEvent);}},{key:\"render\",value:function render(){return this.renderControls();}},{key:\"renderScrubbing\",value:function renderScrubbing(){var value=this.props.hasAllFrames?this.props.currentFrame.turn:0;var max=this.props.hasAllFrames?this.props.maxTurn:0;return this.props.showFrameScrubber&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(ButtonWrapper,{children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Scrubber,{type:\"range\",min:\"0\",max:max,value:value,onMouseDown:this.handleScrubMouseDown,onChange:this.handleScrubbing,disabled:!this.props.hasAllFrames})});}},{key:\"renderControls\",value:function renderControls(){var _this$props=this.props,currentFrame=_this$props.currentFrame,hideControls=_this$props.hideControls,paused=_this$props.paused,theme=_this$props.theme,persistAvailable=_this$props.persistAvailable;var settingsInfo=persistAvailable?\"Configure playback settings\":\"Enable localStorage to configure playback settings\";return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(MediaControlsWrapper,{hide:hideControls,children:[this.renderScrubbing(),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(ButtonWrapper,{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button,{onClick:this.handleBackward,disabled:currentFrame.turn===0||!paused,theme:theme,children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"span\",{className:\"material-icons icon-image-preview\",children:\"skip_previous\"})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button,{onClick:this.handlePlayPause,theme:theme,children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"span\",{className:\"material-icons icon-image-preview\",children:paused?\"play_arrow\":\"pause\"})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button,{onClick:this.handleForward,disabled:!paused,theme:theme,children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"span\",{className:\"material-icons icon-image-preview\",children:\"skip_next\"})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button,{onClick:this.handleReload,disabled:currentFrame.turn===0||!paused,theme:theme,children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"span\",{className:\"material-icons icon-image-preview\",children:\"refresh\"})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button,{onClick:this.handleSettings,disabled:!persistAvailable,theme:theme,children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"span\",{className:\"material-icons icon-image-preview\",title:settingsInfo,children:\"settings\"})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_keyboard_event_handler_default.a,{handleKeys:Object.values(this.keyboardCodeMap),onKeyEvent:this.handleKeyEvent}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(KeyboardShortcutsWrapper,{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button,{onClick:this.handleShortcutPaneShowToggle,theme:theme,children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"span\",{className:\"material-icons icon-image-preview\",children:\"help\"})}),!this.state.paneHidden&&/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(ShortcutsPane,{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h4\",{children:\"Keyboard shortcuts\"}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"ul\",{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"li\",{children:\"Reload = r\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"li\",{children:\"Play/Pause = space\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"li\",{children:\"Backward = left arrow\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"li\",{children:\"Forward = right arrow\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"li\",{children:\"Settings = comma\"})]})]})]})]})]});}}]);return MediaControls;}(react_default.a.Component);/* harmony default export */ var mediaControls = (Object(react_router[\"g\" /* withRouter */])(mediaControls_MediaControls));\n// CONCATENATED MODULE: ./src/components/logo.jsx\nvar logo_templateObject,logo_templateObject2;var SVGWrapper=Object(emotion_styled_browser_esm[\"a\" /* default */])(\"div\")(logo_templateObject||(logo_templateObject=Object(taggedTemplateLiteral[\"a\" /* default */])([\"\\n  height: 100%;\\n  width: 100%;\\n\\n  > svg {\\n    object-fit: contain;\\n    width: 100%;\\n    height: 100%;\\n    max-width: 100%;\\n    max-height: 100%;\\n  }\\n\"])));var logo_SVGLogo=function SVGLogo(props){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(SVGWrapper,{children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"svg\",Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({\"data-name\":\"Layer 1\",viewBox:\"0 0 360 150.82\",width:\"1em\",height:\"1em\"},props),{},{children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"defs\",{children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"linearGradient\",{id:\"Wordmark_svg__a\",x1:118.62,y1:69.31,x2:345.43,y2:181.87,gradientTransform:\"matrix(1 0 0 -1 0 150.95)\",gradientUnits:\"userSpaceOnUse\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"stop\",{offset:0,stopColor:\"#3d2f90\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"stop\",{offset:1,stopColor:\"#ea0578\"})]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"linearGradient\",{id:\"Wordmark_svg__b\",x1:153.2,y1:-0.36,x2:380.02,y2:112.21,xlinkHref:\"#Wordmark_svg__a\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"linearGradient\",{id:\"Wordmark_svg__c\",x1:110.47,y1:85.74,x2:337.28,y2:198.31,xlinkHref:\"#Wordmark_svg__a\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"linearGradient\",{id:\"Wordmark_svg__d\",x1:132.19,y1:41.99,x2:359,y2:154.56,xlinkHref:\"#Wordmark_svg__a\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"linearGradient\",{id:\"Wordmark_svg__e\",x1:98.64,y1:109.56,x2:325.45,y2:222.13,xlinkHref:\"#Wordmark_svg__a\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"linearGradient\",{id:\"Wordmark_svg__f\",x1:130.52,y1:47.49,x2:364.27,y2:163.5,xlinkHref:\"#Wordmark_svg__a\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"linearGradient\",{id:\"Wordmark_svg__g\",x1:13.42,y1:72.58,x2:346.58,y2:72.58,xlinkHref:\"#Wordmark_svg__a\"}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"linearGradient\",{id:\"Wordmark_svg__h\",x1:86.06,y1:89.18,x2:274.73,y2:89.18,gradientUnits:\"userSpaceOnUse\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"stop\",{offset:0.23,stopColor:\"#3d2f90\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"stop\",{offset:1,stopColor:\"#9f1782\"})]})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"g\",{opacity:0.15,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"path\",{d:\"M215.54 86.65h-23.25V41h-10.54v45.65H158.5V41H142l-8.33-20h94.25l-.45 20h-12z\",fill:\"url(#Wordmark_svg__a)\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"path\",{d:\"M339.67 139L254 92.43l22-22.36-21.6-49.25h86.18v8.25L326.36 39l15.87 13.86h-39.14l11.13 24-12.44 12.6z\",fill:\"url(#Wordmark_svg__b)\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"path\",{d:\"M105.76 87.44L88.25 69.73l20.55-49.12h22.4l27.62 66H133.6l-3.38-8.53h-20.79z\",fill:\"url(#Wordmark_svg__c)\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"path\",{d:\"M256.83 86.65h-27.21V21.06h23.24V63h18l3 6.8z\",fill:\"url(#Wordmark_svg__d)\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"path\",{d:\"M21.56 139l38-49.57-12.47-12.67 11.14-24H19l15.87-13.83L20.63 29v-8.28h86.17L85.28 70.13l22 22.3z\",fill:\"url(#Wordmark_svg__e)\"})]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"path\",{d:\"M87.27 125.08a3.06 3.06 0 00.84-.72l-1.65 1.11z\",fill:\"url(#Wordmark_svg__f)\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"path\",{d:\"M343.93 133.36l-88.33-48 22.65-23.05-22.17-50.51h88.81V20l-14.66 10.19 16.35 14.28h-40.34l11.48 24.69-12.82 13.1zM259 84.84L336.51 127l-34.3-44.92 13.07-13.35L303 42.4h38.11L326.92 30l15.93-11.13v-5.39h-83.66l21.48 49.26zm57.7-57.75a4.75 4.75 0 114.74-4.75 4.66 4.66 0 01-4.79 4.75zm0-7.49a2.74 2.74 0 102.74 2.74 2.7 2.7 0 00-2.79-2.74zm-185-7.81l8.3 20.58h17.31v46.21L129.1 11.81H106C99 28.68 91.89 45.08 84.83 62l18 18.25 3.68-9.63h21.59q1.72 4.41 3.47 8.8h49.62v-47h10.88v47H216v-47h12.28V11.8zm1.3 65.55l-3.47-8.8h-24.38l-3.05 8-14.86-15c6.71-16.05 13.42-31.6 20.13-47.64h20.37c8.93 21.32 17.85 42.16 26.77 63.49zm93.34-47H214v47h-19.9v-47h-14.95v47h-19.87v-47h-17.94l-6.77-16.5h91.73zM109.91 55h14.93l-7.47-19.8q-3.73 9.92-7.46 19.8zm2.94-2l4.52-12 4.52 12zm160 2h-18.54V11.8h-23.52l-.43 67.39 28.09.19 17.46-17.29zm-15.24 22.34l-25.21-.18V13.47h19.85V57h19.21l2 4.59zm-155.18 9.09zm0 0zm0 0zM43.4 17.6a4.75 4.75 0 104.75 4.74 4.65 4.65 0 00-4.75-4.74zm0 7.48a2.74 2.74 0 112.74-2.74 2.69 2.69 0 01-2.74 2.74zm38.33 37.55l22.12-50.8H15.12V20l14.65 10.22-16.35 14.27h40.34l-11.48 24.7 12.8 13.11L16.81 133l82.84-45.06 4.68-2.54zm19.37 22.2L23.53 127l34.31-44.91-13.07-13.35L57 42.4H18.89L33.12 30 17.2 18.89v-5h83.62c-5 11.68-21.57 49.2-21.57 49.2z\",fill:\"url(#Wordmark_svg__g)\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"path\",{d:\"M271.62 55.66c-.23-.26-.17-.48-.69-.44a.74.74 0 00-.43 1.21c.08.09-.2.2-.24.18a3.85 3.85 0 00-.44-.19c-.08 0-.13.11-.17-.05s-.34-.41-.52-.35-.05.08-.15 0-.2-.21-.36-.18a26.54 26.54 0 00-6.15 2.16 4.38 4.38 0 01-1.27.5c-.2 0-.37-.38-.65-.23a5.68 5.68 0 01-.77.42c-.19 0-.24-.09-.39 0-3.16 1.26-6.21 2.65-9.28 4.07a6.76 6.76 0 01-1 .32c-1.08.36-2.12.67-3.22 1a15.64 15.64 0 00-3.32 1.12.55.55 0 00.06 1c-2.37 1-4.82 1.88-7.25 2.74-.78.27-.46 1.19.29 1.19-.21.23-.16.1-.43.41a4.37 4.37 0 00-.93 1.57c0 .18.25.49.25.62a1.69 1.69 0 010 .21c-.12 5.6.05 11.16.23 16.75l-.54.15a40.47 40.47 0 01-6 1 21.23 21.23 0 01-3.56.12c-.18 0-.3-.36-.48-.39a.63.63 0 01-.39-.13c-.83-.65-1.57-1-2.38-1.81a18.7 18.7 0 01-2.26-3l.06-.12a7 7 0 01.54-.76c.17-.21.38-.52.58-.75a6.21 6.21 0 00.42-.81 15.73 15.73 0 011.7-2.19c.68-.77.86-.9 1.78-2s3.47-4 4.35-5.13a11.59 11.59 0 001.53-2.28c.22-.44 0-.76.14-1.14a2.57 2.57 0 00.16-.93 2.13 2.13 0 00-.63-1.13 2.94 2.94 0 00-.81-.56c-.31-.15-.52-.31-.86-.44s-.52-.63-.87-.76a4.06 4.06 0 01-1.23-.45c-.34-.26-.76-.78-1.12-.8s-.71.54-1 .76-.81.56-1.09.77.12.4.21.41.34.26.26.33-.31-.13-.51-.07-.34-.14-.62.2c-1.47 1.75-3.95 4.69-5.31 6.22a20.74 20.74 0 00-2.45 3.44c-.32.49-.62.91-1 1.36l-1.12 1.43c-.29.39-.36.47-.61.83v-1.84c0-.84 0-2.07.05-3 0-1.52-.09-3.48-.09-4.9a11.51 11.51 0 00-.72-3.5c-.23-.83.2-1.82.12-2.56s-.46-.72-1-.67a.73.73 0 00-1.24-.76c-.55.61-.73 1.28-1.28 1.77-.88.77-1.84 1.33-2.69 2.12-2.23 0-2.4 1.66-2.55 3.52a1.51 1.51 0 000 .7 4.64 4.64 0 01.05 1c.06.82 0 2 .07 2.68s-.38 1.06-.38 1.55c0 1.71.19 3.36.08 5-.08 1.09-.11 2-.19 3.11-.43-.5-.85-1-1.26-1.51-2.74 1.08-5.55 2.22-8.29 3.15a3.45 3.45 0 01-.66.19c-.23 0-.36.25-.54.21s-.38.18-.54 0a12 12 0 01-1.2-2.32c-.36-.76-.8-1.81-1.1-2.54l-.78-1.88c-.27-.66-.6-1.2-.86-1.86s-.39-1.44-.67-2.11a2.09 2.09 0 01-.08-.23 18 18 0 00-2.83-6.09c-.14-.23-.26-.71-.38-.67a2.44 2.44 0 00-.79 1c-.06.28.64.89.62 1.12s-.58 0-.64-.09 0-.05 0-.15a.66.66 0 00-.25-.37c-.08 0 0-.15 0-.11a12.69 12.69 0 00-.75 1.09 1.39 1.39 0 01-1.69.42c-1.19-.55-2.33-1.15-3.51-1.71a5.54 5.54 0 00-.57-.21c-1.07 2.51-1.71 5.11-3.37 7.32 0 .07-.19.11-.24.16a4.61 4.61 0 00-.76 2 1.91 1.91 0 01-.07.3c-.27.59-.64 1.51-.87 2s.06.6.12.9 0 .07-.09.46a18.56 18.56 0 01-.56 1.78 2.17 2.17 0 000 .51c0 .14.15.28.13.39-.1.61-.3 1.32-.42 1.89s-.32 1.42-.42 1.87-.18.79-.24 1 0 0-.05.09 0 0 0 .06a.1.1 0 010 .09v.07a1 1 0 000 .12v.13a1.27 1.27 0 01-.06.18V92c0 .07 0 0 0 0v.07a.13.13 0 000 .08v.07c0 .07 0-.1 0 0a3.48 3.48 0 01-.1.41v.2c0 .02 0 0 0 0v-.07c0 .01 0 0 0 0v.15c0 .02 0 0 0 0v.25c0 .05 0 0 0 0v.19a.58.58 0 000 .18v.06a.51.51 0 010 .13v.06a.45.45 0 000 .11v.19c0 .04 0 0 0 0a.54.54 0 010 .15s0 .22-.08.31 0-.07 0 0v.11c0 .19-.15.65-.23 1a28.7 28.7 0 00-1.06 5.79 5.35 5.35 0 00.15 1c-.16.21-.32.38-.48.58a2 2 0 01.63.44c.08.12 0 .1 0 .15s-.05 0-.05.06v.08a.33.33 0 010 .14v.14a.26.26 0 000 .15V104.62c0 .07 0-.06 0 0v.35c0 .05.05 0 0 0s0 0 0 .06v1.04c0 .03 0 .06 0 0v.1c0 .03 0 0 0 0v.06c0 .06 0 0 0 0a.31.31 0 010 .1v.09a1.94 1.94 0 010 .24s0-.06 0 0a1.29 1.29 0 010 .19s.06 0 0 .07a.19.19 0 00-.05.11v1.83c0 .21-.06 0 0 0s0 .06 0 .1 0-.06 0 0v.5c0 .02 0 .1 0 0s-.05-.37-.06-.46a1.15 1.15 0 010-.21v-.07-.52-.39a.72.72 0 010-.23v-.05a.16.16 0 000-.09v-.05c0-.05.06 0 0-.07a1.77 1.77 0 01-.05-.32c0-.06.05 0 .06 0a2.36 2.36 0 010-.37v-.07-.05a1.89 1.89 0 00-.06.18v.09a.55.55 0 000 .18v.06c0 .06 0 0 0 0v-.06c0 .01-.06 0-.07 0s0 .14 0 .22V107.65c0 .01 0 0 0 0a.53.53 0 010 .13V108.93a1.07 1.07 0 000 .25v.07a.29.29 0 010 .09V109.83a2.18 2.18 0 000 .25 1.62 1.62 0 000-.22.31.31 0 000-.1v-.06a1.82 1.82 0 010-.33v-.18a.74.74 0 000-.15s0-.06 0 0a1.19 1.19 0 01.05.22v.11a.13.13 0 010 .09v.1s0-.07 0 0a.65.65 0 010 .2v.25a1.48 1.48 0 010 .22.12.12 0 000 .09v-.1c0-.01 0 0 0 0s0-.06 0 0v.12a.46.46 0 010 .14c0 .09.06.4.08.49s0 0 0 .1v.21h.07v-.08-.06s0-.12.05-.11 0 .06.05.08a.15.15 0 010 .07v-.07c0-.03 0 0 0 0a2.64 2.64 0 010-.29c0-.05.05 0 0-.05s0 0 0-.06v-.06-.12a3.23 3.23 0 00.58 1.24 2 2 0 002 .71 34.67 34.67 0 003.8 3.47c.45.33 1.3.2 1.24-.52a42.61 42.61 0 011-11 37.32 37.32 0 00.6-5c0-.45.08-1.23.07-1.71a17.14 17.14 0 001.53 2.92c.6.72 1.28.24 1.25-.47 0 0-.06-.08 0-.1a60.1 60.1 0 015.64-2.31c.5-.17 1-.34 1.54-.48.16.52.51 1.57.66 1.94s0 0 0 .06 0 .2.17.21a1.78 1.78 0 01.88.33c.1.14.1.08.11.12.88 3.28 1.53 6.54 2.08 9.87a.32.32 0 00.54.13c.88-1 1.12-2.38 1.57-3.53s1-2 1.42-3.13c.09-.2.3-.31.43-.5a9.13 9.13 0 001.06-1.91c.06-.15.09-.3.16-.44a3.21 3.21 0 01.24-.36c.1-.15 0-.21 0-.39a6.1 6.1 0 01.13-.84c0-.18 0-.11.06-.27s-.07 0 0-.28a13.8 13.8 0 00.35-1.41.74.74 0 00-.94-.8c-.12-.43-.44-1.16-.54-1.5s-.31-.42-.27-.67-.48-.45-.17-.63c1.12-.7 2.3 0 3.77-1.15A32.81 32.81 0 01202 90.6c.18 1.94.11 4.31.27 6.18 0 .4-.23.13-.32.32a.39.39 0 000 .44c.09.13.18.1.2.24s.28.3.32.39.05 0 0 .13-.36.07-.45.21a.87.87 0 00.06.66c.09.18.25.42.34.56a1.28 1.28 0 01.19.34c0 .16.05.56.07.68s-.06.12-.06.18.08 0 .08 0c.19 1.64.42 3.29.5 4.94a2.84 2.84 0 01-.1.65c0 .21.11.38.12.56a10.85 10.85 0 01-.16 2.28c-.05.27-.32.45-.4.71-.26.8.47 1.49 1.21.92 0 0-.06 0 0-.05a.86.86 0 00.47-.37c.13-.25.62-1 .74-1.24-.13.32-.36.7-.49 1.05-.3.87.78 1.61 1.28.76.92-1.54 1.55-3.23 2.43-4.76.06-.1.25 0 .35-.06a6.31 6.31 0 001.88-2.61 34.47 34.47 0 001-3.31 8.37 8.37 0 01.37-1.35c.51-1.24 1.26-2.64 1.92-3.87a7 7 0 001.44 1 37.56 37.56 0 006.37 1.92c.34.09.52.23.78.29s.19 0 .47 0 1.18.28 1.39.34.14.1.19.11a15.09 15.09 0 002.6.38 16.39 16.39 0 003 0c.37 0 .78-.15 1.14-.18 1.2-.12 2.37-.19 3.55-.4 0 .65.12 1.31.12 1.95 0 .12-.15.19-.18.32a3.18 3.18 0 00.54 2.85v1c0 1.14-.17 2.53.6 3.52 0 0 .12.07.13.12.13.8.33 1.8 1.26 1.86a7.35 7.35 0 002.34-.51c1-.21 1.82-.49 3-.75s2.4-.69 3.77-.94 3.3-.54 4.71-.93 2.45-.83 3.88-1.29 3.22-.75 4.7-1.24a.74.74 0 00-.21-1.46 14.51 14.51 0 00-2.94.61 13 13 0 002.63-1.16c.33-.21.9-.4.95-.72.19-1.07.35-2.65.61-3.58s.42-1.3.6-2.06c.05-.19-.18-.39-.36-.45s-.58 0-.82-.17-.51-.4-.74-.62-.53-.57-.77-.76-.55-.6-.86-.51a20 20 0 01-2.52.94 12.39 12.39 0 00-2.31 1.1c-.93.33-1.95.21-2.76.47s-1.4.36-2.12.57a18.91 18.91 0 01-2.18.46 4.08 4.08 0 01-1.64-.23v-2.94c0-1.04 0-2.21-.05-3.27a3.52 3.52 0 001.21 0c.43-.12 1 .12 1.42.07s.78-.35 1.15-.27a1.9 1.9 0 00.94-.15 1.42 1.42 0 01.4-.06h.61a7.28 7.28 0 002.23-.54.85.85 0 01.19-.09c.14 0 .74-.26.86-.28s.13-.13.15-.08c.32.61.9.44 1.31.2s.57-.36.59-.75-.05-1 0-1.26.16-.18.21-.26c.34-.52 1.11-1.1 1.35-1.54a1.51 1.51 0 00-.06-1.19 1.94 1.94 0 00-.5-1c-.21-.11-.79 0-.91-.12 0-.77.06-1.52.12-2.28 0-.23-.1-.35-.16-.53a.79.79 0 00-1.52-.09c0 .07 0 .21-.06.21s0 0-.19-.06-.33-.36-.8-.23-1.08.32-1.78.45-1.89.45-2.69.54c-1.28.14-2.79.89-4 .32-.27-.12.69-3.9.7-4.3s-.07-.26 0-.28c2.09-1 4.15-2.11 6.25-3.08 2.62-1.21 5.27-2.3 7.95-3.35 2-.79 4.08-1.48 6.13-2.18-.12-.31-.1-.59.26-.75 1.25-.57 2.59-1 3.9-1.43a6.92 6.92 0 001.3-.5 1.15 1.15 0 00.29-.84c0-.09-.5.11-.76.09a4.71 4.71 0 01-1 0c-.43-.07-.93-.73-.46-1.17.08-.07.12.2.21.19s.14.08.22.08h.13c-.07 0-.1 0 0 0a.69.69 0 00.32 0h.07c.07 0 .06 0 .22-.11a1 1 0 00.39-.77.66.66 0 00-.48-.61c-.31-.11-.52.15-.7.31a2.08 2.08 0 00-.37.35c-.13.16.14.28-.08.39a2.21 2.21 0 01-1 .15c-.52 0-.78-.88-.32-1.26s1.09-.47 1.31-.74 0-.74 0-.81a4.37 4.37 0 00-.94.13c-.22 0-.81-.27-.83-.41s-.09 0 .08 0 .59 0 .94.09a1.1 1.1 0 001.27-1.19c-.06-.64-.78-.76-1-.87s-.39 0-.31-.06a22.56 22.56 0 012.11-1.2 2.39 2.39 0 00.34-.18c.23-.14.78-.39 1.14-.58.75-.4 1.63-.8 2.4-1.23.16-.08.33-.09.48-.27s.26-.71.41-1c-1.07.44-2.12.85-3.15 1.22zm-90.93 35.1c-1 .21-1.92.39-2.88.57a1.85 1.85 0 01-.54.11c-.15 0-.56.22-.57.09a4 4 0 01.33-1c.1-.34.29-.69.42-1.09a29.15 29.15 0 011.09-2.94c.42-1 1-1.91 1.48-2.89.07-.15.14-.42.2-.59.58 1.16 1.16 2.37 1.71 3.54s1 2.29 1.58 3.46c-.93.25-1.87.53-2.82.74zm-19.42-16.94a.61.61 0 00-.77-.21l-.36-.33c-1.9-2.24-3.76-4.49-5.8-6.51a.62.62 0 00-.32.47l-.31 2v.23c-.38 2.38-.74 4.73-1.1 7.09a.75.75 0 00.38.8 3.19 3.19 0 01-.45 1.19c0 1.1.16 2.24.22 3.21v2.71a1.22 1.22 0 000 .27 1.09 1.09 0 010 .36 1 1 0 010 .34v1.28a.54.54 0 000 .18v1.54a.17.17 0 010 .14 3.53 3.53 0 010 .65 20.08 20.08 0 01-1 4.78 6.22 6.22 0 01-.29.71 101.58 101.58 0 00-4.11-11.21 7.49 7.49 0 00-.24-1.39.2.2 0 01.29 0l-.09.11a1.93 1.93 0 010-.34.49.49 0 000-.24 1.81 1.81 0 00-.22-.32v-.2h.15c.16 0 .18 0 .2-.31a10.6 10.6 0 00-.6-1.33c-.45-3-.79-5.92-1-9a.73.73 0 00-.76-.68 4 4 0 01-.16-.45 1 1 0 00-.22-.34l-.36.3a66.17 66.17 0 01-7.72 8.25c-.49.74-1 1.48-1.43 2.24V80a1.27 1.27 0 01.9.87.77.77 0 00.4-.29l.36-.52c-.5 2.61-1 5.21-1.55 7.79L134 93.71a28.65 28.65 0 00-1 5.74.25.25 0 00.25.25c-.2 1-.43 2.11-.63 3.12a.58.58 0 00-.31.63 7.39 7.39 0 001.25 2.49c.29.47.63 1 1 1.61s.89 1.48 1.39 2.24a13.37 13.37 0 001.59 1.93 4.63 4.63 0 00.65.52 43.92 43.92 0 012.09 4 .72.72 0 001.32-.17l2.76-15.3.2.36c.16-.41 2.09-1.77 2.09-1.06v.45a.46.46 0 01.42.27c.59 1.26 4 8 4.49 9a37.3 37.3 0 003 4.8 18.27 18.27 0 012.51 2.69.72.72 0 001 .23.73.73 0 00.33-.58c.52-4.06 1.95-11.65 2.09-15.71a4.18 4.18 0 01.51-.8c.05-1 .15-2 .3-3 0-1.06.18-2 .26-2.94.39-2.92.74-5.83 1.13-8.73.29-2.24.62-4.48.83-6.72a7.27 7.27 0 00-2.25-5.21zm-25.46-11.64l-.63.92a.67.67 0 00-.88-.37l-.27.13a.75.75 0 00-.31-.6.53.53 0 000-.74.53.53 0 00-.25-.63 1.19 1.19 0 00-.6-.2.51.51 0 00-.25-.59 12.81 12.81 0 001.3-.74.61.61 0 010-.27 2.18 2.18 0 01.61-.6l-2.25 1.59a1.09 1.09 0 00-.67 0 .72.72 0 00-.54 0 .68.68 0 00-.49.63c-1.12.65-2.24 1.34-3.3 2H127a1.36 1.36 0 00-.81.62l-2.24 1.4a16.6 16.6 0 00-2.87 1.9l-.94.49q.33-.27.69-.51c2.25-1.66 4.65-3.21 6.73-5.07.43-.36 0-1-.58-.74a59.61 59.61 0 00-7.25 4.87c-2.24 1.7-4.68 3.43-7 5.2-4.49 3.45-9.13 6.95-13.46 10.77a.62.62 0 00-.25.47 12 12 0 00-2.78 2.35c.49 3.12 2.74 5.5 4.22 8.28a71.94 71.94 0 019.4 2c1 .29 2 .61 2.91.94a8 8 0 012.8 1.28 4.35 4.35 0 01.66 4.73 30.7 30.7 0 01-3.95 3.7c-1.64.81-3.28 1.6-4.89 2.43s-2.83 1.48-4.22 2.24a1 1 0 010 .25c-.85.27-1.68.67-2.35.89a45 45 0 00-5 2 .56.56 0 00-.19.77.53.53 0 00.37.26.5.5 0 00.11.69.5.5 0 00.43.08 23.27 23.27 0 004.24-1.8l.29-.13a89 89 0 01-10.45 7.42c-1.51 1-3 2-4.49 3a.69.69 0 01.16.18 47.72 47.72 0 017.49-4.26c.54-.25 1.14.42.65.87a52.65 52.65 0 00-4.17 3.57l.45-.16H91a24.48 24.48 0 013.22-1.86.83.83 0 011.08.47l.16-.13h.13l1-.41-1.26.7a.51.51 0 01-.22.54l-.18.13a7.83 7.83 0 00.92-.45l.38-.24c.56-.36 1 .38.67.83 1.8-1 3.59-1.91 5.41-2.79a.73.73 0 000 .36l-.36.23a.33.33 0 00.25.6 36.92 36.92 0 004.1-1.32l2.92-1.68.38-.2a5.38 5.38 0 011.5 0 .36.36 0 00.42-.29 1.14 1.14 0 010-.45.34.34 0 00.54.36 4.73 4.73 0 01.83-.78 23.8 23.8 0 004.19-2.25 11.66 11.66 0 002.13-1.25l1.21-.94c.65-.43 1.28-.86 1.89-1.33l.53-.45a8.8 8.8 0 001.44-1.14 11.53 11.53 0 011.39-.92.29.29 0 00.13-.39l.59-.89a18.3 18.3 0 001.84-4.49 14.38 14.38 0 00.33-5 7.1 7.1 0 00-.74-2.67l-.69-1.37c-.39-.77-.82-1.52-1.28-2.24a16.27 16.27 0 00-3.52-3.26 23.53 23.53 0 00-4.49-2.24 18.39 18.39 0 01-4.73-1.68.6.6 0 01-.2-.27c3-1.91 6-3.9 9-5.85 3.72-2.45 7.58-4.8 11.21-7.5l2.47-1.25v-.18a1.23 1.23 0 01-.81-1 1.3 1.3 0 01-.47-.85.48.48 0 00.16-.12 4.48 4.48 0 00.94-2.24.57.57 0 00.82 0 .53.53 0 00.17-.25 4.17 4.17 0 000-.5.7.7 0 00-.65-.63c.24-.42.47-.87.71-1.27a.58.58 0 00-.51-.65z\",fill:\"url(#Wordmark_svg__h)\"})]}))});};var StyledLogo=Object(emotion_styled_browser_esm[\"a\" /* default */])(logo_SVGLogo)(logo_templateObject2||(logo_templateObject2=Object(taggedTemplateLiteral[\"a\" /* default */])([\"\\n  > path {\\n    fill: \",\";\\n  }\\n\"])),function(_ref){var color=_ref.color,theme=_ref.theme;return!color?theme===themes.dark?colors.white:colors.purple:color;});/* harmony default export */ var logo = (StyledLogo);\n// EXTERNAL MODULE: ./src/components/game/GamePage.module.css\nvar GamePage_module = __webpack_require__(36);\nvar GamePage_module_default = /*#__PURE__*/__webpack_require__.n(GamePage_module);\n\n// CONCATENATED MODULE: ./src/components/game.jsx\nvar game_templateObject,game_templateObject2,game_templateObject3,game_templateObject4,_templateObject5,_templateObject6,_templateObject7;var BoardTitle=Object(emotion_styled_browser_esm[\"a\" /* default */])(\"div\")(function(_ref){var theme=_ref.theme;return{fontSize:\"2rem\",fontWeight:\"600\",textAlign:\"center\",textTransform:\"uppercase\",color:theme===themes.dark?colors.lightText:colors.darkText};});var HeaderWrapper=Object(emotion_styled_browser_esm[\"a\" /* default */])(\"div\")(game_templateObject||(game_templateObject=Object(taggedTemplateLiteral[\"a\" /* default */])([\"\\n  display: flex;\\n  flex-direction: column;\\n  justify-content: center;\\n  margin: 0.5rem 0;\\n  text-align: center;\\n\\n  @media (min-width: \",\") {\\n    padding-top: 1rem;\\n    padding-bottom: 2rem;\\n  }\\n\"])),breakpoints.xxl);var LogoWrapper=Object(emotion_styled_browser_esm[\"a\" /* default */])(\"div\")(game_templateObject2||(game_templateObject2=Object(taggedTemplateLiteral[\"a\" /* default */])([\"\\n  width: 100%;\\n  height: 5rem;\\n\\n  @media (min-width: \",\") {\\n    height: 8rem;\\n  }\\n\\n  @media (min-width: \",\") {\\n    height: 16rem;\\n  }\\n\"])),breakpoints.lg,breakpoints.xxl);var TurnCount=Object(emotion_styled_browser_esm[\"a\" /* default */])(\"div\")(game_templateObject3||(game_templateObject3=Object(taggedTemplateLiteral[\"a\" /* default */])([\"\\n  font-size: 2rem;\\n  font-weight: 600;\\n  text-transform: uppercase;\\n  color: \",\";\\n\\n  @media (min-width: \",\") {\\n    font-size: 3rem;\\n  }\\n\"])),function(_ref2){var theme=_ref2.theme;return theme===themes.dark?colors.lightText:colors.darkText;},breakpoints.xxl);var TurnCountValue=Object(emotion_styled_browser_esm[\"a\" /* default */])(\"span\")(game_templateObject4||(game_templateObject4=Object(taggedTemplateLiteral[\"a\" /* default */])([\"\\n  display: inline-block;\\n  width: 6rem;\\n\"])));var BoardWrapper=Object(emotion_styled_browser_esm[\"a\" /* default */])(\"div\")(_templateObject5||(_templateObject5=Object(taggedTemplateLiteral[\"a\" /* default */])([\"\\n  display: flex;\\n  flex-direction: column;\\n  width: 100%;\\n  height: 100%;\\n\\n  @media (min-width: \",\") {\\n    width: \",\";\\n  }\\n\"])),breakpoints.md,function(_ref3){var hideScoreboard=_ref3.hideScoreboard;return hideScoreboard?\"100%\":\"60vw\";});var ScoreboardWrapper=Object(emotion_styled_browser_esm[\"a\" /* default */])(\"div\")(_templateObject6||(_templateObject6=Object(taggedTemplateLiteral[\"a\" /* default */])([\"\\n  display: none;\\n  width: 40vw;\\n  padding: 0 2rem;\\n\\n  @media (min-width: \",\") {\\n    display: \",\";\\n  }\\n\"])),breakpoints.md,function(_ref4){var hide=_ref4.hide;return hide?\"none\":\"block\";});var Ruleset=Object(emotion_styled_browser_esm[\"a\" /* default */])(\"p\")(_templateObject7||(_templateObject7=Object(taggedTemplateLiteral[\"a\" /* default */])([\"\\n  margin: 0.25rem;\\n  width: 100%;\\n  font-size: 1.2rem;\\n  text-align: center;\\n  color: #aaa;\\n  text-transform: capitalize;\\n\"])));var game_Game=/*#__PURE__*/function(_React$Component){Object(inherits[\"a\" /* default */])(Game,_React$Component);var _super=Object(createSuper[\"a\" /* default */])(Game);function Game(){Object(classCallCheck[\"a\" /* default */])(this,Game);return _super.apply(this,arguments);}Object(createClass[\"a\" /* default */])(Game,[{key:\"componentDidMount\",value:function componentDidMount(){var options=this.props.options;this.props.togglePlayButtons(\"show\");if(options.theme){this.props.toggleTheme(options.theme);}//if (!(options.game && options.engine)) {\nif(!options.game){this.invalidArgs=true;// return;\n}this.hideLogo=options.hideLogo===\"true\";this.hideScoreboard=options.hideScoreboard===\"true\";this.showFrameScrubber=options.showFrameScrubber;this.title=options.title&&decodeURIComponent(options.title);this.props.setGameOptions(options);if(this.props.frames.length===0){this.props.fetchFrames();}}},{key:\"render\",value:function render(){if(this.invalidArgs){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(blank_state,{});}if(this.props.gameNotFound){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(game_not_found,{});}if(this.props.currentFrame){return this.renderGame();}return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(loading_indicator,{});}},{key:\"renderGame\",value:function renderGame(){var _this$props=this.props,currentFrame=_this$props.currentFrame,options=_this$props.options;return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"main\",{className:options.theme,children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"section\",{className:GamePage_module_default.a.game,children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(BoardWrapper,{hideScoreboard:this.hideScoreboard,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(BoardTitle,{theme:options.theme,children:this.title}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(board,{snakes:currentFrame.snakes,food:currentFrame.food,foodImage:options.foodImage,hazards:currentFrame.hazards,columns:this.props.grid.width,rows:this.props.grid.height,highlightedSnake:this.props.highlightedSnake,theme:options.theme,turn:currentFrame.turn,showCoordinateLabels:options.showCoordinateLabels}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(mediaControls,{currentFrame:currentFrame,hideControls:options.hideMediaControls===\"true\",reloadGame:this.props.reloadGame,toggleGamePause:this.props.toggleGamePause,stepBackwardFrame:this.props.stepBackwardFrame,stepForwardFrame:this.props.stepForwardFrame,stepToTurn:this.props.stepToTurn,pauseGame:this.props.pauseGame,paused:this.props.paused,theme:options.theme,persistAvailable:options.persistAvailable,maxTurn:this.props.frames[this.props.frames.length-1].turn,showFrameScrubber:this.showFrameScrubber,hasAllFrames:this.props.hasAllFrames})]}),!this.hideScoreboard&&/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(ScoreboardWrapper,{children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(HeaderWrapper,{children:[!this.hideLogo&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(LogoWrapper,{children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(logo,{theme:options.theme})}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(TurnCount,{theme:options.theme,children:[\"Turn \",/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(TurnCountValue,{children:currentFrame.turn})]})]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(scoreboard,{turn:currentFrame.turn,snakes:currentFrame.snakes,food:currentFrame.food,highlightSnake:this.props.highlightSnake,theme:options.theme}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Ruleset,{children:[\"Rules: \",this.props.ruleset.name]})]})]})});}}]);return Game;}(react_default.a.Component);/* harmony default export */ var components_game = (game_Game);\n// CONCATENATED MODULE: ./src/actions/action-types.js\nvar SET_GAME_OPTIONS=\"SET_GAME_OPTIONS\";var SET_THEME=\"SET_THEME\";var GAME_OVER=\"GAME_OVER\";var GAME_NOT_FOUND=\"GAME_NOT_FOUND\";var FETCH_FRAMES=\"FETCH_FRAMES\";var REQUEST_FRAMES=\"REQUEST_FRAMES\";var RECEIVE_FRAME=\"RECEIVE_FRAME\";var SET_CURRENT_FRAME=\"SET_CURRENT_FRAME\";var PAUSE_GAME=\"PAUSE_GAME\";var RESUME_GAME=\"RESUME_GAME\";var HIGHLIGHT_SNAKE=\"HIGHLIGHT_SNAKE\";var RECEIVE_EVENT_END=\"RECEIVE_EVENT_END\";var TOGGLE_SETTINGS_VIEW=\"TOGGLE_SETTINGS_VIEW\";var THEME_CHANGED=\"THEME_CHANGED\";\n// CONCATENATED MODULE: ./src/components/settings/defaults.js\nvar DEFAULT_FRAMERATE=6;var initialSettings={frameRate:DEFAULT_FRAMERATE,theme:themes.light,autoplay:false,showFrameScrubber:false,persistAvailable:false,showCoordinateLabels:false};\n// CONCATENATED MODULE: ./src/actions/index.js\nvar actions_setGameOptions=function setGameOptions(gameOptions){return{type:SET_GAME_OPTIONS,gameOptions:gameOptions};};var actions_setTheme=function setTheme(theme){return{type:SET_THEME,theme:theme};};var actions_gameOver=function gameOver(){return{type:GAME_OVER};};var actions_gameNotFound=function gameNotFound(){return{type:GAME_NOT_FOUND};};var actions_requestFrames=function requestFrames(){return{type:REQUEST_FRAMES};};var actions_receiveFrame=function receiveFrame(game,frame){return{type:RECEIVE_FRAME,game:game,frame:frame};};var actions_receiveEventEnd=function receiveEventEnd(game,endEvent,frame){return{type:RECEIVE_EVENT_END,game:game,endEvent:endEvent,frame:frame};};var actions_setCurrentFrame=function setCurrentFrame(frame){return{type:SET_CURRENT_FRAME,frame:frame};};var actions_pauseGame=function pauseGame(){return{type:PAUSE_GAME};};var actions_resumeGame=function resumeGame(){return{type:RESUME_GAME};};var actions_highlightSnake=function highlightSnake(snakeId){return{type:HIGHLIGHT_SNAKE,snakeId:snakeId};};var actions_fetchFrames=function fetchFrames(){return/*#__PURE__*/function(){var _ref=Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/regenerator_default.a.mark(function _callee(dispatch,getState){var _getState$game$gameOp,autoplay,engineUrl,gameId,turn,frame;return regenerator_default.a.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_getState$game$gameOp=getState().game.gameOptions,autoplay=_getState$game$gameOp.autoplay,engineUrl=_getState$game$gameOp.engine,gameId=_getState$game$gameOp.game,turn=_getState$game$gameOp.turn;dispatch(actions_requestFrames());_context.prev=2;_context.next=5;return streamAllEvents(engineUrl,gameId,function(game,eventType,eventData){if(eventType===\"frame\"){var frame=eventData;// Workaround for bug where turn exluded on turn 0\n// Workaround for bug where turn exluded on turn 0\nframe.Turn=frame.Turn||0;dispatch(actions_receiveFrame(game,frame));// Workaround to render the first frame into the board\n// Workaround to render the first frame into the board\nif(frame.Turn===0){var _frame=getState().game.frames[0];dispatch(actions_setCurrentFrame(_frame));if(autoplay){dispatch(actions_resumeGame());dispatch(actions_playFromFrame(_frame));}}}else if(eventType===\"game_end\"){var numFrames=getState().game.frames.length;var _frame2=getState().game.frames[numFrames-1];_frame2.gameOver=true;dispatch(actions_receiveEventEnd(game,eventData,_frame2));}});case 5:_context.next=11;break;case 7:_context.prev=7;_context.t0=_context[\"catch\"](2);console.log(_context.t0);return _context.abrupt(\"return\",dispatch(actions_gameNotFound()));case 11:// Only navigate to the specified frame if it is within the\n// amount of frames available in the game\nif(turn&&turn<=getState().game.frames.length){frame=getState().game.frames[turn];dispatch(actions_setCurrentFrame(frame));}case 12:case\"end\":return _context.stop();}}},_callee,null,[[2,7]]);}));return function(_x,_x2){return _ref.apply(this,arguments);};}();};var actions_playFromFrame=function playFromFrame(frame){return/*#__PURE__*/function(){var _ref2=Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/regenerator_default.a.mark(function _callee2(dispatch,getState){var frameRate,frames,frameIndex,slicedFrames,ceiledFps,delayMillis,_iterator,_step,_frame4,lastFrame,_frame3;return regenerator_default.a.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:frameRate=getState().game.gameOptions.frameRate;frames=getState().game.frames.slice();// Don't modify in place\nframeIndex=frames.indexOf(frame);slicedFrames=frames.slice(frameIndex);ceiledFps=Math.ceil(frameRate||DEFAULT_FRAMERATE);delayMillis=1000/ceiledFps;_iterator=Object(createForOfIteratorHelper[\"a\" /* default */])(slicedFrames);_context2.prev=7;_iterator.s();case 9:if((_step=_iterator.n()).done){_context2.next=18;break;}_frame4=_step.value;if(!getState().game.paused){_context2.next=13;break;}return _context2.abrupt(\"return\");case 13:dispatch(actions_setCurrentFrame(_frame4));_context2.next=16;return delay(delayMillis);case 16:_context2.next=9;break;case 18:_context2.next=23;break;case 20:_context2.prev=20;_context2.t0=_context2[\"catch\"](7);_iterator.e(_context2.t0);case 23:_context2.prev=23;_iterator.f();return _context2.finish(23);case 26:lastFrame=slicedFrames[slicedFrames.length-1];if(lastFrame.gameOver){if(!getState().game.paused){if(getState().game.gameOptions.loop){_frame3=getFrameByTurn(frames,0);dispatch(playFromFrame(_frame3));}else{dispatch(actions_gameOver());}}}else{dispatch(playFromFrame(lastFrame));}case 28:case\"end\":return _context2.stop();}}},_callee2,null,[[7,20,23,26]]);}));return function(_x3,_x4){return _ref2.apply(this,arguments);};}();};var actions_reloadGame=function reloadGame(){return/*#__PURE__*/function(){var _ref3=Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/regenerator_default.a.mark(function _callee3(dispatch,getState){var _getState$game,frames,paused,frame;return regenerator_default.a.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:_getState$game=getState().game,frames=_getState$game.frames,paused=_getState$game.paused;if(paused){frame=getFrameByTurn(frames,0);dispatch(actions_setCurrentFrame(frame));}case 2:case\"end\":return _context3.stop();}}},_callee3);}));return function(_x5,_x6){return _ref3.apply(this,arguments);};}();};var actions_toggleGamePause=function toggleGamePause(){return/*#__PURE__*/function(){var _ref4=Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/regenerator_default.a.mark(function _callee4(dispatch,getState){var _getState$game2,currentFrame,paused;return regenerator_default.a.wrap(function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:_getState$game2=getState().game,currentFrame=_getState$game2.currentFrame,paused=_getState$game2.paused;if(paused){dispatch(actions_resumeGame());dispatch(actions_playFromFrame(currentFrame));}else{dispatch(actions_pauseGame());}case 2:case\"end\":return _context4.stop();}}},_callee4);}));return function(_x7,_x8){return _ref4.apply(this,arguments);};}();};var actions_pauseGameAction=function pauseGameAction(){return/*#__PURE__*/function(){var _ref5=Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/regenerator_default.a.mark(function _callee5(dispatch,getState){var paused;return regenerator_default.a.wrap(function _callee5$(_context5){while(1){switch(_context5.prev=_context5.next){case 0:paused=getState().game.paused;if(!paused){dispatch(actions_pauseGame());}case 2:case\"end\":return _context5.stop();}}},_callee5);}));return function(_x9,_x10){return _ref5.apply(this,arguments);};}();};var actions_toggleTheme=function toggleTheme(themeToSet){return/*#__PURE__*/function(){var _ref6=Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/regenerator_default.a.mark(function _callee6(dispatch){return regenerator_default.a.wrap(function _callee6$(_context6){while(1){switch(_context6.prev=_context6.next){case 0:dispatch(actions_setTheme(themeToSet));case 1:case\"end\":return _context6.stop();}}},_callee6);}));return function(_x11){return _ref6.apply(this,arguments);};}();};var actions_stepForwardFrame=function stepForwardFrame(){return/*#__PURE__*/function(){var _ref7=Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/regenerator_default.a.mark(function _callee7(dispatch,getState){var _getState$game3,currentFrame,frames,nextFrame,stepToFrame;return regenerator_default.a.wrap(function _callee7$(_context7){while(1){switch(_context7.prev=_context7.next){case 0:_getState$game3=getState().game,currentFrame=_getState$game3.currentFrame,frames=_getState$game3.frames;nextFrame=currentFrame.turn+1;stepToFrame=getFrameByTurn(frames,nextFrame);if(stepToFrame){dispatch(actions_setCurrentFrame(stepToFrame));}case 4:case\"end\":return _context7.stop();}}},_callee7);}));return function(_x12,_x13){return _ref7.apply(this,arguments);};}();};var actions_stepBackwardFrame=function stepBackwardFrame(){return/*#__PURE__*/function(){var _ref8=Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/regenerator_default.a.mark(function _callee8(dispatch,getState){var _getState$game4,currentFrame,frames,prevFrame,stepToFrame;return regenerator_default.a.wrap(function _callee8$(_context8){while(1){switch(_context8.prev=_context8.next){case 0:_getState$game4=getState().game,currentFrame=_getState$game4.currentFrame,frames=_getState$game4.frames;prevFrame=currentFrame.turn-1;stepToFrame=getFrameByTurn(frames,prevFrame);if(stepToFrame){dispatch(actions_setCurrentFrame(stepToFrame));}case 4:case\"end\":return _context8.stop();}}},_callee8);}));return function(_x14,_x15){return _ref8.apply(this,arguments);};}();};var actions_stepToTurn=function stepToTurn(turn){return/*#__PURE__*/function(){var _ref9=Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/regenerator_default.a.mark(function _callee9(dispatch,getState){var frames,stepToFrame;return regenerator_default.a.wrap(function _callee9$(_context9){while(1){switch(_context9.prev=_context9.next){case 0:frames=getState().game.frames;stepToFrame=getFrameByTurn(frames,turn);if(stepToFrame){dispatch(actions_setCurrentFrame(stepToFrame));}case 3:case\"end\":return _context9.stop();}}},_callee9);}));return function(_x16,_x17){return _ref9.apply(this,arguments);};}();};var actions_togglePlayButtons=function togglePlayButtons(showHide){return{type:TOGGLE_SETTINGS_VIEW,showHide:showHide};};var actions_themeChanged=function themeChanged(theme){return{type:THEME_CHANGED,theme:theme};};\n// CONCATENATED MODULE: ./src/components/game/GamePage.jsx\nvar GamePage_options=parseQueryString(window.location.search);if(typeof GamePage_options.autoplay!==\"undefined\"){GamePage_options.autoplay=GamePage_options.autoplay===\"true\";}if(typeof GamePage_options.showFrameScrubber!==\"undefined\"){GamePage_options.showFrameScrubber=GamePage_options.showFrameScrubber===\"true\";}var GamePage_mapStateToProps=function mapStateToProps(state){var gameState=state.game;var settings=state.settings;return{options:Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},settings),GamePage_options),ruleset:gameState.ruleset,grid:gameState.grid,gameNotFound:gameState.gameNotFound,paused:gameState.paused,currentFrame:gameState.currentFrame,frames:gameState.frames,highlightedSnake:gameState.highlightedSnake,theme:GamePage_options.boardTheme||settings.theme,hasAllFrames:!!gameState.endEvent};};var GamePage_mapDispatchToProps=function mapDispatchToProps(dispatch){return{setGameOptions:function setGameOptions(options){return dispatch(actions_setGameOptions(options));},fetchFrames:function fetchFrames(){return dispatch(actions_fetchFrames());},toggleTheme:function toggleTheme(theme){return dispatch(actions_toggleTheme(theme));},reloadGame:function reloadGame(){return dispatch(actions_reloadGame());},toggleGamePause:function toggleGamePause(paused){return dispatch(actions_toggleGamePause(paused));},pauseGame:function pauseGame(){return dispatch(actions_pauseGameAction());},stepForwardFrame:function stepForwardFrame(){return dispatch(actions_stepForwardFrame());},stepBackwardFrame:function stepBackwardFrame(){return dispatch(actions_stepBackwardFrame());},stepToTurn:function stepToTurn(i){return dispatch(actions_stepToTurn(i));},highlightSnake:function highlightSnake(snakeId){return dispatch(actions_highlightSnake(snakeId));},togglePlayButtons:function togglePlayButtons(showHide){return dispatch(actions_togglePlayButtons(showHide));}};};/* harmony default export */ var GamePage = (Object(es[\"b\" /* connect */])(GamePage_mapStateToProps,GamePage_mapDispatchToProps)(components_game));\n// EXTERNAL MODULE: ./node_modules/@reduxjs/toolkit/dist/redux-toolkit.esm.js + 4 modules\nvar redux_toolkit_esm = __webpack_require__(26);\n\n// CONCATENATED MODULE: ./src/app/storage.js\nfunction storageAvailable(type){var storage;try{storage=window[type];var x=\"__storage_test__\";storage.setItem(x,x);storage.removeItem(x);return true;}catch(e){return(e instanceof DOMException&&// everything except Firefox\ne.code===22||// Firefox\ne.code===1014||// test name field too, because code might not be present\n// everything except Firefox\ne.name===\"QuotaExceededError\"||// Firefox\ne.name===\"NS_ERROR_DOM_QUOTA_REACHED\")&&// acknowledge QuotaExceededError only if there's something already stored\nstorage&&storage.length!==0;}}function getLocalSetting(key){if(storageAvailable(\"localStorage\")){return window.localStorage.getItem(key);}}function setLocalSetting(key,value){if(storageAvailable(\"localStorage\")){window.localStorage.setItem(key,value);}}function rehydrateLocalSettings(){var checkAutoplay=getLocalSetting(\"autoplay\");var checkShowFrameScrubber=getLocalSetting(\"showFrameScrubber\");var showCoordinateLabels=getLocalSetting(\"showCoordinateLabels\");if(typeof checkAutoplay===\"undefined\"){checkAutoplay=initialSettings.autoplay;}else{checkAutoplay=checkAutoplay===\"true\";}if(typeof checkShowFrameScrubber===\"undefined\"){checkShowFrameScrubber=initialSettings.showFrameScrubber;}else{checkShowFrameScrubber=checkShowFrameScrubber===\"true\";}if(typeof showCoordinateLabels===\"undefined\"){showCoordinateLabels=initialSettings.showCoordinateLabels;}else{showCoordinateLabels=showCoordinateLabels===\"true\";}return{frameRate:Number(getLocalSetting(\"frameRate\"))||DEFAULT_FRAMERATE,theme:getLocalSetting(\"theme\")||initialSettings.theme,showFrameScrubber:checkShowFrameScrubber,autoplay:checkAutoplay,showCoordinateLabels:showCoordinateLabels};}\n// CONCATENATED MODULE: ./src/components/settings/settings-slice.js\nvar settingsSlice=Object(redux_toolkit_esm[\"b\" /* createSlice */])({name:\"settings\",initialState:initialSettings,reducers:{frameRateUpdated:function frameRateUpdated(state,action){state.frameRate=action.payload;},themeSelected:function themeSelected(state,action){state.theme=action.payload;},autoPlayUpdated:function autoPlayUpdated(state,action){state.autoplay=action.payload;},showFrameScrubberUpdated:function showFrameScrubberUpdated(state,action){state.showFrameScrubber=action.payload;},showCoordinateLabelsUpdated:function showCoordinateLabelsUpdated(state,action){state.showCoordinateLabels=action.payload;}}});// toolkit generates the actions for us\nvar _settingsSlice$action=settingsSlice.actions,frameRateUpdated=_settingsSlice$action.frameRateUpdated,themeSelected=_settingsSlice$action.themeSelected,autoPlayUpdated=_settingsSlice$action.autoPlayUpdated,showFrameScrubberUpdated=_settingsSlice$action.showFrameScrubberUpdated,showCoordinateLabelsUpdated=_settingsSlice$action.showCoordinateLabelsUpdated;// The function below is called a selector and allows us to select a value from\n// the state. Selectors can also be defined inline where they're used instead of\n// in the slice file. For example: `useSelector((state: RootState) => state.counter.value)`\nvar currentFrameRate=function currentFrameRate(state){return state.settings.frameRate;};var currentTheme=function currentTheme(state){return state.settings.theme;};var currentAutoplay=function currentAutoplay(state){return state.settings.autoplay;};var currentShowFrameScrubber=function currentShowFrameScrubber(state){return state.settings.showFrameScrubber;};var currentShowCoordinateLabels=function currentShowCoordinateLabels(state){return state.settings.showCoordinateLabels;};function settingsStoreListener(state){if(state.settings.frameRate!==getLocalSetting(\"frameRate\")){setLocalSetting(\"frameRate\",state.settings.frameRate);}if(state.settings.theme!==getLocalSetting(\"theme\")){setLocalSetting(\"theme\",state.settings.theme);}if(state.settings.autoplay!==getLocalSetting(\"autoplay\")){setLocalSetting(\"autoplay\",state.settings.autoplay);}if(state.settings.showFrameScrubber!==getLocalSetting(\"showFrameScrubber\")){setLocalSetting(\"showFrameScrubber\",state.settings.showFrameScrubber);}if(state.settings.showCoordinateLabels!==getLocalSetting(\"showCoordinateLabels\")){setLocalSetting(\"showCoordinateLabels\",state.settings.showCoordinateLabels);}}/* harmony default export */ var settings_slice = (settingsSlice.reducer);\n// EXTERNAL MODULE: ./src/components/settings/playback/PlaybackSpeed.module.css\nvar PlaybackSpeed_module = __webpack_require__(37);\nvar PlaybackSpeed_module_default = /*#__PURE__*/__webpack_require__.n(PlaybackSpeed_module);\n\n// CONCATENATED MODULE: ./src/components/settings/playback/PlaybackSpeed.jsx\nvar SLIDER_SLOW=1;var SLIDER_MEDIUM=2;var SLIDER_FAST=3;var SPEED_SLOW=3;var SPEED_MEDIUM=DEFAULT_FRAMERATE;var SPEED_FAST=20;var speedRanges={SPEED_SLOW:{min:1,max:5},SPEED_MEDIUM:{min:6,max:12},SPEED_FAST:{min:13,max:20}};function valueChanged(e,changeHandler){var fps=SPEED_FAST;var sliderValue=e.target.valueAsNumber||e.target.value;if(sliderValue<=SLIDER_SLOW){fps=SPEED_SLOW;}else if(sliderValue<=SLIDER_MEDIUM){fps=SPEED_MEDIUM;}changeHandler.call(this,fps);}function defaultValueHandler(value){var defaultValue=SLIDER_MEDIUM;if(value<=speedRanges.SPEED_SLOW.max){defaultValue=SLIDER_SLOW;}else if(value>speedRanges.SPEED_MEDIUM.max){defaultValue=SLIDER_FAST;}return defaultValue;}var PlaybackSpeed_PlaybackSpeed=function PlaybackSpeed(props){return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(jsx_runtime[\"Fragment\"],{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{type:\"range\",min:SLIDER_SLOW,max:SLIDER_FAST,value:defaultValueHandler(props.default),onChange:function onChange(e){return valueChanged(e,props.onChange);}}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:PlaybackSpeed_module_default.a.labels,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"span\",{children:\"Slow\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"span\",{children:\"Medium\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"span\",{children:\"Fast\"})]})]});};/* harmony default export */ var playback_PlaybackSpeed = (PlaybackSpeed_PlaybackSpeed);\n// EXTERNAL MODULE: ./src/components/settings/SettingsPage.module.css\nvar SettingsPage_module = __webpack_require__(12);\nvar SettingsPage_module_default = /*#__PURE__*/__webpack_require__.n(SettingsPage_module);\n\n// CONCATENATED MODULE: ./src/components/settings/SettingsPage.jsx\nvar SettingsPage_SettingsPage=function SettingsPage(){var history=Object(react_router[\"f\" /* useHistory */])();var theme=Object(es[\"d\" /* useSelector */])(currentTheme);var playbackSpeed=Object(es[\"d\" /* useSelector */])(currentFrameRate);var autoplay=Object(es[\"d\" /* useSelector */])(currentAutoplay);var showFrameScrubber=Object(es[\"d\" /* useSelector */])(currentShowFrameScrubber);var showCoordinateLabels=Object(es[\"d\" /* useSelector */])(currentShowCoordinateLabels);var dispatch=Object(es[\"c\" /* useDispatch */])();Object(react[\"useEffect\"])(function(){dispatch(actions_togglePlayButtons(\"hide\"));dispatch(actions_pauseGame());});function dispatchSpeedChange(fps){dispatch(frameRateUpdated(fps));}return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"main\",{children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"section\",{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h2\",{children:\"Playback Settings\"}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"fieldset\",{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"legend\",{children:\"Playback Speed\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:SettingsPage_module_default.a.info,children:\"Adjust the playback speed of your games\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:SettingsPage_module_default.a.inputContainer,children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(playback_PlaybackSpeed,{default:playbackSpeed,onChange:dispatchSpeedChange})})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"fieldset\",{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"legend\",{children:\"Theme\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:SettingsPage_module_default.a.info,children:\"Change your game theme colors\"}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:SettingsPage_module_default.a.inputContainer&&SettingsPage_module_default.a.row,children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"label\",{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{type:\"radio\",value:\"light\",name:\"theme\",checked:theme===\"light\",onChange:function onChange(e){return dispatch(themeSelected(e.target.value))&&dispatch(actions_themeChanged(e.target.value));}}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"span\",{className:SettingsPage_module_default.a.radio}),\"Light\"]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"label\",{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{type:\"radio\",value:\"dark\",name:\"theme\",checked:theme===\"dark\",onChange:function onChange(e){return dispatch(themeSelected(e.target.value))&&dispatch(actions_themeChanged(e.target.value));}}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"span\",{className:SettingsPage_module_default.a.radio}),\"Projector\"]})]})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"fieldset\",{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"legend\",{children:\"Autoplay\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:SettingsPage_module_default.a.info,children:\"All games will start playing as soon as the game loads\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:SettingsPage_module_default.a.inputContainer,children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"label\",{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{type:\"checkbox\",name:\"autoplay\",checked:autoplay,onChange:function onChange(e){return dispatch(autoPlayUpdated(e.target.checked));}}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"span\",{className:SettingsPage_module_default.a.checkmark}),autoplay?\"On\":\"Off\"]})})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"fieldset\",{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"legend\",{children:\"Frame Scrubber [EXPERIMENTAL]\"}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:SettingsPage_module_default.a.info,children:[\"Display progress bar that shows current frame and allows quickly jumping to specific frames. \\xA0\",/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"a\",{href:\"https://github.com/BattlesnakeOfficial/feedback/discussions/171\",target:\"_blank\",rel:\"noreferrer\",children:\"Let us know what you think!\"})]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:SettingsPage_module_default.a.inputContainer,children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"label\",{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{type:\"checkbox\",name:\"showFrameScrubber\",checked:showFrameScrubber,onChange:function onChange(e){return dispatch(showFrameScrubberUpdated(e.target.checked));}}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"span\",{className:SettingsPage_module_default.a.checkmark}),showFrameScrubber?\"On\":\"Off\"]})})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"fieldset\",{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"legend\",{children:\"Show Coordinate Labels [EXPERIMENTAL]\"}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:SettingsPage_module_default.a.info,children:[\"Adds coordinate labels to the game board. \\xA0 These go from 0 to the width/height of the board to make it easier to debug games\",/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"a\",{href:\"https://github.com/orgs/BattlesnakeOfficial/discussions/231\",target:\"_blank\",rel:\"noreferrer\",children:\"Let us know what you think!\"})]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:SettingsPage_module_default.a.inputContainer,children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"label\",{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{type:\"checkbox\",name:\"showCoordinateLabels\",checked:showCoordinateLabels,onChange:function onChange(e){return dispatch(showCoordinateLabelsUpdated(e.target.checked));}}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"span\",{className:SettingsPage_module_default.a.checkmark}),showCoordinateLabels?\"On\":\"Off\"]})})]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"fieldset\",{className:SettingsPage_module_default.a.centered,children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{onClick:function onClick(){return history.goBack();},children:\"Return to Game\"})})]})});};/* harmony default export */ var settings_SettingsPage = (SettingsPage_SettingsPage);\n// EXTERNAL MODULE: ./src/App.css\nvar src_App = __webpack_require__(53);\n\n// CONCATENATED MODULE: ./src/App.jsx\nvar App_App=function App(){return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(react_router[\"c\" /* Switch */],{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router[\"a\" /* Route */],{path:\"/settings\",component:settings_SettingsPage}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router[\"a\" /* Route */],{component:GamePage})]});};/* harmony default export */ var src_App_0 = (App_App);\n// EXTERNAL MODULE: ./node_modules/lodash.clonedeep/index.js\nvar lodash_clonedeep = __webpack_require__(38);\nvar lodash_clonedeep_default = /*#__PURE__*/__webpack_require__.n(lodash_clonedeep);\n\n// CONCATENATED MODULE: ./src/utils/game-state.js\nvar DEFAULT_DIRECTION=\"right\";var TYPE_HEAD=\"head\";var TYPE_TAIL=\"tail\";var TYPE_BODY=\"body\";function formatFrame(frame){cleanFrame(frame);var snakes=formatSnakes(frame.Snakes);return{turn:frame.Turn,snakes:snakes,food:formatPositions(frame.Food),hazards:formatPositions(frame.Hazards)};}function sanitizeFrame(frame){// Copy without reference\nvar sanitizedFrame=lodash_clonedeep_default()(frame);// nullify some fields\nfor(var i in sanitizedFrame.snakes){var snake=sanitizedFrame.snakes[i];snake.id=snake._id;delete snake._id;delete snake.headSvg;delete snake.tailSvg;}return sanitizedFrame;}function formatSnakes(snakes){if(snakes){var newSnakes=snakes.map(formatSnake);// Populate eliminatedBy names\nnewSnakes.forEach(function(snake,index){if(snake.death&&snake.death.eliminatedBy&&snake.death.eliminatedBy.length>0){for(var i in newSnakes){if(newSnakes[i]._id===snake.death.eliminatedBy){newSnakes[index].death.eliminatedBy=newSnakes[i].name;break;}}}});return newSnakes;}}function formatSnake(snake){var renderedParts=snake.Body.filter(function(_,i){return shouldRenderPart(snake,i);});return{body:snake.Body.map(function(_,i){return formatSnakePart(snake,i);}),color:snake.Color,_id:snake.ID,name:snake.Name,effectiveSpace:renderedParts.length,health:snake.Health,latency:snake.Latency,error:snake.Error,timing:snake.TimingMicros,isDead:!!snake.Death,death:formatDeath(snake.Death),head:snake.HeadType&&snake.HeadType.toLowerCase(),tail:snake.TailType&&snake.TailType.toLowerCase(),headSvg:snake.HeadSvg,tailSvg:snake.TailSvg,squad:snake.Squad,author:snake.Author,shout:snake.Shout};}function formatDeath(death){if(!death){return;}return{cause:death.Cause,turn:death.Turn||0,eliminatedBy:death.EliminatedBy};}function shouldRenderPart(snake,partIndex){var headIndex=0;var tailIndex=snake.Body.length-1;var head=snake.Body[headIndex];var tail=snake.Body[tailIndex];var currPart=snake.Body[partIndex];// always render head\nif(partIndex===headIndex){return true;}// render tail if not covered by head\nif(partIndex===tailIndex){return!(head.X===currPart.X&&head.Y===currPart.Y);}// render middle part if it's in a different position than\n// the next piece closer to head, and not in same spot as tail\nvar nextPart=snake.Body[partIndex-1];return!(tail.X===currPart.X&&tail.Y===currPart.Y)&&!(head.X===currPart.X&&head.Y===currPart.Y)&&!(nextPart&&nextPart.X===currPart.X&&nextPart.Y===currPart.Y);}function formatSnakePart(snake,partIndex){var part=snake.Body[partIndex];var type=getType(snake,partIndex);var _formatPosition=formatPosition(part),x=_formatPosition.x,y=_formatPosition.y;var direction=formatDirection(type,snake,part,partIndex);var isOverlapped=!shouldRenderPart(snake,partIndex)?true:undefined;return{direction:direction,type:type,isOverlapped:isOverlapped,x:x,y:y};}function formatPositions(positions){if(positions){return positions.map(formatPosition);}}function formatPosition(pos){return{x:pos.X,y:pos.Y};}function formatDirection(type,snake,part,partIndex){var direction;if(type===\"head\"){direction=getDirection(snake.Body[1],snake.Body[0]);}else{// handle special case where parts overlap\nvar prevPart;do{prevPart=snake.Body[Math.max(partIndex-1,0)];--partIndex;}while(partIndex>0&&prevPart.X===part.X&&prevPart.Y===part.Y);direction=getDirection(part,prevPart);}return direction;}function getDirection(a,b){if(a&&b){// Handle cases where b is one move after a\nif(a.X+1===b.X){return\"right\";}else if(a.X-1===b.X){return\"left\";}else if(a.Y+1===b.Y){return\"up\";}else if(a.Y-1===b.Y){return\"down\";}// Handle wrapped cases (we can anchor against one part being on 0 axis)\nif(a.X>b.X&&b.X===0){return\"right\";}else if(a.X<b.X&&a.X===0){return\"left\";}else if(a.Y>b.Y&&b.Y===0){return\"up\";}else if(a.Y<b.Y&&a.Y===0){return\"down\";}}return DEFAULT_DIRECTION;}function getType(snake,partIndex){if(partIndex===0){return TYPE_HEAD;}if(partIndex===snake.Body.length-1){return TYPE_TAIL;}return TYPE_BODY;}// This is a workaround for fields that are omitted when they have the default\n// value. ie: int fields that need to default to 0 rather than undefined.\nfunction cleanFrame(frame){frame.Turn=frame.Turn||0;var _iterator=Object(createForOfIteratorHelper[\"a\" /* default */])(frame.Snakes),_step;try{for(_iterator.s();!(_step=_iterator.n()).done;){var snake=_step.value;var _iterator3=Object(createForOfIteratorHelper[\"a\" /* default */])(snake.Body),_step3;try{for(_iterator3.s();!(_step3=_iterator3.n()).done;){var part=_step3.value;part.X=part.X||0;part.Y=part.Y||0;}}catch(err){_iterator3.e(err);}finally{_iterator3.f();}}}catch(err){_iterator.e(err);}finally{_iterator.f();}var _iterator2=Object(createForOfIteratorHelper[\"a\" /* default */])(frame.Food),_step2;try{for(_iterator2.s();!(_step2=_iterator2.n()).done;){var food=_step2.value;food.X=food.X||0;food.Y=food.Y||0;}}catch(err){_iterator2.e(err);}finally{_iterator2.f();}}\n// CONCATENATED MODULE: ./src/reducers/index.js\nvar reducers_initialState={options:null,grid:[],frames:[],endEvent:{},paused:true,gameNotFound:false,highlightedSnake:null,theme:themes.light};var reducers_reducers=function reducers(){var state=arguments.length>0&&arguments[0]!==undefined?arguments[0]:reducers_initialState;var action=arguments.length>1?arguments[1]:undefined;switch(action.type){case SET_THEME:return Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},state),{},{theme:action.theme});case SET_GAME_OPTIONS:action.gameOptions.turn=parseInt(action.gameOptions.turn)||0;action.gameOptions.loop=action.gameOptions.loop&&action.gameOptions.loop===\"true\";return Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},state),{},{gameOptions:action.gameOptions});case GAME_NOT_FOUND:return Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},state),{},{gameNotFound:true});case PAUSE_GAME:return Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},state),{},{paused:true});case GAME_OVER:windowPostMessage({action:action.type,endEvent:action.endEvent});return Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},state),{},{paused:true});case RESUME_GAME:return Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},state),{},{paused:false});case SET_CURRENT_FRAME:windowPostMessage({action:action.type,frame:sanitizeFrame(action.frame)});return Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},state),{},{currentFrame:action.frame});case RECEIVE_FRAME:var frame=formatFrame(action.frame);return Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},state),{},{ruleset:action.game.Game.Ruleset,grid:{height:action.game.Game.Height,width:action.game.Game.Width},frames:[].concat(Object(toConsumableArray[\"a\" /* default */])(state.frames),[frame])// Be smart: this consumes A LOT of memory...\n});case RECEIVE_EVENT_END:return Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},state),{},{endEvent:action.endEvent,frames:[].concat(Object(toConsumableArray[\"a\" /* default */])(state.frames),[action.frame])});case REQUEST_FRAMES:return Object(objectSpread2[\"a\" /* default */])({},state);case FETCH_FRAMES:return Object(objectSpread2[\"a\" /* default */])({},state);case HIGHLIGHT_SNAKE:windowPostMessage({action:action.type,id:action.snakeId,name:action.snakeId?state.currentFrame.snakes.find(function(s){return s._id===action.snakeId;}).name:null});return Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},state),{},{highlightedSnake:action.snakeId});case TOGGLE_SETTINGS_VIEW:windowPostMessage({action:action.type,value:action.showHide});return Object(objectSpread2[\"a\" /* default */])({},state);case THEME_CHANGED:windowPostMessage({action:action.type,value:action.theme});return Object(objectSpread2[\"a\" /* default */])({},state);default:return Object(objectSpread2[\"a\" /* default */])({},state);}};function windowPostMessage(data){if(!window.parent){return;}try{window.parent.postMessage(data,\"*\");}catch(e){console.error(e);}}/* harmony default export */ var src_reducers = (reducers_reducers);\n// CONCATENATED MODULE: ./src/app/store.js\nfunction rehydrateInitialState(){var initialState={game:{options:null,grid:[],frames:[],endEvent:null,paused:true,gameNotFound:false,highlightedSnake:null,theme:themes.light},settings:initialSettings};if(storageAvailable(\"localStorage\")){initialState.settings=rehydrateLocalSettings();initialState.settings.persistAvailable=true;}else{console.info(\"Please enable localStorage for an improved experience that allows you to persist board settings.\");}return initialState;}var store=Object(redux_toolkit_esm[\"a\" /* configureStore */])({reducer:{game:src_reducers,settings:settings_slice},middleware:function middleware(getDefaultMiddleware){return getDefaultMiddleware({immutableCheck:false,serializableCheck:false});},preloadedState:rehydrateInitialState()});store.subscribe(function(){settingsStoreListener(store.getState());});/* harmony default export */ var app_store = (store);\n// EXTERNAL MODULE: ./node_modules/react-router-dom/esm/react-router-dom.js + 4 modules\nvar react_router_dom = __webpack_require__(25);\n\n// CONCATENATED MODULE: ./src/index.js\nObject(react_dom[\"render\"])(/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(es[\"a\" /* Provider */],{store:app_store,children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router_dom[\"a\" /* BrowserRouter */],{children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(src_App_0,{})})}),document.getElementById(\"root\"));\n\n/***/ })\n\n},[[55,1,2]]]);","inputSourceMap":{"version":3,"sources":["/home/y-yabust/CC/cc-replay/node_modules/mini-css-extract-plugin/dist/loader.js??ref--5-oneOf-5-0!/home/y-yabust/CC/cc-replay/node_modules/css-loader/dist/cjs.js??ref--5-oneOf-5-1!/home/y-yabust/CC/cc-replay/node_modules/postcss-loader/src/index.js??postcss!/home/y-yabust/CC/cc-replay/src/components/settings/SettingsPage.module.css","/home/y-yabust/CC/cc-replay/src/io/reconnecting-websocket.js","/home/y-yabust/CC/cc-replay/node_modules/mini-css-extract-plugin/dist/loader.js??ref--5-oneOf-5-0!/home/y-yabust/CC/cc-replay/node_modules/css-loader/dist/cjs.js??ref--5-oneOf-5-1!/home/y-yabust/CC/cc-replay/node_modules/postcss-loader/src/index.js??postcss!/home/y-yabust/CC/cc-replay/src/components/game/GamePage.module.css","/home/y-yabust/CC/cc-replay/node_modules/mini-css-extract-plugin/dist/loader.js??ref--5-oneOf-5-0!/home/y-yabust/CC/cc-replay/node_modules/css-loader/dist/cjs.js??ref--5-oneOf-5-1!/home/y-yabust/CC/cc-replay/node_modules/postcss-loader/src/index.js??postcss!/home/y-yabust/CC/cc-replay/src/components/settings/playback/PlaybackSpeed.module.css","/home/y-yabust/CC/cc-replay/node_modules/mini-css-extract-plugin/dist/loader.js??ref--5-oneOf-4-0!/home/y-yabust/CC/cc-replay/node_modules/css-loader/dist/cjs.js??ref--5-oneOf-4-1!/home/y-yabust/CC/cc-replay/node_modules/postcss-loader/src/index.js??postcss!/home/y-yabust/CC/cc-replay/src/components/scoreboard/error-message/ErrorMessage.css","/home/y-yabust/CC/cc-replay/node_modules/mini-css-extract-plugin/dist/loader.js??ref--5-oneOf-4-0!/home/y-yabust/CC/cc-replay/node_modules/css-loader/dist/cjs.js??ref--5-oneOf-4-1!/home/y-yabust/CC/cc-replay/node_modules/postcss-loader/src/index.js??postcss!/home/y-yabust/CC/cc-replay/src/components/scoreboard/avatar/Avatar.css","/home/y-yabust/CC/cc-replay/node_modules/mini-css-extract-plugin/dist/loader.js??ref--5-oneOf-4-0!/home/y-yabust/CC/cc-replay/node_modules/css-loader/dist/cjs.js??ref--5-oneOf-4-1!/home/y-yabust/CC/cc-replay/node_modules/postcss-loader/src/index.js??postcss!/home/y-yabust/CC/cc-replay/src/App.css","/home/y-yabust/CC/cc-replay/src/utils/url.js","/home/y-yabust/CC/cc-replay/src/components/blank-state.jsx","/home/y-yabust/CC/cc-replay/src/theme/index.js","/home/y-yabust/CC/cc-replay/src/components/loading-indicator.jsx","/home/y-yabust/CC/cc-replay/src/components/game-not-found.jsx","/home/y-yabust/CC/cc-replay/src/components/grid.jsx","/home/y-yabust/CC/cc-replay/src/components/board.jsx","/home/y-yabust/CC/cc-replay/src/io/websocket.js","/home/y-yabust/CC/cc-replay/src/utils/inline-svg.js","/home/y-yabust/CC/cc-replay/src/utils/engine-client.js","/home/y-yabust/CC/cc-replay/src/components/scoreboard/error-message/ErrorMessage.jsx","/home/y-yabust/CC/cc-replay/src/components/scoreboard/status-indicator/StatusIndicator.jsx","/home/y-yabust/CC/cc-replay/src/components/avatar.jsx","/home/y-yabust/CC/cc-replay/src/components/scoreboard.jsx","/home/y-yabust/CC/cc-replay/src/components/mediaControls.jsx","/home/y-yabust/CC/cc-replay/src/components/logo.jsx","/home/y-yabust/CC/cc-replay/src/components/game.jsx","/home/y-yabust/CC/cc-replay/src/actions/action-types.js","/home/y-yabust/CC/cc-replay/src/components/settings/defaults.js","/home/y-yabust/CC/cc-replay/src/actions/index.js","/home/y-yabust/CC/cc-replay/src/components/game/GamePage.jsx","/home/y-yabust/CC/cc-replay/src/app/storage.js","/home/y-yabust/CC/cc-replay/src/components/settings/settings-slice.js","/home/y-yabust/CC/cc-replay/src/components/settings/playback/PlaybackSpeed.jsx","/home/y-yabust/CC/cc-replay/src/components/settings/SettingsPage.jsx","/home/y-yabust/CC/cc-replay/src/App.jsx","/home/y-yabust/CC/cc-replay/src/utils/game-state.js","/home/y-yabust/CC/cc-replay/src/reducers/index.js","/home/y-yabust/CC/cc-replay/src/app/store.js","/home/y-yabust/CC/cc-replay/src/index.js"],"names":["global","factory","define","window","ReconnectingWebSocket","url","protocols","options","settings","debug","automaticOpen","reconnectInterval","maxReconnectInterval","reconnectDecay","timeoutInterval","maxReconnectAttempts","binaryType","key","reconnectAttempts","readyState","WebSocket","CONNECTING","protocol","self","ws","forcedClose","timedOut","eventTarget","document","createElement","addEventListener","event","onopen","onclose","onconnecting","onmessage","onerror","bind","removeEventListener","dispatchEvent","generateEvent","s","args","evt","createEvent","initCustomEvent","open","reconnectAttempt","debugAll","console","localWs","timeout","setTimeout","close","clearTimeout","OPEN","e","isReconnect","CLOSED","code","reason","wasClean","Math","pow","data","send","refresh","prototype","CLOSING","parseQueryString","q","length","substr","split","map","parseArg","href","location","lastIndexOf","reduce","result","arg","value","a","parts","undefined","decodeURIComponent","makeQueryString","query","sep","httpToWsProtocol","mappings","http","https","from","to","Error","join","joinPair","b","cleanA","replace","cleanB","current","next","BlankState","React","Component","colors","pageBackground","gridDot","gridCellBackground","gridCellBackgroundDark","food","hazard","hazardOpacity","overlapSnake","healthBar","healthBarBackground","healthBarOutline","healthBarDeathBackground","healthBarDeathBackgroundDark","avatarHoverBorder","avatarHighlightedBorder","lightText","darkText","blue","indigo","purple","pink","red","orange","yellow","green","teal","cyan","white","gray","grayLight","grayDark","primary","secondary","success","info","warning","danger","light","dark","breakpoints","sm","md","lg","xl","xxl","themes","LoadingIndicatorWrapper","styled","display","alignItems","justifyContent","height","width","LoadingIndicator","color","NotFoundWrapper","GameNotFound","HIGHLIGHT_DIM","DEAD_OPACITY","OVERLAP_OPACITY","SNAKE_ON_SNAKE_OPACITY","FULL_OPACITY","CELL_SIZE","CELL_SPACING","FOOD_SIZE","toFixed","END_OVERLAP","DIRECTIONS_CW","GRID_ROWS","toGridSpaceX","slot","toGridSpaceY","getPartWidth","part","extraWidth","direction","getPartHeight","extraHeight","getPartXOffset","xBias","x","getPartYOffset","yBias","y","getCornerPartXOffset","type","getCornerPartYOffset","getTailXOffset","getTailYOffset","getHeadXOffset","getHeadYOffset","getHeadFillerXOffset","getHeadFillerYOffset","getTailFillerXOffset","getTailFillerYOffset","getFillerWidth","getFillerHeight","getOpacity","snake","highlightedSnake","isDead","_id","getPartOpacity","shadeForOverlap","isOverlapped","getPartColor","range","size","i","push","sortAliveSnakesOnTop","snakes","concat","sort","aOrder","bOrder","getHeadTransform","viewBox","halfX","halfY","getTailTransform","areAdjacentDirections","d1","d2","abs","indexOf","checkIfCornerPart","partIndex","body","behind","determineCornerType","isOverlappedByTail","head","Grid","snakeIndex","renderHeadPart","renderTailPart","renderCornerPart","renderMiddlePart","box","headSvg","baseVal","transform","viewBoxStr","opacity","__html","innerHTML","effectiveSpace","path","cornerType","tailSvg","row","col","label","fontSize","props","rows","_","renderLabel","columns","unsortedSnakes","hazards","sortedSnakes","gridCellsWithSnakeParts","Array","j","viewBoxWidth","viewBoxHeight","parseFloat","overflow","showCoordinateLabels","maxWidth","maxHeight","renderLabels","theme","reverse","renderPart","o","hazardIndex","f","foodIndex","foodImage","renderGrid","BOARD_SIZE","LABEL_ADJUSTMENT","Board","boardSize","turn","streamAll","receive","turns","done","Promise","resolve","reject","ReconnectingWebsocket","obj","JSON","parse","eventData","Data","Turn","loaded","doesntExist","loadSvgs","paths","all","requireSvg","getSvg","fetchSvg","fetch","response","text","svgText","svg","makeDom","wrapper","trim","firstChild","svgExists","exists","startsWith","warn","DEFAULT_SNAKE_HEAD","DEFAULT_SNAKE_TAIL","APP_VERSION","process","get","status","json","then","responseJson","error","delay","millis","getReadableCauseOfDeath","death","cause","eliminatedBy","getAllSvgs","HeadType","TailType","unique","Set","assignHeadAndTailUrls","getSnakeHeadSvgUrl","getSnakeTailSvgUrl","setHeadAndTailSvgs","HeadSvg","TailSvg","isIllegalSvgPath","nameOrPath","svgUrlFromName","base","relative","extension","effectivePath","prepareFrame","frame","Snakes","fetchGameInfo","baseUrl","gameId","streamAllEvents","receiveEvent","onEngineEvent","engineEvent","Type","chain","game","wsUrl","getFrameByTurn","frames","filter","errorColor","getIcon","ErrorMessage","message","toString","style","cursor","margin","padding","StatusIndicator","errorMessage","AvatarWrapper","isEliminated","Name","textShadow","Length","marginLeft","AuthorWrapper","fontWeight","flexDirection","Author","flexGrow","Latency","latency","HealthBarWrapper","marginTop","background","borderRadius","HealthBar","backgroundColor","CauseOfDeath","lineHeight","Avatar","state","showError","name","author","health","highlighted","orderSnakes","aliveSnakes","aLower","toLowerCase","bLower","deadSnakes","Wrapper","hide","Scoreboard","toggleHighlight","getSnakeToHighlight","highlightSnake","setState","MediaControlsWrapper","KeyboardShortcutsWrapper","position","ShortcutsPane","ButtonWrapper","Button","Scrubber","MediaControls","paneHidden","handleParentKeyboardEvent","handleKeyEvent","keyboardCodeMap","handleReload","reloadGame","handlePlayPause","toggleGamePause","handleBackward","stepBackwardFrame","handleForward","stepForwardFrame","handleScrubMouseDown","pauseGame","handleScrubbing","stepToTurn","parseInt","target","handleSettings","persistAvailable","history","handleShortcutPaneShowToggle","preventDefault","KeyR","ArrowLeft","ArrowRight","Space","Settings","renderControls","hasAllFrames","currentFrame","max","maxTurn","showFrameScrubber","hideControls","paused","settingsInfo","renderScrubbing","Object","values","withRouter","SVGWrapper","SVGLogo","StyledLogo","BoardTitle","textAlign","textTransform","HeaderWrapper","LogoWrapper","TurnCount","TurnCountValue","BoardWrapper","hideScoreboard","ScoreboardWrapper","Ruleset","Game","togglePlayButtons","toggleTheme","invalidArgs","hideLogo","title","setGameOptions","fetchFrames","gameNotFound","renderGame","styles","grid","hideMediaControls","ruleset","SET_GAME_OPTIONS","SET_THEME","GAME_OVER","GAME_NOT_FOUND","FETCH_FRAMES","REQUEST_FRAMES","RECEIVE_FRAME","SET_CURRENT_FRAME","PAUSE_GAME","RESUME_GAME","HIGHLIGHT_SNAKE","RECEIVE_EVENT_END","TOGGLE_SETTINGS_VIEW","THEME_CHANGED","DEFAULT_FRAMERATE","initialSettings","frameRate","autoplay","gameOptions","types","setTheme","gameOver","requestFrames","receiveFrame","receiveEventEnd","endEvent","setCurrentFrame","resumeGame","snakeId","dispatch","getState","engineUrl","engine","eventType","playFromFrame","numFrames","log","slice","frameIndex","slicedFrames","ceiledFps","ceil","delayMillis","lastFrame","loop","pauseGameAction","themeToSet","nextFrame","stepToFrame","prevFrame","showHide","themeChanged","search","mapStateToProps","gameState","boardTheme","mapDispatchToProps","connect","storageAvailable","storage","setItem","removeItem","DOMException","getLocalSetting","localStorage","getItem","setLocalSetting","rehydrateLocalSettings","checkAutoplay","checkShowFrameScrubber","Number","settingsSlice","createSlice","initialState","reducers","frameRateUpdated","action","payload","themeSelected","autoPlayUpdated","showFrameScrubberUpdated","showCoordinateLabelsUpdated","actions","currentFrameRate","currentTheme","currentAutoplay","currentShowFrameScrubber","currentShowCoordinateLabels","settingsStoreListener","reducer","SLIDER_SLOW","SLIDER_MEDIUM","SLIDER_FAST","SPEED_SLOW","SPEED_MEDIUM","SPEED_FAST","speedRanges","min","valueChanged","changeHandler","fps","sliderValue","valueAsNumber","call","defaultValueHandler","defaultValue","PlaybackSpeed","default","onChange","labels","SettingsPage","useHistory","useSelector","playbackSpeed","useDispatch","useEffect","dispatchSpeedChange","inputContainer","radio","checked","checkmark","centered","goBack","App","GamePage","DEFAULT_DIRECTION","TYPE_HEAD","TYPE_TAIL","TYPE_BODY","formatFrame","cleanFrame","formatSnakes","formatPositions","Food","Hazards","sanitizeFrame","sanitizedFrame","cloneDeep","id","newSnakes","formatSnake","forEach","index","renderedParts","Body","shouldRenderPart","formatSnakePart","Color","ID","Health","timing","TimingMicros","Death","formatDeath","tail","squad","Squad","shout","Shout","Cause","EliminatedBy","headIndex","tailIndex","currPart","X","Y","nextPart","getType","formatPosition","formatDirection","positions","pos","getDirection","prevPart","windowPostMessage","Height","Width","find","parent","postMessage","rehydrateInitialState","store","configureStore","rootReducer","settingsReducer","middleware","getDefaultMiddleware","immutableCheck","serializableCheck","preloadedState","subscribe","render","getElementById"],"mappings":";;;;;AAAA;AACA,kBAAkB,mP;;;;;;;ACDlB,oH,CAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GACA,CAAC,SAASA,MAAT,CAAiBC,OAAjB,CAA0B,CACzB,GAAI,IAAJ,CAAgD,CAC9CC,iCAAO,EAAD,oCAAKD,OAAL;AAAA;AAAA;AAAA,oGAAN,CACD,CAFD,IAEO,GAKR,CARD,EAQG,IARH,CAQS,UAAW,CAClB,GAAI,EAAE,aAAeE,OAAjB,CAAJ,CAA8B,CAC5B,OACD,CAED,QAASC,sBAAT,CAA+BC,GAA/B,CAAoCC,SAApC,CAA+CC,OAA/C,CAAwD,CACtD;AACA,GAAIC,SAAQ,CAAG,CACb,uDACAC,KAAK,CAAE,KAFM,CAIb,6FACAC,aAAa,CAAE,IALF,CAOb,0EACAC,iBAAiB,CAAE,IARN,CASb,0EACAC,oBAAoB,CAAE,KAVT,CAWb,gHACAC,cAAc,CAAE,GAZH,CAcb,wGACAC,eAAe,CAAE,IAfJ,CAiBb,8EACAC,oBAAoB,CAAE,IAlBT,CAoBb,gFACAC,UAAU,CAAE,MArBC,CAAf,CAuBA,GAAI,CAACT,OAAL,CAAc,CACZA,OAAO,CAAG,EAAV,CACD,CAED;AACA,IAAK,GAAIU,IAAT,GAAgBT,SAAhB,CAA0B,CACxB,GAAI,MAAOD,QAAO,CAACU,GAAD,CAAd,GAAwB,WAA5B,CAAyC,CACvC,KAAKA,G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","file":"x","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"info\":\"SettingsPage_info__hnKuB\",\"inputContainer\":\"SettingsPage_inputContainer__OMy_9\",\"row\":\"SettingsPage_row__FjkX8\",\"centered\":\"SettingsPage_centered__2a9Zh\",\"checkmark\":\"SettingsPage_checkmark__1GbZH\",\"radio\":\"SettingsPage_radio__2oWfC\"};","/* eslint-disable */\n\n// MIT License:\n//\n// Copyright (c) 2010-2012, Joe Walnes\n//\n// Permission is hereby granted, free of charge, to any person obtaining a copy\n// of this software and associated documentation files (the \"Software\"), to deal\n// in the Software without restriction, including without limitation the rights\n// to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n// copies of the Software, and to permit persons to whom the Software is\n// furnished to do so, subject to the following conditions:\n//\n// The above copyright notice and this permission notice shall be included in\n// all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n// IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n// FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n// AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n// LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n// OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n// THE SOFTWARE.\n\n/**\n * This behaves like a WebSocket in every way, except if it fails to connect,\n * or it gets disconnected, it will repeatedly poll until it successfully connects\n * again.\n *\n * It is API compatible, so when you have:\n *   ws = new WebSocket('ws://....');\n * you can replace with:\n *   ws = new ReconnectingWebSocket('ws://....');\n *\n * The event stream will typically look like:\n *  onconnecting\n *  onopen\n *  onmessage\n *  onmessage\n *  onclose // lost connection\n *  onconnecting\n *  onopen  // sometime later...\n *  onmessage\n *  onmessage\n *  etc...\n *\n * It is API compatible with the standard WebSocket API, apart from the following members:\n *\n * - `bufferedAmount`\n * - `extensions`\n * - `binaryType`\n *\n * Latest version: https://github.com/joewalnes/reconnecting-websocket/\n * - Joe Walnes\n *\n * Syntax\n * ======\n * var socket = new ReconnectingWebSocket(url, protocols, options);\n *\n * Parameters\n * ==========\n * url - The url you are connecting to.\n * protocols - Optional string or array of protocols.\n * options - See below\n *\n * Options\n * =======\n * Options can either be passed upon instantiation or set after instantiation:\n *\n * var socket = new ReconnectingWebSocket(url, null, { debug: true, reconnectInterval: 4000 });\n *\n * or\n *\n * var socket = new ReconnectingWebSocket(url);\n * socket.debug = true;\n * socket.reconnectInterval = 4000;\n *\n * debug\n * - Whether this instance should log debug messages. Accepts true or false. Default: false.\n *\n * automaticOpen\n * - Whether or not the websocket should attempt to connect immediately upon instantiation. The socket can be manually opened or closed at any time using ws.open() and ws.close().\n *\n * reconnectInterval\n * - The number of milliseconds to delay before attempting to reconnect. Accepts integer. Default: 1000.\n *\n * maxReconnectInterval\n * - The maximum number of milliseconds to delay a reconnection attempt. Accepts integer. Default: 30000.\n *\n * reconnectDecay\n * - The rate of increase of the reconnect delay. Allows reconnect attempts to back off when problems persist. Accepts integer or float. Default: 1.5.\n *\n * timeoutInterval\n * - The maximum time in milliseconds to wait for a connection to succeed before closing and retrying. Accepts integer. Default: 2000.\n *\n */\n(function(global, factory) {\n  if (typeof define === \"function\" && define.amd) {\n    define([], factory);\n  } else if (typeof module !== \"undefined\" && module.exports) {\n    module.exports = factory();\n  } else {\n    global.ReconnectingWebSocket = factory();\n  }\n})(this, function() {\n  if (!(\"WebSocket\" in window)) {\n    return;\n  }\n\n  function ReconnectingWebSocket(url, protocols, options) {\n    // Default settings\n    var settings = {\n      /** Whether this instance should log debug messages. */\n      debug: false,\n\n      /** Whether or not the websocket should attempt to connect immediately upon instantiation. */\n      automaticOpen: true,\n\n      /** The number of milliseconds to delay before attempting to reconnect. */\n      reconnectInterval: 1000,\n      /** The maximum number of milliseconds to delay a reconnection attempt. */\n      maxReconnectInterval: 30000,\n      /** The rate of increase of the reconnect delay. Allows reconnect attempts to back off when problems persist. */\n      reconnectDecay: 1.5,\n\n      /** The maximum time in milliseconds to wait for a connection to succeed before closing and retrying. */\n      timeoutInterval: 2000,\n\n      /** The maximum number of reconnection attempts to make. Unlimited if null. */\n      maxReconnectAttempts: null,\n\n      /** The binary type, possible values 'blob' or 'arraybuffer', default 'blob'. */\n      binaryType: \"blob\"\n    };\n    if (!options) {\n      options = {};\n    }\n\n    // Overwrite and define settings with options if they exist.\n    for (var key in settings) {\n      if (typeof options[key] !== \"undefined\") {\n        this[key] = options[key];\n      } else {\n        this[key] = settings[key];\n      }\n    }\n\n    // These should be treated as read-only properties\n\n    /** The URL as resolved by the constructor. This is always an absolute URL. Read only. */\n    this.url = url;\n\n    /** The number of attempted reconnects since starting, or the last successful connection. Read only. */\n    this.reconnectAttempts = 0;\n\n    /**\n     * The current state of the connection.\n     * Can be one of: WebSocket.CONNECTING, WebSocket.OPEN, WebSocket.CLOSING, WebSocket.CLOSED\n     * Read only.\n     */\n    this.readyState = WebSocket.CONNECTING;\n\n    /**\n     * A string indicating the name of the sub-protocol the server selected; this will be one of\n     * the strings specified in the protocols parameter when creating the WebSocket object.\n     * Read only.\n     */\n    this.protocol = null;\n\n    // Private state variables\n\n    var self = this;\n    var ws;\n    var forcedClose = false;\n    var timedOut = false;\n    var eventTarget = document.createElement(\"div\");\n\n    // Wire up \"on*\" properties as event handlers\n\n    eventTarget.addEventListener(\"open\", function(event) {\n      self.onopen(event);\n    });\n    eventTarget.addEventListener(\"close\", function(event) {\n      self.onclose(event);\n    });\n    eventTarget.addEventListener(\"connecting\", function(event) {\n      self.onconnecting(event);\n    });\n    eventTarget.addEventListener(\"message\", function(event) {\n      self.onmessage(event);\n    });\n    eventTarget.addEventListener(\"error\", function(event) {\n      self.onerror(event);\n    });\n\n    // Expose the API required by EventTarget\n\n    this.addEventListener = eventTarget.addEventListener.bind(eventTarget);\n    this.removeEventListener = eventTarget.removeEventListener.bind(\n      eventTarget\n    );\n    this.dispatchEvent = eventTarget.dispatchEvent.bind(eventTarget);\n\n    /**\n     * This function generates an event that is compatible with standard\n     * compliant browsers and IE9 - IE11\n     *\n     * This will prevent the error:\n     * Object doesn't support this action\n     *\n     * http://stackoverflow.com/questions/19345392/why-arent-my-parameters-getting-passed-through-to-a-dispatched-event/19345563#19345563\n     * @param s String The name that the event should use\n     * @param args Object an optional object that the event will use\n     */\n    function generateEvent(s, args) {\n      var evt = document.createEvent(\"CustomEvent\");\n      evt.initCustomEvent(s, false, false, args);\n      return evt;\n    }\n\n    this.open = function(reconnectAttempt) {\n      ws = new WebSocket(self.url, protocols || []);\n      ws.binaryType = this.binaryType;\n\n      if (reconnectAttempt) {\n        if (\n          this.maxReconnectAttempts &&\n          this.reconnectAttempts > this.maxReconnectAttempts\n        ) {\n          return;\n        }\n      } else {\n        eventTarget.dispatchEvent(generateEvent(\"connecting\"));\n        this.reconnectAttempts = 0;\n      }\n\n      if (self.debug || ReconnectingWebSocket.debugAll) {\n        console.debug(\"ReconnectingWebSocket\", \"attempt-connect\", self.url);\n      }\n\n      var localWs = ws;\n      var timeout = setTimeout(function() {\n        if (self.debug || ReconnectingWebSocket.debugAll) {\n          console.debug(\n            \"ReconnectingWebSocket\",\n            \"connection-timeout\",\n            self.url\n          );\n        }\n        timedOut = true;\n        localWs.close();\n        timedOut = false;\n      }, self.timeoutInterval);\n\n      ws.onopen = function(event) {\n        clearTimeout(timeout);\n        if (self.debug || ReconnectingWebSocket.debugAll) {\n          console.debug(\"ReconnectingWebSocket\", \"onopen\", self.url);\n        }\n        self.protocol = ws.protocol;\n        self.readyState = WebSocket.OPEN;\n        self.reconnectAttempts = 0;\n        var e = generateEvent(\"open\");\n        e.isReconnect = reconnectAttempt;\n        reconnectAttempt = false;\n        eventTarget.dispatchEvent(e);\n      };\n\n      ws.onclose = function(event) {\n        clearTimeout(timeout);\n        ws = null;\n        if (forcedClose) {\n          self.readyState = WebSocket.CLOSED;\n          eventTarget.dispatchEvent(generateEvent(\"close\"));\n        } else {\n          self.readyState = WebSocket.CONNECTING;\n          var e = generateEvent(\"connecting\");\n          e.code = event.code;\n          e.reason = event.reason;\n          e.wasClean = event.wasClean;\n          eventTarget.dispatchEvent(e);\n          if (!reconnectAttempt && !timedOut) {\n            if (self.debug || ReconnectingWebSocket.debugAll) {\n              console.debug(\"ReconnectingWebSocket\", \"onclose\", self.url);\n            }\n            eventTarget.dispatchEvent(generateEvent(\"close\"));\n          }\n\n          var timeout =\n            self.reconnectInterval *\n            Math.pow(self.reconnectDecay, self.reconnectAttempts);\n          setTimeout(\n            function() {\n              self.reconnectAttempts++;\n              self.open(true);\n            },\n            timeout > self.maxReconnectInterval\n              ? self.maxReconnectInterval\n              : timeout\n          );\n        }\n      };\n      ws.onmessage = function(event) {\n        if (self.debug || ReconnectingWebSocket.debugAll) {\n          console.debug(\n            \"ReconnectingWebSocket\",\n            \"onmessage\",\n            self.url,\n            event.data\n          );\n        }\n        var e = generateEvent(\"message\");\n        e.data = event.data;\n        eventTarget.dispatchEvent(e);\n      };\n      ws.onerror = function(event) {\n        if (self.debug || ReconnectingWebSocket.debugAll) {\n          console.debug(\"ReconnectingWebSocket\", \"onerror\", self.url, event);\n        }\n        eventTarget.dispatchEvent(generateEvent(\"error\"));\n      };\n    };\n\n    // Whether or not to create a websocket upon instantiation\n    if (this.automaticOpen == true) {\n      this.open(false);\n    }\n\n    /**\n     * Transmits data to the server over the WebSocket connection.\n     *\n     * @param data a text string, ArrayBuffer or Blob to send to the server.\n     */\n    this.send = function(data) {\n      if (ws) {\n        if (self.debug || ReconnectingWebSocket.debugAll) {\n          console.debug(\"ReconnectingWebSocket\", \"send\", self.url, data);\n        }\n        return ws.send(data);\n      } else {\n        throw \"INVALID_STATE_ERR : Pausing to reconnect websocket\";\n      }\n    };\n\n    /**\n     * Closes the WebSocket connection or connection attempt, if any.\n     * If the connection is already CLOSED, this method does nothing.\n     */\n    this.close = function(code, reason) {\n      // Default CLOSE_NORMAL code\n      if (typeof code == \"undefined\") {\n        code = 1000;\n      }\n      forcedClose = true;\n      if (ws) {\n        ws.close(code, reason);\n      }\n    };\n\n    /**\n     * Additional public API method to refresh the connection if still open (close, re-open).\n     * For example, if the app suspects bad data / missed heart beats, it can try to refresh.\n     */\n    this.refresh = function() {\n      if (ws) {\n        ws.close();\n      }\n    };\n  }\n\n  /**\n   * An event listener to be called when the WebSocket connection's readyState changes to OPEN;\n   * this indicates that the connection is ready to send and receive data.\n   */\n  ReconnectingWebSocket.prototype.onopen = function(event) {};\n  /** An event listener to be called when the WebSocket connection's readyState changes to CLOSED. */\n  ReconnectingWebSocket.prototype.onclose = function(event) {};\n  /** An event listener to be called when a connection begins being attempted. */\n  ReconnectingWebSocket.prototype.onconnecting = function(event) {};\n  /** An event listener to be called when a message is received from the server. */\n  ReconnectingWebSocket.prototype.onmessage = function(event) {};\n  /** An event listener to be called when an error occurs. */\n  ReconnectingWebSocket.prototype.onerror = function(event) {};\n\n  /**\n   * Whether all instances of ReconnectingWebSocket should log debug messages.\n   * Setting this to true is the equivalent of setting all instances of ReconnectingWebSocket.debug to true.\n   */\n  ReconnectingWebSocket.debugAll = false;\n\n  ReconnectingWebSocket.CONNECTING = WebSocket.CONNECTING;\n  ReconnectingWebSocket.OPEN = WebSocket.OPEN;\n  ReconnectingWebSocket.CLOSING = WebSocket.CLOSING;\n  ReconnectingWebSocket.CLOSED = WebSocket.CLOSED;\n\n  return ReconnectingWebSocket;\n});\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"game\":\"GamePage_game__3S4Mj\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"labels\":\"PlaybackSpeed_labels__3XxZA\"};","// extracted by mini-css-extract-plugin","// extracted by mini-css-extract-plugin","// extracted by mini-css-extract-plugin","// Creates a dictionary of parameters based on the given query string. q should\n// look like \"?foo=bar&thing=blah\".\nexport function parseQueryString(q) {\n  if (!q || !q.length) {\n    return {};\n  }\n\n  // Array of key/value pairs\n  const args = q\n    .substr(1)\n    .split(\"&\")\n    .map(parseArg);\n\n  //?game_idでアクセス可能\n  const href = window.location.href;\n  args[\"engine\"] = href.substr(0, href.lastIndexOf(\"/\") + 1);\n\n  // Convert to object\n  return args.reduce((result, arg) => {\n    result[arg.key] = arg.value;\n    return result;\n  }, {});\n}\n// Converts “asdf=qwer” to { asdf: “qwer” } or “asdf” to { asdf: true }. The\n// latter example is to allow switch-like parameters like ?enableThing without\n// an equals sign.\nfunction parseArg(a) {\n  const parts = a.split(\"=\");\n  const key = parts[0];\n  const value = parts[1] === undefined ? true : decodeURIComponent(parts[1]);\n  return { key, value };\n}\n\n// Converts { a: \"aaa\", b: \"bbb\" } to \"?a=aaa&b=bbb\"\nexport function makeQueryString(query) {\n  if (!query) {\n    return \"\";\n  }\n\n  let sep = \"?\";\n  let result = \"\";\n\n  for (const key in query) {\n    const value = query[key];\n    result += `${sep}${key}=${value}`;\n    sep = \"&\";\n  }\n  return result;\n}\n\n// Converts http://foo to ws://foo or https://foo to wss://foo\nexport function httpToWsProtocol(url) {\n  const mappings = {\n    http: \"ws\",\n    https: \"wss\"\n  };\n\n  for (const from in mappings) {\n    const to = mappings[from];\n    if (url.substr(0, from.length + 1) === from + \":\") {\n      return to + url.substr(from.length);\n    }\n  }\n\n  throw new Error(\"Invalid URL: \" + url);\n}\n\n// Joins path components and makes sure there is exactly one '/' separating\n// them.\nexport function join(...parts) {\n  function joinPair(a, b) {\n    const cleanA = a.replace(/\\/+$/, \"\");\n    const cleanB = b.replace(/^\\/+/, \"\");\n\n    if (cleanA === \"\") {\n      return cleanB;\n    }\n\n    if (cleanB === \"\") {\n      return cleanA;\n    }\n\n    return `${cleanA}/${cleanB}`;\n  }\n\n  return parts.reduce((current, next) => joinPair(current, next), \"\");\n}\n","import React from \"react\";\n\nclass BlankState extends React.Component {\n  render() {\n    return <div>ERROR: Specify a gameid</div>;\n  }\n}\n\nexport default BlankState;\n","export const colors = {\n  // Page\n  pageBackground: \"transparent\",\n\n  // Grid\n  gridDot: \"#6a208f\",\n  gridCellBackground: \"#f1f1f1\",\n  gridCellBackgroundDark: \"#D6D5EA\",\n  food: \"#ff5c75\",\n  hazard: \"#000000\",\n  hazardOpacity: \"0.3\",\n  overlapSnake: \"#AAAAAA\",\n\n  // Scoreboard\n  healthBar: \"#0f0\",\n  healthBarBackground: \"#fefefe\",\n  healthBarOutline: \"#666\",\n  healthBarDeathBackground: \"#f1f1f1\",\n  healthBarDeathBackgroundDark: \"#59526b\",\n  avatarHoverBorder: \"#888\",\n  avatarHighlightedBorder: \"#6f42c1\",\n\n  // Misc\n  lightText: \"#efefef\",\n  darkText: \"#424242\",\n\n  // Colour names (from theme)\n  blue: \"#007bff\",\n  indigo: \"#6610f2\",\n  purple: \"#6f42c1\",\n  pink: \"#e83e8c\",\n  red: \"#dc3545\",\n  orange: \"#fd7e14\",\n  yellow: \"#ffc107\",\n  green: \"#28a745\",\n  teal: \"#20c997\",\n  cyan: \"#17a2b8\",\n  white: \"#fff\",\n  gray: \"#6c757d\",\n  grayLight: \"#f1f1f1\",\n  grayDark: \"#343a40\",\n  primary: \"#007bff\",\n  secondary: \"#6c757d\",\n  success: \"#28a745\",\n  info: \"#17a2b8\",\n  warning: \"#ffc107\",\n  danger: \"#dc3545\",\n  light: \"#f8f9fa\",\n  dark: \"#343a40\"\n};\n\nexport const breakpoints = {\n  sm: \"576px\",\n  md: \"768px\",\n  lg: \"992px\",\n  xl: \"1200px\",\n  xxl: \"1650px\"\n};\n\nexport const themes = {\n  // Themes\n  dark: \"dark\",\n  light: \"light\"\n};\n","import React from \"react\";\nimport styled from \"@emotion/styled\";\n\nimport { colors } from \"../theme\";\n\nconst LoadingIndicatorWrapper = styled(\"div\")({\n  display: \"flex\",\n  alignItems: \"center\",\n  justifyContent: \"center\",\n  height: \"100%\",\n  width: \"100%\"\n});\n\nclass LoadingIndicator extends React.Component {\n  render() {\n    return (\n      <LoadingIndicatorWrapper>\n        <div\n          className=\"la-ball-grid-beat la-dark la-2x\"\n          style={{\n            color: colors.food\n          }}\n        >\n          <div />\n          <div />\n          <div />\n          <div />\n          <div />\n          <div />\n          <div />\n          <div />\n          <div />\n        </div>\n      </LoadingIndicatorWrapper>\n    );\n  }\n}\n\nexport default LoadingIndicator;\n","import React from \"react\";\nimport styled from \"@emotion/styled\";\n\nimport { colors } from \"../theme\";\n\nconst NotFoundWrapper = styled(\"div\")({\n  display: \"flex\",\n  alignItems: \"center\",\n  justifyContent: \"center\",\n  height: \"100%\",\n  width: \"100%\"\n});\n\nclass GameNotFound extends React.Component {\n  render() {\n    return (\n      <NotFoundWrapper>\n        <h2\n          style={{\n            color: colors.food\n          }}\n        >\n          Game no longer available, sorry!\n        </h2>\n      </NotFoundWrapper>\n    );\n  }\n}\n\nexport default GameNotFound;\n","import React from \"react\";\nimport { colors, themes } from \"../theme\";\n\nconst HIGHLIGHT_DIM = 0.15;\nconst DEAD_OPACITY = 0.1;\nconst OVERLAP_OPACITY = 0.3;\nconst SNAKE_ON_SNAKE_OPACITY = 0.8;\nconst FULL_OPACITY = 1.0;\n\nconst CELL_SIZE = 20;\nconst CELL_SPACING = 4;\nconst FOOD_SIZE = (CELL_SIZE / 3.25).toFixed(2);\nconst END_OVERLAP = 0.1;\n\nconst DIRECTIONS_CW = [\"up\", \"right\", \"down\", \"left\"];\n\n// let GRID_COLUMNS = 0;  Unused for now.\nlet GRID_ROWS = 0;\n\nfunction toGridSpaceX(slot) {\n  return (CELL_SIZE + CELL_SPACING) * slot + CELL_SPACING;\n}\n\nfunction toGridSpaceY(slot) {\n  // Y-Axis in board space is inverted, positive goes up\n  return (CELL_SIZE + CELL_SPACING) * (GRID_ROWS - 1 - slot) + CELL_SPACING;\n}\n\nfunction getPartWidth(part) {\n  const extraWidth =\n    part.direction === \"left\" || part.direction === \"right\"\n      ? 2 * CELL_SPACING\n      : 0;\n  return CELL_SIZE + extraWidth;\n}\n\nfunction getPartHeight(part) {\n  const extraHeight =\n    part.direction === \"up\" || part.direction === \"down\" ? 2 * CELL_SPACING : 0;\n  return CELL_SIZE + extraHeight;\n}\n\nfunction getPartXOffset(part) {\n  const xBias =\n    part.direction === \"left\" || part.direction === \"right\" ? -CELL_SPACING : 0;\n  return toGridSpaceX(part.x) + xBias;\n}\n\nfunction getPartYOffset(part) {\n  const yBias =\n    part.direction === \"up\" || part.direction === \"down\" ? -CELL_SPACING : 0;\n  return toGridSpaceY(part.y) + yBias;\n}\n\nfunction getCornerPartXOffset(part, type) {\n  return toGridSpaceX(part.x) - CELL_SPACING;\n}\n\nfunction getCornerPartYOffset(part, type) {\n  return toGridSpaceY(part.y) - CELL_SPACING;\n}\n\nfunction getTailXOffset(part) {\n  // apply slight offset to avoid ugly white line in between parts (works most of the time)\n  switch (part.direction) {\n    case \"left\":\n      return toGridSpaceX(part.x) - END_OVERLAP;\n    case \"right\":\n      return toGridSpaceX(part.x) + END_OVERLAP;\n    default:\n      return toGridSpaceX(part.x);\n  }\n}\n\nfunction getTailYOffset(part) {\n  // apply slight offset to avoid ugly white line in between parts (works most of the time)\n  switch (part.direction) {\n    case \"up\":\n      return toGridSpaceY(part.y) - END_OVERLAP;\n    case \"down\":\n      return toGridSpaceY(part.y) + END_OVERLAP;\n    default:\n      return toGridSpaceY(part.y);\n  }\n}\n\nfunction getHeadXOffset(part) {\n  // apply slight offset to avoid ugly white line in between parts (works most of the time)\n  switch (part.direction) {\n    case \"left\":\n      return toGridSpaceX(part.x) + END_OVERLAP;\n    case \"right\":\n      return toGridSpaceX(part.x) - END_OVERLAP;\n    default:\n      return toGridSpaceX(part.x);\n  }\n}\n\nfunction getHeadYOffset(part) {\n  // apply slight offset to avoid ugly white line in between parts (works most of the time)\n  switch (part.direction) {\n    case \"up\":\n      return toGridSpaceY(part.y) + END_OVERLAP;\n    case \"down\":\n      return toGridSpaceY(part.y) - END_OVERLAP;\n    default:\n      return toGridSpaceY(part.y);\n  }\n}\n\nfunction getHeadFillerXOffset(part) {\n  // apply slight offset to avoid ugly white line in between parts (works most of the time)\n  switch (part.direction) {\n    case \"left\":\n      return toGridSpaceX(part.x + 1) - CELL_SPACING - END_OVERLAP;\n    case \"right\":\n      return toGridSpaceX(part.x) - CELL_SPACING - END_OVERLAP;\n    default:\n      return toGridSpaceX(part.x);\n  }\n}\n\nfunction getHeadFillerYOffset(part) {\n  // apply slight offset to avoid ugly white line in between parts (works most of the time)\n  switch (part.direction) {\n    case \"up\":\n      return toGridSpaceY(part.y - 1) - CELL_SPACING - END_OVERLAP;\n    case \"down\":\n      return toGridSpaceY(part.y) - CELL_SPACING - END_OVERLAP;\n    default:\n      return toGridSpaceY(part.y);\n  }\n}\n\nfunction getTailFillerXOffset(part) {\n  // apply slight offset to avoid ugly white line in between parts (works most of the time)\n  switch (part.direction) {\n    case \"right\":\n      return toGridSpaceX(part.x + 1) - CELL_SPACING - END_OVERLAP;\n    case \"left\":\n      return toGridSpaceX(part.x) - CELL_SPACING - END_OVERLAP;\n    default:\n      return toGridSpaceX(part.x);\n  }\n}\n\nfunction getTailFillerYOffset(part) {\n  // apply slight offset to avoid ugly white line in between parts (works most of the time)\n  switch (part.direction) {\n    case \"down\":\n      return toGridSpaceY(part.y - 1) - CELL_SPACING - END_OVERLAP;\n    case \"up\":\n      return toGridSpaceY(part.y) - CELL_SPACING - END_OVERLAP;\n    default:\n      return toGridSpaceY(part.y);\n  }\n}\n\nfunction getFillerWidth(part) {\n  return part.direction === \"left\" || part.direction === \"right\"\n    ? CELL_SPACING + 2 * END_OVERLAP\n    : CELL_SIZE;\n}\n\nfunction getFillerHeight(part) {\n  return part.direction === \"left\" || part.direction === \"right\"\n    ? CELL_SIZE\n    : CELL_SPACING + 2 * END_OVERLAP;\n}\n\nfunction getOpacity(snake, highlightedSnake) {\n  if (!snake.isDead) {\n    if (highlightedSnake) {\n      return snake._id === highlightedSnake ? 1 : HIGHLIGHT_DIM;\n    }\n  } else {\n    if (highlightedSnake) {\n      return snake._id === highlightedSnake ? 1 : 0;\n    }\n  }\n\n  return snake.isDead ? DEAD_OPACITY : 1;\n}\n\nfunction getPartOpacity(part) {\n  if (part.shadeForOverlap) {\n    return SNAKE_ON_SNAKE_OPACITY;\n  } else if (part.isOverlapped) {\n    return OVERLAP_OPACITY;\n  } else {\n    return FULL_OPACITY;\n  }\n}\n\nfunction getPartColor(snake, part) {\n  if (part.shadeForOverlap) {\n    return colors.overlapSnake;\n  } else {\n    return snake.color;\n  }\n}\n\nfunction range(size) {\n  const result = [];\n  for (let i = 0; i < size; i++) {\n    result.push(i);\n  }\n  return result;\n}\n\nfunction sortAliveSnakesOnTop(snakes, highlightedSnake) {\n  return snakes.concat().sort((a, b) => {\n    let aOrder = a.isDead ? 0 : 1;\n    let bOrder = b.isDead ? 0 : 1;\n\n    // always put the highlighted snake up top\n    if (a._id === highlightedSnake) aOrder = 2;\n    if (b._id === highlightedSnake) bOrder = 2;\n\n    return aOrder - bOrder;\n  });\n}\n\nfunction getHeadTransform(direction, viewBox) {\n  const halfX = viewBox.width / 2;\n  const halfY = viewBox.height / 2;\n  switch (direction) {\n    case \"left\":\n      return `scale(-1,1) translate(-100, 0)`;\n    case \"up\":\n      return `rotate(-90 ${halfX} ${halfY})`;\n    case \"down\":\n      return `rotate(90 ${halfX} ${halfY})`;\n    default:\n      return \"\";\n  }\n}\n\nfunction getTailTransform(direction, viewBox) {\n  const halfX = viewBox.width / 2;\n  const halfY = viewBox.height / 2;\n  switch (direction) {\n    case \"right\":\n      return `scale(-1,1) translate(-100,0)`;\n    case \"down\":\n      return `scale(-1,1) translate(-100,0) rotate(-90 ${halfX} ${halfY})`;\n    case \"up\":\n      return `scale(-1,1) translate(-100,0) rotate(90 ${halfX} ${halfY})`;\n    default:\n      return \"\";\n  }\n}\n\nfunction areAdjacentDirections(d1, d2) {\n  // Check if the directions are adjacent in the circular directions array\n  // Otherwise they are the same or opposite directions\n  return (\n    Math.abs(DIRECTIONS_CW.indexOf(d1) - DIRECTIONS_CW.indexOf(d2)) % 2 === 1\n  );\n}\n\nfunction checkIfCornerPart(snake, partIndex) {\n  // If head or tail of the snake, then false\n  if (partIndex === 0 || partIndex === snake.body.length - 1) return false;\n\n  const behind = snake.body[partIndex + 1];\n  const current = snake.body[partIndex];\n\n  // Return false if the behind part has the same position as the current.\n  // Relevant for when the snake initially spawns.\n  if (behind.x === current.x && behind.y === current.y) return false;\n\n  // Check if the directions are adjacent in the circular directions array\n  // Otherwise they are the same or opposite directions and should be rendered with a straight part\n  return areAdjacentDirections(current.direction, behind.direction);\n}\n\nfunction determineCornerType(snake, partIndex) {\n  // If head or tail of the snake, then false\n  if (partIndex === 0 || partIndex === snake.body.length - 1) return false;\n\n  const behind = snake.body[partIndex + 1];\n  const current = snake.body[partIndex];\n\n  return `${current.direction} ${behind.direction}`;\n}\n\nfunction isOverlappedByTail(snake, part) {\n  const head = snake.body[snake.body.length - 1];\n  return part.isOverlapped && head.x === part.x && head.y === part.y;\n}\n\nclass Grid extends React.Component {\n  renderPart(snake, snakeIndex, part, partIndex) {\n    if (isOverlappedByTail(snake, part)) return;\n    switch (part.type) {\n      case \"head\":\n        return this.renderHeadPart(snake, snakeIndex, part);\n      case \"tail\":\n        return this.renderTailPart(snake, snakeIndex, part);\n      default:\n        if (checkIfCornerPart(snake, partIndex)) {\n          return this.renderCornerPart(snake, snakeIndex, part, partIndex);\n        } else {\n          return this.renderMiddlePart(snake, snakeIndex, part, partIndex);\n        }\n    }\n  }\n\n  renderHeadPart(snake, snakeIndex, part) {\n    const x = getHeadXOffset(part);\n    const y = getHeadYOffset(part);\n    const box = snake.headSvg.viewBox.baseVal;\n    const transform = getHeadTransform(part.direction, box);\n    const viewBoxStr = `${box.x} ${box.y} ${box.width} ${box.height}`;\n    let color = getPartColor(snake, part);\n    let opacity = getPartOpacity(part);\n\n    return (\n      <g key={\"part\" + snakeIndex + \",head\"}>\n        <svg\n          viewBox={viewBoxStr}\n          x={x}\n          y={y}\n          width={CELL_SIZE}\n          height={CELL_SIZE}\n          fill={color}\n          opacity={opacity}\n          shapeRendering=\"auto\"\n        >\n          <g\n            transform={transform}\n            dangerouslySetInnerHTML={{ __html: snake.headSvg.innerHTML }}\n          />\n        </svg>\n        {snake.effectiveSpace > 1 && (\n          // only add filler if the snake is effectively longer than one tile\n          <rect\n            x={getHeadFillerXOffset(part)}\n            y={getHeadFillerYOffset(part)}\n            width={getFillerWidth(part)}\n            height={getFillerHeight(part)}\n            fill={color}\n            opacity={opacity}\n            shapeRendering=\"auto\"\n          />\n        )}\n      </g>\n    );\n  }\n\n  renderMiddlePart(snake, snakeIndex, part, partIndex) {\n    let color = getPartColor(snake, part);\n    let opacity = getPartOpacity(part);\n\n    return (\n      <rect\n        key={`part${snakeIndex},${part.x},${part.y}`}\n        x={getPartXOffset(part)}\n        y={getPartYOffset(part)}\n        width={getPartWidth(part)}\n        height={getPartHeight(part)}\n        fill={color}\n        opacity={opacity}\n        shapeRendering=\"auto\"\n      />\n    );\n  }\n\n  renderCornerPart(snake, snakeIndex, part, partIndex) {\n    let viewBox, transform;\n    let path = \"M0,20 h60 a60,60 0 0 1 60,60 v60 h-100 v-20 h-20 z\";\n    let color = getPartColor(snake, part);\n    let opacity = getPartOpacity(part);\n\n    viewBox = \"0 0 140 140\";\n\n    const cornerType = determineCornerType(snake, partIndex);\n    switch (cornerType) {\n      case \"down left\":\n      case \"right up\":\n        transform = \"rotate(270, 70, 70)\";\n        break;\n      case \"left down\":\n      case \"up right\":\n        transform = \"rotate(90, 70, 70)\";\n        break;\n      case \"left up\":\n      case \"down right\":\n        break;\n      case \"right down\":\n      case \"up left\":\n        transform = \"rotate(180, 70, 70)\";\n        break;\n      default:\n        break;\n    }\n\n    return (\n      <svg\n        key={`part${snakeIndex},${part.x},${part.y}`}\n        x={getCornerPartXOffset(part, cornerType)}\n        y={getCornerPartYOffset(part, cornerType)}\n        width={CELL_SIZE + 2 * CELL_SPACING}\n        height={CELL_SIZE + 2 * CELL_SPACING}\n        fill={color}\n        opacity={opacity}\n        viewBox={viewBox}\n        shapeRendering=\"auto\"\n      >\n        <path d={path} transform={transform} />\n      </svg>\n    );\n  }\n\n  renderTailPart(snake, snakeIndex, part) {\n    const x = getTailXOffset(part);\n    const y = getTailYOffset(part);\n    const box = snake.tailSvg.viewBox.baseVal;\n    const transform = getTailTransform(part.direction, box);\n    const viewBoxStr = `${box.x} ${box.y} ${box.width} ${box.height}`;\n    let color = getPartColor(snake, part);\n    let opacity = getPartOpacity(part);\n\n    return (\n      <g key={\"part\" + snakeIndex + \",tail\"}>\n        <svg\n          viewBox={viewBoxStr}\n          x={x}\n          y={y}\n          width={CELL_SIZE}\n          height={CELL_SIZE}\n          fill={color}\n          opacity={opacity}\n          shapeRendering=\"auto\"\n        >\n          <g\n            transform={transform}\n            dangerouslySetInnerHTML={{ __html: snake.tailSvg.innerHTML }}\n          />\n        </svg>\n        {snake.effectiveSpace > 1 && (\n          // only add filler if the snake is effectively longer than one tile\n          <rect\n            x={getTailFillerXOffset(part)}\n            y={getTailFillerYOffset(part)}\n            width={getFillerWidth(part)}\n            height={getFillerHeight(part)}\n            fill={color}\n            opacity={opacity}\n            shapeRendering=\"auto\"\n          />\n        )}\n      </g>\n    );\n  }\n\n  renderLabel(row, col, label) {\n    return (\n      <foreignObject\n        key={\"label\" + row + col}\n        x={toGridSpaceX(col)}\n        y={toGridSpaceY(row)}\n        width={CELL_SIZE}\n        height={CELL_SIZE}\n      >\n        <div\n          style={{\n            width: \"100%\",\n            height: \"100%\",\n            display: \"flex\",\n            alignItems: \"center\",\n            justifyContent: \"center\",\n            opacity: 0.5\n          }}\n        >\n          <div style={{ fontSize: \"80%\" }}>{label}</div>\n        </div>\n      </foreignObject>\n    );\n  }\n\n  renderLabels() {\n    return (\n      <>\n        {range(this.props.rows).map((_, row) => this.renderLabel(row, -1, row))}\n\n        {range(this.props.columns).map((_, col) =>\n          this.renderLabel(-1, col, col)\n        )}\n      </>\n    );\n  }\n\n  renderGrid() {\n    // GRID_COLUMNS = this.props.columns;\n    GRID_ROWS = this.props.rows;\n\n    const unsortedSnakes = this.props.snakes || [];\n    const food = this.props.food || [];\n    const hazards = this.props.hazards || [];\n\n    // Make alive snakes render on top of dead snakes\n    const sortedSnakes = sortAliveSnakesOnTop(\n      unsortedSnakes,\n      this.props.highlightedSnake\n    );\n\n    if (!this.props.highlightedSnake) {\n      // track all of the grid cells that will have a snake part drawn in them.  Successive snake parts\n      // drawn in the same cell need to be flagged so they render differently and layer properly\n      let gridCellsWithSnakeParts = Array(this.props.rows);\n      for (let i = 0; i < gridCellsWithSnakeParts.length; i++) {\n        gridCellsWithSnakeParts[i] = Array(this.props.columns);\n        for (let j = 0; j < this.props.columns; j++) {\n          gridCellsWithSnakeParts[i][j] = false;\n        }\n      }\n\n      // Go through each snake, in the order they will be drawn and mark the cells they will occupy.\n      // flag parts that would be drawn in cells that are already claimed\n      for (let i = 0; i < sortedSnakes.length; i++) {\n        let snake = sortedSnakes[i];\n        if (!snake.isDead) {\n          for (let x = 0; x < snake.body.length; x++) {\n            let part = snake.body[x];\n            if (!isOverlappedByTail(snake, part)) {\n              if (gridCellsWithSnakeParts[part.y][part.x]) {\n                part.shadeForOverlap = true;\n              } else {\n                gridCellsWithSnakeParts[part.y][part.x] = true;\n              }\n            }\n          }\n        }\n      }\n    }\n\n    const viewBoxWidth =\n      (CELL_SIZE + CELL_SPACING) * this.props.columns + CELL_SPACING;\n    const viewBoxHeight =\n      (CELL_SIZE + CELL_SPACING) * this.props.rows + CELL_SPACING;\n\n    const hazardOpacity = parseFloat(colors.hazardOpacity);\n\n    const overflow = this.props.showCoordinateLabels ? \"visible\" : \"hidden\";\n\n    return (\n      <svg\n        className=\"grid\"\n        width={this.props.maxWidth}\n        height={this.props.maxHeight}\n        x={this.props.x}\n        y={this.props.y}\n        viewBox={`0 0 ${viewBoxWidth} ${viewBoxHeight}`}\n        overflow={overflow}\n      >\n        {this.props.showCoordinateLabels && this.renderLabels()}\n        {range(this.props.rows).map((_, row) =>\n          range(this.props.columns).map((_, col) => (\n            <rect\n              key={\"cell\" + row + \",\" + col}\n              x={toGridSpaceX(col)}\n              y={toGridSpaceY(row)}\n              width={CELL_SIZE}\n              height={CELL_SIZE}\n              fill={\n                this.props.theme === themes.dark\n                  ? colors.gridCellBackgroundDark\n                  : colors.gridCellBackground\n              }\n              shapeRendering=\"auto\"\n            />\n          ))\n        )}\n        {sortedSnakes.map((snake, snakeIndex) => {\n          return (\n            <g\n              key={`snake${snakeIndex}`}\n              className=\"snake\"\n              opacity={getOpacity(snake, this.props.highlightedSnake)}\n            >\n              {[...snake.body]\n                .reverse()\n                .map((part, partIndex) =>\n                  this.renderPart(\n                    snake,\n                    snakeIndex,\n                    part,\n                    snake.body.length - partIndex - 1,\n                    this.props.highlightedSnake\n                  )\n                )}\n            </g>\n          );\n        })}\n        {hazards.map((o, hazardIndex) => (\n          <rect\n            key={\"hazard\" + hazardIndex}\n            x={toGridSpaceX(o.x)}\n            y={toGridSpaceY(o.y)}\n            width={CELL_SIZE}\n            height={CELL_SIZE}\n            fill={colors.hazard}\n            fillOpacity={hazardOpacity}\n            shapeRendering=\"auto\"\n          />\n        ))}\n        {food.map((f, foodIndex) => {\n          if (this.props.foodImage) {\n            return (\n              <image\n                key={\"food\" + foodIndex}\n                x={toGridSpaceX(f.x)}\n                y={toGridSpaceY(f.y)}\n                width={CELL_SIZE}\n                height={CELL_SIZE}\n                href={this.props.foodImage}\n              />\n            );\n          } else {\n            return (\n              <circle\n                key={\"food\" + foodIndex}\n                className=\"food\"\n                cx={toGridSpaceX(f.x) + CELL_SIZE / 2}\n                cy={toGridSpaceY(f.y) + CELL_SIZE / 2}\n                r={FOOD_SIZE}\n                fill={colors.food}\n                shapeRendering=\"optimizeQuality\"\n              />\n            );\n          }\n        })}\n      </svg>\n    );\n  }\n\n  render() {\n    if (this.props.snakes) {\n      return this.renderGrid();\n    } else {\n      return;\n    }\n  }\n}\n\nexport default Grid;\n","import React from \"react\";\nimport Grid from \"./grid\";\n\nconst BOARD_SIZE = 100;\n\nconst LABEL_ADJUSTMENT = 10;\n\nclass Board extends React.Component {\n  render() {\n    const boardSize = this.props.showCoordinateLabels\n      ? BOARD_SIZE - LABEL_ADJUSTMENT\n      : BOARD_SIZE;\n\n    const x = this.props.showCoordinateLabels ? LABEL_ADJUSTMENT : 0;\n\n    return (\n      <svg viewBox={`0 0 ${BOARD_SIZE} ${BOARD_SIZE}`}>\n        <Grid\n          snakes={this.props.snakes}\n          food={this.props.food}\n          foodImage={this.props.foodImage}\n          hazards={this.props.hazards}\n          columns={this.props.columns}\n          rows={this.props.rows}\n          highlightedSnake={this.props.highlightedSnake}\n          theme={this.props.theme}\n          maxWidth={boardSize}\n          maxHeight={boardSize}\n          x={x}\n          y={0}\n          turn={this.props.turn}\n          showCoordinateLabels={this.props.showCoordinateLabels}\n        />\n      </svg>\n    );\n  }\n}\n\nexport default Board;\n","import ReconnectingWebsocket from \"./reconnecting-websocket\";\n\n// Establishes websocket connection on given url and then calls receive for\n// every object sent from the server. Returns a promise that resolves when\n// receive returns true or when the server closes the connection.\nexport function streamAll(url, receive) {\n  const turns = {};\n  let done = false;\n\n  return new Promise((resolve, reject) => {\n    const ws = new ReconnectingWebsocket(url);\n    ws.addEventListener(\"message\", e => {\n      const obj = JSON.parse(e.data);\n      const eventData = obj.Data;\n      if (turns[eventData.Turn]) {\n        return;\n      }\n      turns[eventData.Turn] = true;\n\n      done = receive(obj);\n      if (done) {\n        ws.close();\n        resolve();\n      }\n    });\n\n    ws.addEventListener(\"onerror\", e => {\n      reject(e);\n    });\n\n    ws.addEventListener(\"onclose\", e => {\n      if (!done) {\n        done = true;\n        resolve();\n      }\n    });\n  });\n}\n","/**\n * This file contains helper functions for async loading svg files that\n * can be injected inline into an html <svg> element. This is better than\n * alternatives for the following reasons:\n *\n *    <use href=\"...\"> has a problem where the game could start before the\n *    svg has finished loading whereas this method gives a promise we can wait\n *    for.\n *\n *    <image src=\"...\"> has a problem where the fill color of the image cannot\n *    be overriden. Inline svg solves this problem and allows css styles to\n *    cascade into the svg content. <use> may also have this problem?\n *\n *    Directly embedding the svg xml into react components (or similar) would\n *    mostly solve everything except that it eliminates the possibility of\n *    pulling in svg data from external trusted sources.\n *\n * The main downside to this method is that the source of the svg must be\n * trusted or else you are vulnerable to xss attacks.\n */\n\nconst loaded = {};\nconst doesntExist = {};\n\nexport function loadSvgs(paths) {\n  return Promise.all(paths.map(requireSvg));\n}\n\nexport function getSvg(path) {\n  return loaded[path];\n}\n\nfunction requireSvg(path) {\n  if (path in loaded) {\n    return Promise.resolve(loaded[path]);\n  }\n\n  return fetchSvg(path);\n}\n\nasync function fetchSvg(path) {\n  const response = await fetch(path);\n  const svgText = await response.text();\n  const svg = makeDom(svgText);\n  loaded[path] = svg;\n  return svg;\n}\n\nfunction makeDom(svgText) {\n  const wrapper = document.createElement(\"div\");\n  wrapper.innerHTML = svgText.trim();\n  return wrapper.firstChild;\n}\n\nexport async function svgExists(path) {\n  if (path in loaded) {\n    return true;\n  }\n  if (path in doesntExist) {\n    return false;\n  }\n  //not cached yet\n  try {\n    const response = await fetch(path);\n    const svgText = await response.text();\n    const exists = svgText.startsWith(\"<svg\");\n    if (!exists) {\n      doesntExist[path] = true;\n    }\n    return exists;\n  } catch (e) {\n    //Most likely a CORS issue for a specific svg\n    console.warn(e, path, \"Fallback to default\");\n    return false;\n  }\n}\n","import { streamAll } from \"../io/websocket\";\nimport { makeQueryString, httpToWsProtocol, join } from \"./url\";\nimport { loadSvgs, getSvg, svgExists } from \"./inline-svg\";\n\nconst DEFAULT_SNAKE_HEAD = \"default\";\nconst DEFAULT_SNAKE_TAIL = \"default\";\nconst APP_VERSION = process.env.REACT_APP_VERSION;\n\nasync function get(url, query) {\n  const response = await fetch(url + makeQueryString(query));\n  if (response.status === 200) {\n    return Promise.resolve(response.json());\n  } else {\n    return Promise.resolve(response.json()).then(responseJson => {\n      console.error(responseJson.error);\n      return Promise.reject(responseJson.error);\n    });\n  }\n}\n\nexport function delay(millis) {\n  return new Promise(resolve => setTimeout(resolve, millis));\n}\n\nexport function getReadableCauseOfDeath(death) {\n  // See https://github.com/BattlesnakeOfficial/rules/blob/master/standard.go\n  switch (death.cause) {\n    case \"snake-collision\":\n      return `Ran into ${death.eliminatedBy}'s body`;\n    case \"snake-self-collision\":\n      return \"Collided with itself\";\n    case \"out-of-health\":\n      return \"Out of health\";\n    case \"hazard\":\n      return \"Eliminated by hazard\";\n    case \"head-collision\":\n      return `Lost head-to-head with ${death.eliminatedBy}`;\n    case \"wall-collision\":\n      return \"Moved out of bounds\";\n    case \"squad-eliminated\":\n      return \"Squad was eliminated\";\n    default:\n      return death.cause;\n  }\n}\n\n// Gets a list of all unique SVG paths required by the snakes.\nfunction getAllSvgs(snakes) {\n  const all = snakes.reduce((result, snake) => {\n    return result.concat([snake.HeadType, snake.TailType]);\n  }, []);\n  const unique = new Set(all);\n  return Array.from(unique);\n}\n\nasync function assignHeadAndTailUrls(snakes) {\n  for (const snake of snakes) {\n    // Assign default if missing\n    if (!snake.HeadType) {\n      snake.HeadType = DEFAULT_SNAKE_HEAD;\n    }\n    if (!snake.TailType) {\n      snake.TailType = DEFAULT_SNAKE_TAIL;\n    }\n\n    // Format as actual URL if it's just a name\n    snake.HeadType = getSnakeHeadSvgUrl(snake.HeadType);\n    snake.TailType = getSnakeTailSvgUrl(snake.TailType);\n\n    if (!(await svgExists(snake.HeadType))) {\n      snake.HeadType = getSnakeHeadSvgUrl(DEFAULT_SNAKE_HEAD);\n    }\n    if (!(await svgExists(snake.TailType))) {\n      snake.TailType = getSnakeTailSvgUrl(DEFAULT_SNAKE_TAIL);\n    }\n  }\n}\n\nasync function setHeadAndTailSvgs(snakes) {\n  await assignHeadAndTailUrls(snakes);\n  await loadSvgs(getAllSvgs(snakes));\n\n  for (const snake of snakes) {\n    snake.HeadSvg = getSvg(snake.HeadType);\n    snake.TailSvg = getSvg(snake.TailType);\n  }\n}\n\nfunction isIllegalSvgPath(nameOrPath) {\n  return nameOrPath.indexOf(\"/\") >= 0 || nameOrPath.indexOf(\".\") >= 0;\n}\n\nfunction svgUrlFromName(base, relative) {\n  //appending the git hash of this version allows for cache busting on deploy\n  const extension = \".svg?board_version=\" + APP_VERSION;\n  return join(\"https://media.battlesnake.com\", base, relative) + extension;\n}\n\nfunction getSnakeHeadSvgUrl(path) {\n  const effectivePath = isIllegalSvgPath(path) ? DEFAULT_SNAKE_HEAD : path;\n  return svgUrlFromName(\"/snakes/heads\", effectivePath);\n}\n\nfunction getSnakeTailSvgUrl(path) {\n  const effectivePath = isIllegalSvgPath(path) ? DEFAULT_SNAKE_TAIL : path;\n  return svgUrlFromName(\"/snakes/tails\", effectivePath);\n}\n\nasync function prepareFrame(frame) {\n  await setHeadAndTailSvgs(frame.Snakes);\n}\n\nexport function fetchGameInfo(baseUrl, gameId) {\n  const url = join(baseUrl, `games/${gameId}`);\n  return get(url);\n}\n\nexport async function streamAllEvents(baseUrl, gameId, receiveEvent) {\n  // modified yabust\n  const href = window.location.href;\n  baseUrl = href.substr(0, href.lastIndexOf(\"/\") + 1);\n  //\n  const game = await fetchGameInfo(baseUrl, gameId);\n  let chain = Promise.resolve();\n  function onEngineEvent(engineEvent) {\n    if (engineEvent.Type) {\n      const eventData = engineEvent.Data || engineEvent;\n      //output eventdata\n      chain = chain.then(async () => {\n        if (engineEvent.Type === \"frame\") {\n          await prepareFrame(eventData);\n        }\n        return receiveEvent(game, engineEvent.Type, eventData);\n      });\n    }\n    return engineEvent.Type && engineEvent.Type === \"game_end\";\n  }\n\n  const wsUrl = join(httpToWsProtocol(baseUrl), `games/${gameId}/events`);\n  await streamAll(wsUrl, onEngineEvent);\n  await chain;\n}\nexport function getFrameByTurn(frames, turn) {\n  return frames.filter(frame => frame.turn === turn)[0];\n}\n","import React from \"react\";\nimport { colors } from \"../../../theme\";\nimport \"./ErrorMessage.css\";\n\nconst errorColor = {\n  color: colors.danger\n};\n\nfunction getIcon(code) {\n  return \"error\";\n}\n\nconst ErrorMessage = props => {\n  let code, message;\n\n  if (props.error === \"\") {\n    return \"\";\n  }\n\n  [code, message] = props.error.toString().split(\":\");\n\n  return (\n    <div className=\"error-message\" style={errorColor}>\n      <span className=\"material-icons material-icons-inline\">\n        {getIcon(code)}\n      </span>\n      <span>{message}</span>\n    </div>\n  );\n};\n\nexport default ErrorMessage;\n","import React from \"react\";\nimport { colors } from \"../../../theme\";\n\nconst style = {\n  color: colors.danger,\n  cursor: \"pointer\",\n  margin: 0,\n  padding: 0\n};\n\nfunction getIcon(code) {\n  return \"error\";\n}\n\nconst StatusIndicator = ({ errorMessage }) => {\n  if (errorMessage === \"\") {\n    return \"\";\n  }\n\n  // until we can refactor Avatar and not pass the whole error object\n  const [code] = errorMessage.toString().split(\":\");\n\n  return (\n    <div style={style}>\n      <span className=\"material-icons material-icons-inline\">\n        {getIcon(code)}\n      </span>\n    </div>\n  );\n};\n\nexport default StatusIndicator;\n","import React from \"react\";\nimport styled from \"@emotion/styled\";\nimport { colors, themes } from \"../theme\";\nimport { getReadableCauseOfDeath } from \"../utils/engine-client\";\nimport ErrorMessage from \"./scoreboard/error-message/ErrorMessage\";\n\nimport \"./scoreboard/avatar/Avatar.css\";\nimport StatusIndicator from \"./scoreboard/status-indicator/StatusIndicator\";\n\nconst AvatarWrapper = styled(\"div\")`\n  width: 100%;\n  white-space: nowrap;\n  overflow: hidden;\n\n  opacity: ${props => (props.isEliminated ? \"0.5\" : \"1.0\")};\n`;\n\nconst Name = styled(\"span\")(({ theme }) => ({\n  display: \"block\",\n  textShadow: theme === themes.dark ? \"0 1px 2px rgba(0,0,0,0.90)\" : null\n}));\n\nconst Length = styled(\"span\")(({ theme }) => ({\n  marginLeft: \"auto\",\n  textShadow: theme === themes.dark ? \"0 1px 2px rgba(0,0,0,0.90)\" : null\n}));\n\nconst AuthorWrapper = styled(\"div\")({\n  fontSize: \"1rem\",\n  fontWeight: \"400\",\n  display: \"flex\",\n  flexDirection: \"row\",\n  height: \"1.25rem\"\n});\n\nconst Author = styled(\"span\")(({ theme }) => ({\n  display: \"block\",\n  flexGrow: 1,\n  textShadow: theme === themes.dark ? \"0 1px 2px rgba(0,0,0,0.90)\" : null\n}));\n\nconst Latency = styled(\"span\")(({ theme, latency }) => ({\n  color: latency === \"0\" ? \"red\" : \"inherit\",\n  marginLeft: \"auto\",\n  textShadow: theme === themes.dark ? \"0 1px 2px rgba(0,0,0,0.90)\" : null,\n  display: latency === \"\" ? \"none\" : \"block\"\n}));\n\nconst HealthBarWrapper = styled(\"div\")({\n  marginTop: \"0.2rem\",\n  width: \"100%\",\n  height: \"1.0rem\",\n  background: colors.healthBarBackground,\n  borderRadius: \"1.5rem\"\n});\n\nconst HealthBar = styled(\"div\")(({ color }) => ({\n  height: \"100%\",\n  backgroundColor: color,\n  borderRadius: \"inherit\"\n}));\n\nconst CauseOfDeath = styled(\"div\")(({ theme }) => ({\n  width: \"100%\",\n  marginTop: \"0.2rem\",\n  fontSize: \"1rem\",\n  lineHeight: \"1rem\",\n  color: theme === themes.dark ? colors.lightText : colors.darkText\n}));\n\nclass Avatar extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      showError: false\n    };\n  }\n  render() {\n    return (\n      <AvatarWrapper isEliminated={this.props.snake.death ? true : false}>\n        <div className=\"row\">\n          <Name>{this.props.snake.name}</Name>\n          <Length>{this.props.snake.body.length}</Length>\n        </div>\n        <AuthorWrapper>\n          <Author>by {this.props.snake.author}</Author>\n          <StatusIndicator errorMessage={this.props.snake.error} />\n          <Latency latency={this.props.snake.latency}>\n            {this.props.snake.latency} ms\n          </Latency>\n        </AuthorWrapper>\n        {this.props.snake.death ? (\n          <CauseOfDeath theme={this.props.theme}>\n            {getReadableCauseOfDeath(this.props.snake.death)}\n          </CauseOfDeath>\n        ) : (\n          <HealthBarWrapper>\n            <HealthBar\n              color={this.props.snake.color}\n              style={{\n                width: `${this.props.snake.health}%`\n              }}\n            />\n          </HealthBarWrapper>\n        )}\n        <ErrorMessage\n          error={this.props.highlighted ? this.props.snake.error : \"\"}\n        />\n      </AvatarWrapper>\n    );\n  }\n}\n\nexport default Avatar;\n","import React from \"react\";\nimport styled from \"@emotion/styled\";\nimport Avatar from \"./avatar\";\nimport { breakpoints, colors, themes } from \"../theme\";\n\nconst orderSnakes = snakes => {\n  // Sort by name\n  const aliveSnakes = snakes\n    .filter(s => !s.isDead)\n    .sort((a, b) => {\n      const aLower = a.name.toLowerCase();\n      const bLower = b.name.toLowerCase();\n      if (aLower < bLower) {\n        return -1;\n      }\n      if (aLower > bLower) {\n        return 1;\n      }\n      return 0;\n    });\n\n  // Sort by turn died, descending\n  const deadSnakes = snakes\n    .filter(s => s.isDead)\n    .sort((a, b) => a.death.turn - b.death.turn)\n    .reverse();\n\n  return aliveSnakes.concat(deadSnakes);\n};\n\nconst Wrapper = styled(\"div\")`\n  display: none;\n  color: ${({ theme }) =>\n    theme === themes.dark ? colors.lightText : colors.darkText};\n  font-weight: 600;\n  font-size: 1.4rem;\n\n  @media (min-width: ${breakpoints.md}) {\n    display: ${({ hide }) => (hide ? \"none\" : \"block\")};\n    font-size: 1.8rem;\n  }\n\n  @media (min-width: ${breakpoints.xxl}) {\n    font-size: 3.2rem;\n    letter-spacing: 0.1rem;\n  }\n`;\n\nconst AvatarWrapper = styled(\"div\")`\n  padding: 0.75rem;\n  transition: background-color 0.2s, box-shadow 0.2s;\n  border: 2px solid\n    ${props =>\n      props.highlighted ? colors.avatarHighlightedBorder : \"transparent\"};\n  &:hover {\n    background-color: ${props =>\n      props.theme === themes.dark ? colors.purple : colors.light};\n    cursor: pointer;\n    border-color: ${props =>\n      props.highlighted\n        ? colors.avatarHighlightedBorder\n        : colors.avatarHoverBorder};\n  }\n`;\n\nclass Scoreboard extends React.Component {\n  state = {\n    highlightedSnake: null\n  };\n\n  toggleHighlight = snake => {\n    const getSnakeToHighlight = (state, snake) => {\n      return state.highlightedSnake !== snake._id ? snake._id : null;\n    };\n\n    this.props.highlightSnake(getSnakeToHighlight(this.state, snake));\n\n    this.setState(state => ({\n      highlightedSnake: getSnakeToHighlight(state, snake)\n    }));\n  };\n\n  render() {\n    const { highlightedSnake } = this.state;\n    return (\n      <Wrapper theme={this.props.theme}>\n        {this.props.snakes\n          ? orderSnakes(this.props.snakes).map((snake, i) => (\n              <AvatarWrapper\n                key={\"avatarwrapper\" + i}\n                onClick={() => this.toggleHighlight(snake)}\n                highlighted={highlightedSnake === snake._id}\n                theme={this.props.theme}\n              >\n                <Avatar\n                  snake={snake}\n                  key={\"avatar\" + i}\n                  theme={this.props.theme}\n                  highlighted={highlightedSnake === snake._id}\n                />\n              </AvatarWrapper>\n            ))\n          : undefined}\n      </Wrapper>\n    );\n  }\n}\n\nexport default Scoreboard;\n","import React from \"react\";\nimport styled from \"@emotion/styled\";\nimport KeyboardEventHandler from \"react-keyboard-event-handler\";\nimport { withRouter } from \"react-router\";\nimport { themes, breakpoints } from \"../theme\";\n\nconst MediaControlsWrapper = styled(\"div\")`\n  display: ${({ hide }) => (hide ? \"none\" : \"block\")};\n  margin-top: 1rem;\n  width: 100%;\n`;\n\nconst KeyboardShortcutsWrapper = styled(\"div\")({\n  position: \"relative\"\n});\n\nconst ShortcutsPane = styled(\"div\")`\n  position: absolute;\n  bottom: 2.5rem;\n  right: 2.5rem;\n  width: 20rem;\n  padding: 1rem;\n  border: solid 1px #999;\n  background: #fff;\n\n  @media (min-width: ${breakpoints.md}) {\n    left: 2.5rem;\n    right: 0;\n  }\n\n  h4 {\n    margin-top: 0;\n    margin-bottom: 1rem;\n  }\n\n  ul {\n    list-style-type: none;\n    margin: 0;\n    padding: 0;\n  }\n`;\n\nconst ButtonWrapper = styled(\"div\")({\n  display: \"flex\",\n  justifyContent: \"center\",\n  width: \"100%\"\n});\n\nconst Button = styled(\"button\")`\n  display: inline-block;\n  min-width: 3rem;\n  text-align: center;\n  background: transparent;\n  color: ${({ theme }) => (theme === themes.dark ? \"#eee\" : \"#333\")};\n  font-size: 1.4rem;\n  border: none;\n  text-decoration: none;\n  cursor: pointer;\n  transition: background 250ms ease-in-out, transform 150ms ease;\n  -webkit-appearance: none;\n  -moz-appearance: none;\n\n  &:hover {\n    cursor: pointer;\n  }\n\n  &:focus {\n    outline: none;\n  }\n\n  &:disabled {\n    color: #ccc;\n    cursor: not-allowed;\n  }\n\n  @media (max-width: ${breakpoints.sm}) {\n    padding: 2rem 2rem;\n  }\n`;\n\nconst Scrubber = styled(\"input\")`\n  width: 100%;\n  max-width: 60rem;\n\n  &:disabled,\n  &:disabled:hover {\n    opacity: 0.2;\n    cursor: not-allowed;\n  }\n`;\n\nclass MediaControls extends React.Component {\n  state = {\n    paneHidden: true\n  };\n\n  constructor(props) {\n    super(props);\n    this.keyboardCodeMap = {\n      KeyR: \"r\",\n      ArrowLeft: \"left\",\n      ArrowRight: \"right\",\n      Space: \"space\",\n      Settings: \",\"\n    };\n  }\n\n  componentDidMount() {\n    window.addEventListener(\"message\", this.handleParentKeyboardEvent);\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener(\"message\", this.handleParentKeyboardEvent);\n  }\n\n  render() {\n    return this.renderControls();\n  }\n\n  handleParentKeyboardEvent = e => {\n    const { code } = e.data;\n    this.handleKeyEvent(this.keyboardCodeMap[code], e);\n  };\n\n  handleReload = () => {\n    this.props.reloadGame();\n  };\n\n  handlePlayPause = () => {\n    this.props.toggleGamePause();\n  };\n\n  handleBackward = () => {\n    this.props.stepBackwardFrame();\n  };\n\n  handleForward = () => {\n    this.props.stepForwardFrame();\n  };\n\n  handleScrubMouseDown = () => {\n    this.props.pauseGame();\n  };\n\n  handleScrubbing = event => {\n    this.props.stepToTurn(parseInt(event.target.value));\n  };\n\n  handleSettings = () => {\n    if (this.props.persistAvailable) {\n      this.props.history.push(\"/settings\");\n    }\n  };\n\n  handleShortcutPaneShowToggle = () => {\n    this.setState({\n      paneHidden: !this.state.paneHidden\n    });\n  };\n\n  handleKeyEvent = (key, e) => {\n    e.preventDefault();\n    switch (key) {\n      case \"r\":\n        this.handleReload();\n        break;\n      case \"left\":\n        this.handleBackward();\n        break;\n      case \"right\":\n        this.handleForward();\n        break;\n      case \"space\":\n        this.handlePlayPause();\n        break;\n      case \",\":\n        this.handleSettings();\n        break;\n      default:\n        break;\n    }\n  };\n\n  renderScrubbing() {\n    const value = this.props.hasAllFrames ? this.props.currentFrame.turn : 0;\n    const max = this.props.hasAllFrames ? this.props.maxTurn : 0;\n\n    return (\n      this.props.showFrameScrubber && (\n        <ButtonWrapper>\n          <Scrubber\n            type=\"range\"\n            min=\"0\"\n            max={max}\n            value={value}\n            onMouseDown={this.handleScrubMouseDown}\n            onChange={this.handleScrubbing}\n            disabled={!this.props.hasAllFrames}\n          />\n        </ButtonWrapper>\n      )\n    );\n  }\n\n  renderControls() {\n    const {\n      currentFrame,\n      hideControls,\n      paused,\n      theme,\n      persistAvailable\n    } = this.props;\n\n    const settingsInfo = persistAvailable\n      ? \"Configure playback settings\"\n      : \"Enable localStorage to configure playback settings\";\n\n    return (\n      <MediaControlsWrapper hide={hideControls}>\n        {this.renderScrubbing()}\n        <ButtonWrapper>\n          <Button\n            onClick={this.handleBackward}\n            disabled={currentFrame.turn === 0 || !paused}\n            theme={theme}\n          >\n            <span className=\"material-icons icon-image-preview\">\n              skip_previous\n            </span>\n          </Button>\n          <Button onClick={this.handlePlayPause} theme={theme}>\n            <span className=\"material-icons icon-image-preview\">\n              {paused ? \"play_arrow\" : \"pause\"}\n            </span>\n          </Button>\n          <Button onClick={this.handleForward} disabled={!paused} theme={theme}>\n            <span className=\"material-icons icon-image-preview\">skip_next</span>\n          </Button>\n          <Button\n            onClick={this.handleReload}\n            disabled={currentFrame.turn === 0 || !paused}\n            theme={theme}\n          >\n            <span className=\"material-icons icon-image-preview\">refresh</span>\n          </Button>\n          <Button\n            onClick={this.handleSettings}\n            disabled={!persistAvailable}\n            theme={theme}\n          >\n            <span\n              className=\"material-icons icon-image-preview\"\n              title={settingsInfo}\n            >\n              settings\n            </span>\n          </Button>\n          <KeyboardEventHandler\n            handleKeys={Object.values(this.keyboardCodeMap)}\n            onKeyEvent={this.handleKeyEvent}\n          />\n          <KeyboardShortcutsWrapper>\n            <Button onClick={this.handleShortcutPaneShowToggle} theme={theme}>\n              <span className=\"material-icons icon-image-preview\">help</span>\n            </Button>\n            {!this.state.paneHidden && (\n              <ShortcutsPane>\n                <h4>Keyboard shortcuts</h4>\n                <ul>\n                  <li>Reload = r</li>\n                  <li>Play/Pause = space</li>\n                  <li>Backward = left arrow</li>\n                  <li>Forward = right arrow</li>\n                  <li>Settings = comma</li>\n                </ul>\n              </ShortcutsPane>\n            )}\n          </KeyboardShortcutsWrapper>\n        </ButtonWrapper>\n      </MediaControlsWrapper>\n    );\n  }\n}\n\nexport default withRouter(MediaControls);\n","import React from \"react\";\nimport styled from \"@emotion/styled\";\n\nimport { colors, themes } from \"../theme\";\n\nconst SVGWrapper = styled(\"div\")`\n  height: 100%;\n  width: 100%;\n\n  > svg {\n    object-fit: contain;\n    width: 100%;\n    height: 100%;\n    max-width: 100%;\n    max-height: 100%;\n  }\n`;\n\nconst SVGLogo = props => {\n  return (\n    <SVGWrapper>\n      <svg\n        data-name=\"Layer 1\"\n        viewBox=\"0 0 360 150.82\"\n        width=\"1em\"\n        height=\"1em\"\n        {...props}\n      >\n        <defs>\n          <linearGradient\n            id=\"Wordmark_svg__a\"\n            x1={118.62}\n            y1={69.31}\n            x2={345.43}\n            y2={181.87}\n            gradientTransform=\"matrix(1 0 0 -1 0 150.95)\"\n            gradientUnits=\"userSpaceOnUse\"\n          >\n            <stop offset={0} stopColor=\"#3d2f90\" />\n            <stop offset={1} stopColor=\"#ea0578\" />\n          </linearGradient>\n          <linearGradient\n            id=\"Wordmark_svg__b\"\n            x1={153.2}\n            y1={-0.36}\n            x2={380.02}\n            y2={112.21}\n            xlinkHref=\"#Wordmark_svg__a\"\n          />\n          <linearGradient\n            id=\"Wordmark_svg__c\"\n            x1={110.47}\n            y1={85.74}\n            x2={337.28}\n            y2={198.31}\n            xlinkHref=\"#Wordmark_svg__a\"\n          />\n          <linearGradient\n            id=\"Wordmark_svg__d\"\n            x1={132.19}\n            y1={41.99}\n            x2={359}\n            y2={154.56}\n            xlinkHref=\"#Wordmark_svg__a\"\n          />\n          <linearGradient\n            id=\"Wordmark_svg__e\"\n            x1={98.64}\n            y1={109.56}\n            x2={325.45}\n            y2={222.13}\n            xlinkHref=\"#Wordmark_svg__a\"\n          />\n          <linearGradient\n            id=\"Wordmark_svg__f\"\n            x1={130.52}\n            y1={47.49}\n            x2={364.27}\n            y2={163.5}\n            xlinkHref=\"#Wordmark_svg__a\"\n          />\n          <linearGradient\n            id=\"Wordmark_svg__g\"\n            x1={13.42}\n            y1={72.58}\n            x2={346.58}\n            y2={72.58}\n            xlinkHref=\"#Wordmark_svg__a\"\n          />\n          <linearGradient\n            id=\"Wordmark_svg__h\"\n            x1={86.06}\n            y1={89.18}\n            x2={274.73}\n            y2={89.18}\n            gradientUnits=\"userSpaceOnUse\"\n          >\n            <stop offset={0.23} stopColor=\"#3d2f90\" />\n            <stop offset={1} stopColor=\"#9f1782\" />\n          </linearGradient>\n        </defs>\n        <g opacity={0.15}>\n          <path\n            d=\"M215.54 86.65h-23.25V41h-10.54v45.65H158.5V41H142l-8.33-20h94.25l-.45 20h-12z\"\n            fill=\"url(#Wordmark_svg__a)\"\n          />\n          <path\n            d=\"M339.67 139L254 92.43l22-22.36-21.6-49.25h86.18v8.25L326.36 39l15.87 13.86h-39.14l11.13 24-12.44 12.6z\"\n            fill=\"url(#Wordmark_svg__b)\"\n          />\n          <path\n            d=\"M105.76 87.44L88.25 69.73l20.55-49.12h22.4l27.62 66H133.6l-3.38-8.53h-20.79z\"\n            fill=\"url(#Wordmark_svg__c)\"\n          />\n          <path\n            d=\"M256.83 86.65h-27.21V21.06h23.24V63h18l3 6.8z\"\n            fill=\"url(#Wordmark_svg__d)\"\n          />\n          <path\n            d=\"M21.56 139l38-49.57-12.47-12.67 11.14-24H19l15.87-13.83L20.63 29v-8.28h86.17L85.28 70.13l22 22.3z\"\n            fill=\"url(#Wordmark_svg__e)\"\n          />\n        </g>\n        <path\n          d=\"M87.27 125.08a3.06 3.06 0 00.84-.72l-1.65 1.11z\"\n          fill=\"url(#Wordmark_svg__f)\"\n        />\n        <path\n          d=\"M343.93 133.36l-88.33-48 22.65-23.05-22.17-50.51h88.81V20l-14.66 10.19 16.35 14.28h-40.34l11.48 24.69-12.82 13.1zM259 84.84L336.51 127l-34.3-44.92 13.07-13.35L303 42.4h38.11L326.92 30l15.93-11.13v-5.39h-83.66l21.48 49.26zm57.7-57.75a4.75 4.75 0 114.74-4.75 4.66 4.66 0 01-4.79 4.75zm0-7.49a2.74 2.74 0 102.74 2.74 2.7 2.7 0 00-2.79-2.74zm-185-7.81l8.3 20.58h17.31v46.21L129.1 11.81H106C99 28.68 91.89 45.08 84.83 62l18 18.25 3.68-9.63h21.59q1.72 4.41 3.47 8.8h49.62v-47h10.88v47H216v-47h12.28V11.8zm1.3 65.55l-3.47-8.8h-24.38l-3.05 8-14.86-15c6.71-16.05 13.42-31.6 20.13-47.64h20.37c8.93 21.32 17.85 42.16 26.77 63.49zm93.34-47H214v47h-19.9v-47h-14.95v47h-19.87v-47h-17.94l-6.77-16.5h91.73zM109.91 55h14.93l-7.47-19.8q-3.73 9.92-7.46 19.8zm2.94-2l4.52-12 4.52 12zm160 2h-18.54V11.8h-23.52l-.43 67.39 28.09.19 17.46-17.29zm-15.24 22.34l-25.21-.18V13.47h19.85V57h19.21l2 4.59zm-155.18 9.09zm0 0zm0 0zM43.4 17.6a4.75 4.75 0 104.75 4.74 4.65 4.65 0 00-4.75-4.74zm0 7.48a2.74 2.74 0 112.74-2.74 2.69 2.69 0 01-2.74 2.74zm38.33 37.55l22.12-50.8H15.12V20l14.65 10.22-16.35 14.27h40.34l-11.48 24.7 12.8 13.11L16.81 133l82.84-45.06 4.68-2.54zm19.37 22.2L23.53 127l34.31-44.91-13.07-13.35L57 42.4H18.89L33.12 30 17.2 18.89v-5h83.62c-5 11.68-21.57 49.2-21.57 49.2z\"\n          fill=\"url(#Wordmark_svg__g)\"\n        />\n        <path\n          d=\"M271.62 55.66c-.23-.26-.17-.48-.69-.44a.74.74 0 00-.43 1.21c.08.09-.2.2-.24.18a3.85 3.85 0 00-.44-.19c-.08 0-.13.11-.17-.05s-.34-.41-.52-.35-.05.08-.15 0-.2-.21-.36-.18a26.54 26.54 0 00-6.15 2.16 4.38 4.38 0 01-1.27.5c-.2 0-.37-.38-.65-.23a5.68 5.68 0 01-.77.42c-.19 0-.24-.09-.39 0-3.16 1.26-6.21 2.65-9.28 4.07a6.76 6.76 0 01-1 .32c-1.08.36-2.12.67-3.22 1a15.64 15.64 0 00-3.32 1.12.55.55 0 00.06 1c-2.37 1-4.82 1.88-7.25 2.74-.78.27-.46 1.19.29 1.19-.21.23-.16.1-.43.41a4.37 4.37 0 00-.93 1.57c0 .18.25.49.25.62a1.69 1.69 0 010 .21c-.12 5.6.05 11.16.23 16.75l-.54.15a40.47 40.47 0 01-6 1 21.23 21.23 0 01-3.56.12c-.18 0-.3-.36-.48-.39a.63.63 0 01-.39-.13c-.83-.65-1.57-1-2.38-1.81a18.7 18.7 0 01-2.26-3l.06-.12a7 7 0 01.54-.76c.17-.21.38-.52.58-.75a6.21 6.21 0 00.42-.81 15.73 15.73 0 011.7-2.19c.68-.77.86-.9 1.78-2s3.47-4 4.35-5.13a11.59 11.59 0 001.53-2.28c.22-.44 0-.76.14-1.14a2.57 2.57 0 00.16-.93 2.13 2.13 0 00-.63-1.13 2.94 2.94 0 00-.81-.56c-.31-.15-.52-.31-.86-.44s-.52-.63-.87-.76a4.06 4.06 0 01-1.23-.45c-.34-.26-.76-.78-1.12-.8s-.71.54-1 .76-.81.56-1.09.77.12.4.21.41.34.26.26.33-.31-.13-.51-.07-.34-.14-.62.2c-1.47 1.75-3.95 4.69-5.31 6.22a20.74 20.74 0 00-2.45 3.44c-.32.49-.62.91-1 1.36l-1.12 1.43c-.29.39-.36.47-.61.83v-1.84c0-.84 0-2.07.05-3 0-1.52-.09-3.48-.09-4.9a11.51 11.51 0 00-.72-3.5c-.23-.83.2-1.82.12-2.56s-.46-.72-1-.67a.73.73 0 00-1.24-.76c-.55.61-.73 1.28-1.28 1.77-.88.77-1.84 1.33-2.69 2.12-2.23 0-2.4 1.66-2.55 3.52a1.51 1.51 0 000 .7 4.64 4.64 0 01.05 1c.06.82 0 2 .07 2.68s-.38 1.06-.38 1.55c0 1.71.19 3.36.08 5-.08 1.09-.11 2-.19 3.11-.43-.5-.85-1-1.26-1.51-2.74 1.08-5.55 2.22-8.29 3.15a3.45 3.45 0 01-.66.19c-.23 0-.36.25-.54.21s-.38.18-.54 0a12 12 0 01-1.2-2.32c-.36-.76-.8-1.81-1.1-2.54l-.78-1.88c-.27-.66-.6-1.2-.86-1.86s-.39-1.44-.67-2.11a2.09 2.09 0 01-.08-.23 18 18 0 00-2.83-6.09c-.14-.23-.26-.71-.38-.67a2.44 2.44 0 00-.79 1c-.06.28.64.89.62 1.12s-.58 0-.64-.09 0-.05 0-.15a.66.66 0 00-.25-.37c-.08 0 0-.15 0-.11a12.69 12.69 0 00-.75 1.09 1.39 1.39 0 01-1.69.42c-1.19-.55-2.33-1.15-3.51-1.71a5.54 5.54 0 00-.57-.21c-1.07 2.51-1.71 5.11-3.37 7.32 0 .07-.19.11-.24.16a4.61 4.61 0 00-.76 2 1.91 1.91 0 01-.07.3c-.27.59-.64 1.51-.87 2s.06.6.12.9 0 .07-.09.46a18.56 18.56 0 01-.56 1.78 2.17 2.17 0 000 .51c0 .14.15.28.13.39-.1.61-.3 1.32-.42 1.89s-.32 1.42-.42 1.87-.18.79-.24 1 0 0-.05.09 0 0 0 .06a.1.1 0 010 .09v.07a1 1 0 000 .12v.13a1.27 1.27 0 01-.06.18V92c0 .07 0 0 0 0v.07a.13.13 0 000 .08v.07c0 .07 0-.1 0 0a3.48 3.48 0 01-.1.41v.2c0 .02 0 0 0 0v-.07c0 .01 0 0 0 0v.15c0 .02 0 0 0 0v.25c0 .05 0 0 0 0v.19a.58.58 0 000 .18v.06a.51.51 0 010 .13v.06a.45.45 0 000 .11v.19c0 .04 0 0 0 0a.54.54 0 010 .15s0 .22-.08.31 0-.07 0 0v.11c0 .19-.15.65-.23 1a28.7 28.7 0 00-1.06 5.79 5.35 5.35 0 00.15 1c-.16.21-.32.38-.48.58a2 2 0 01.63.44c.08.12 0 .1 0 .15s-.05 0-.05.06v.08a.33.33 0 010 .14v.14a.26.26 0 000 .15V104.62c0 .07 0-.06 0 0v.35c0 .05.05 0 0 0s0 0 0 .06v1.04c0 .03 0 .06 0 0v.1c0 .03 0 0 0 0v.06c0 .06 0 0 0 0a.31.31 0 010 .1v.09a1.94 1.94 0 010 .24s0-.06 0 0a1.29 1.29 0 010 .19s.06 0 0 .07a.19.19 0 00-.05.11v1.83c0 .21-.06 0 0 0s0 .06 0 .1 0-.06 0 0v.5c0 .02 0 .1 0 0s-.05-.37-.06-.46a1.15 1.15 0 010-.21v-.07-.52-.39a.72.72 0 010-.23v-.05a.16.16 0 000-.09v-.05c0-.05.06 0 0-.07a1.77 1.77 0 01-.05-.32c0-.06.05 0 .06 0a2.36 2.36 0 010-.37v-.07-.05a1.89 1.89 0 00-.06.18v.09a.55.55 0 000 .18v.06c0 .06 0 0 0 0v-.06c0 .01-.06 0-.07 0s0 .14 0 .22V107.65c0 .01 0 0 0 0a.53.53 0 010 .13V108.93a1.07 1.07 0 000 .25v.07a.29.29 0 010 .09V109.83a2.18 2.18 0 000 .25 1.62 1.62 0 000-.22.31.31 0 000-.1v-.06a1.82 1.82 0 010-.33v-.18a.74.74 0 000-.15s0-.06 0 0a1.19 1.19 0 01.05.22v.11a.13.13 0 010 .09v.1s0-.07 0 0a.65.65 0 010 .2v.25a1.48 1.48 0 010 .22.12.12 0 000 .09v-.1c0-.01 0 0 0 0s0-.06 0 0v.12a.46.46 0 010 .14c0 .09.06.4.08.49s0 0 0 .1v.21h.07v-.08-.06s0-.12.05-.11 0 .06.05.08a.15.15 0 010 .07v-.07c0-.03 0 0 0 0a2.64 2.64 0 010-.29c0-.05.05 0 0-.05s0 0 0-.06v-.06-.12a3.23 3.23 0 00.58 1.24 2 2 0 002 .71 34.67 34.67 0 003.8 3.47c.45.33 1.3.2 1.24-.52a42.61 42.61 0 011-11 37.32 37.32 0 00.6-5c0-.45.08-1.23.07-1.71a17.14 17.14 0 001.53 2.92c.6.72 1.28.24 1.25-.47 0 0-.06-.08 0-.1a60.1 60.1 0 015.64-2.31c.5-.17 1-.34 1.54-.48.16.52.51 1.57.66 1.94s0 0 0 .06 0 .2.17.21a1.78 1.78 0 01.88.33c.1.14.1.08.11.12.88 3.28 1.53 6.54 2.08 9.87a.32.32 0 00.54.13c.88-1 1.12-2.38 1.57-3.53s1-2 1.42-3.13c.09-.2.3-.31.43-.5a9.13 9.13 0 001.06-1.91c.06-.15.09-.3.16-.44a3.21 3.21 0 01.24-.36c.1-.15 0-.21 0-.39a6.1 6.1 0 01.13-.84c0-.18 0-.11.06-.27s-.07 0 0-.28a13.8 13.8 0 00.35-1.41.74.74 0 00-.94-.8c-.12-.43-.44-1.16-.54-1.5s-.31-.42-.27-.67-.48-.45-.17-.63c1.12-.7 2.3 0 3.77-1.15A32.81 32.81 0 01202 90.6c.18 1.94.11 4.31.27 6.18 0 .4-.23.13-.32.32a.39.39 0 000 .44c.09.13.18.1.2.24s.28.3.32.39.05 0 0 .13-.36.07-.45.21a.87.87 0 00.06.66c.09.18.25.42.34.56a1.28 1.28 0 01.19.34c0 .16.05.56.07.68s-.06.12-.06.18.08 0 .08 0c.19 1.64.42 3.29.5 4.94a2.84 2.84 0 01-.1.65c0 .21.11.38.12.56a10.85 10.85 0 01-.16 2.28c-.05.27-.32.45-.4.71-.26.8.47 1.49 1.21.92 0 0-.06 0 0-.05a.86.86 0 00.47-.37c.13-.25.62-1 .74-1.24-.13.32-.36.7-.49 1.05-.3.87.78 1.61 1.28.76.92-1.54 1.55-3.23 2.43-4.76.06-.1.25 0 .35-.06a6.31 6.31 0 001.88-2.61 34.47 34.47 0 001-3.31 8.37 8.37 0 01.37-1.35c.51-1.24 1.26-2.64 1.92-3.87a7 7 0 001.44 1 37.56 37.56 0 006.37 1.92c.34.09.52.23.78.29s.19 0 .47 0 1.18.28 1.39.34.14.1.19.11a15.09 15.09 0 002.6.38 16.39 16.39 0 003 0c.37 0 .78-.15 1.14-.18 1.2-.12 2.37-.19 3.55-.4 0 .65.12 1.31.12 1.95 0 .12-.15.19-.18.32a3.18 3.18 0 00.54 2.85v1c0 1.14-.17 2.53.6 3.52 0 0 .12.07.13.12.13.8.33 1.8 1.26 1.86a7.35 7.35 0 002.34-.51c1-.21 1.82-.49 3-.75s2.4-.69 3.77-.94 3.3-.54 4.71-.93 2.45-.83 3.88-1.29 3.22-.75 4.7-1.24a.74.74 0 00-.21-1.46 14.51 14.51 0 00-2.94.61 13 13 0 002.63-1.16c.33-.21.9-.4.95-.72.19-1.07.35-2.65.61-3.58s.42-1.3.6-2.06c.05-.19-.18-.39-.36-.45s-.58 0-.82-.17-.51-.4-.74-.62-.53-.57-.77-.76-.55-.6-.86-.51a20 20 0 01-2.52.94 12.39 12.39 0 00-2.31 1.1c-.93.33-1.95.21-2.76.47s-1.4.36-2.12.57a18.91 18.91 0 01-2.18.46 4.08 4.08 0 01-1.64-.23v-2.94c0-1.04 0-2.21-.05-3.27a3.52 3.52 0 001.21 0c.43-.12 1 .12 1.42.07s.78-.35 1.15-.27a1.9 1.9 0 00.94-.15 1.42 1.42 0 01.4-.06h.61a7.28 7.28 0 002.23-.54.85.85 0 01.19-.09c.14 0 .74-.26.86-.28s.13-.13.15-.08c.32.61.9.44 1.31.2s.57-.36.59-.75-.05-1 0-1.26.16-.18.21-.26c.34-.52 1.11-1.1 1.35-1.54a1.51 1.51 0 00-.06-1.19 1.94 1.94 0 00-.5-1c-.21-.11-.79 0-.91-.12 0-.77.06-1.52.12-2.28 0-.23-.1-.35-.16-.53a.79.79 0 00-1.52-.09c0 .07 0 .21-.06.21s0 0-.19-.06-.33-.36-.8-.23-1.08.32-1.78.45-1.89.45-2.69.54c-1.28.14-2.79.89-4 .32-.27-.12.69-3.9.7-4.3s-.07-.26 0-.28c2.09-1 4.15-2.11 6.25-3.08 2.62-1.21 5.27-2.3 7.95-3.35 2-.79 4.08-1.48 6.13-2.18-.12-.31-.1-.59.26-.75 1.25-.57 2.59-1 3.9-1.43a6.92 6.92 0 001.3-.5 1.15 1.15 0 00.29-.84c0-.09-.5.11-.76.09a4.71 4.71 0 01-1 0c-.43-.07-.93-.73-.46-1.17.08-.07.12.2.21.19s.14.08.22.08h.13c-.07 0-.1 0 0 0a.69.69 0 00.32 0h.07c.07 0 .06 0 .22-.11a1 1 0 00.39-.77.66.66 0 00-.48-.61c-.31-.11-.52.15-.7.31a2.08 2.08 0 00-.37.35c-.13.16.14.28-.08.39a2.21 2.21 0 01-1 .15c-.52 0-.78-.88-.32-1.26s1.09-.47 1.31-.74 0-.74 0-.81a4.37 4.37 0 00-.94.13c-.22 0-.81-.27-.83-.41s-.09 0 .08 0 .59 0 .94.09a1.1 1.1 0 001.27-1.19c-.06-.64-.78-.76-1-.87s-.39 0-.31-.06a22.56 22.56 0 012.11-1.2 2.39 2.39 0 00.34-.18c.23-.14.78-.39 1.14-.58.75-.4 1.63-.8 2.4-1.23.16-.08.33-.09.48-.27s.26-.71.41-1c-1.07.44-2.12.85-3.15 1.22zm-90.93 35.1c-1 .21-1.92.39-2.88.57a1.85 1.85 0 01-.54.11c-.15 0-.56.22-.57.09a4 4 0 01.33-1c.1-.34.29-.69.42-1.09a29.15 29.15 0 011.09-2.94c.42-1 1-1.91 1.48-2.89.07-.15.14-.42.2-.59.58 1.16 1.16 2.37 1.71 3.54s1 2.29 1.58 3.46c-.93.25-1.87.53-2.82.74zm-19.42-16.94a.61.61 0 00-.77-.21l-.36-.33c-1.9-2.24-3.76-4.49-5.8-6.51a.62.62 0 00-.32.47l-.31 2v.23c-.38 2.38-.74 4.73-1.1 7.09a.75.75 0 00.38.8 3.19 3.19 0 01-.45 1.19c0 1.1.16 2.24.22 3.21v2.71a1.22 1.22 0 000 .27 1.09 1.09 0 010 .36 1 1 0 010 .34v1.28a.54.54 0 000 .18v1.54a.17.17 0 010 .14 3.53 3.53 0 010 .65 20.08 20.08 0 01-1 4.78 6.22 6.22 0 01-.29.71 101.58 101.58 0 00-4.11-11.21 7.49 7.49 0 00-.24-1.39.2.2 0 01.29 0l-.09.11a1.93 1.93 0 010-.34.49.49 0 000-.24 1.81 1.81 0 00-.22-.32v-.2h.15c.16 0 .18 0 .2-.31a10.6 10.6 0 00-.6-1.33c-.45-3-.79-5.92-1-9a.73.73 0 00-.76-.68 4 4 0 01-.16-.45 1 1 0 00-.22-.34l-.36.3a66.17 66.17 0 01-7.72 8.25c-.49.74-1 1.48-1.43 2.24V80a1.27 1.27 0 01.9.87.77.77 0 00.4-.29l.36-.52c-.5 2.61-1 5.21-1.55 7.79L134 93.71a28.65 28.65 0 00-1 5.74.25.25 0 00.25.25c-.2 1-.43 2.11-.63 3.12a.58.58 0 00-.31.63 7.39 7.39 0 001.25 2.49c.29.47.63 1 1 1.61s.89 1.48 1.39 2.24a13.37 13.37 0 001.59 1.93 4.63 4.63 0 00.65.52 43.92 43.92 0 012.09 4 .72.72 0 001.32-.17l2.76-15.3.2.36c.16-.41 2.09-1.77 2.09-1.06v.45a.46.46 0 01.42.27c.59 1.26 4 8 4.49 9a37.3 37.3 0 003 4.8 18.27 18.27 0 012.51 2.69.72.72 0 001 .23.73.73 0 00.33-.58c.52-4.06 1.95-11.65 2.09-15.71a4.18 4.18 0 01.51-.8c.05-1 .15-2 .3-3 0-1.06.18-2 .26-2.94.39-2.92.74-5.83 1.13-8.73.29-2.24.62-4.48.83-6.72a7.27 7.27 0 00-2.25-5.21zm-25.46-11.64l-.63.92a.67.67 0 00-.88-.37l-.27.13a.75.75 0 00-.31-.6.53.53 0 000-.74.53.53 0 00-.25-.63 1.19 1.19 0 00-.6-.2.51.51 0 00-.25-.59 12.81 12.81 0 001.3-.74.61.61 0 010-.27 2.18 2.18 0 01.61-.6l-2.25 1.59a1.09 1.09 0 00-.67 0 .72.72 0 00-.54 0 .68.68 0 00-.49.63c-1.12.65-2.24 1.34-3.3 2H127a1.36 1.36 0 00-.81.62l-2.24 1.4a16.6 16.6 0 00-2.87 1.9l-.94.49q.33-.27.69-.51c2.25-1.66 4.65-3.21 6.73-5.07.43-.36 0-1-.58-.74a59.61 59.61 0 00-7.25 4.87c-2.24 1.7-4.68 3.43-7 5.2-4.49 3.45-9.13 6.95-13.46 10.77a.62.62 0 00-.25.47 12 12 0 00-2.78 2.35c.49 3.12 2.74 5.5 4.22 8.28a71.94 71.94 0 019.4 2c1 .29 2 .61 2.91.94a8 8 0 012.8 1.28 4.35 4.35 0 01.66 4.73 30.7 30.7 0 01-3.95 3.7c-1.64.81-3.28 1.6-4.89 2.43s-2.83 1.48-4.22 2.24a1 1 0 010 .25c-.85.27-1.68.67-2.35.89a45 45 0 00-5 2 .56.56 0 00-.19.77.53.53 0 00.37.26.5.5 0 00.11.69.5.5 0 00.43.08 23.27 23.27 0 004.24-1.8l.29-.13a89 89 0 01-10.45 7.42c-1.51 1-3 2-4.49 3a.69.69 0 01.16.18 47.72 47.72 0 017.49-4.26c.54-.25 1.14.42.65.87a52.65 52.65 0 00-4.17 3.57l.45-.16H91a24.48 24.48 0 013.22-1.86.83.83 0 011.08.47l.16-.13h.13l1-.41-1.26.7a.51.51 0 01-.22.54l-.18.13a7.83 7.83 0 00.92-.45l.38-.24c.56-.36 1 .38.67.83 1.8-1 3.59-1.91 5.41-2.79a.73.73 0 000 .36l-.36.23a.33.33 0 00.25.6 36.92 36.92 0 004.1-1.32l2.92-1.68.38-.2a5.38 5.38 0 011.5 0 .36.36 0 00.42-.29 1.14 1.14 0 010-.45.34.34 0 00.54.36 4.73 4.73 0 01.83-.78 23.8 23.8 0 004.19-2.25 11.66 11.66 0 002.13-1.25l1.21-.94c.65-.43 1.28-.86 1.89-1.33l.53-.45a8.8 8.8 0 001.44-1.14 11.53 11.53 0 011.39-.92.29.29 0 00.13-.39l.59-.89a18.3 18.3 0 001.84-4.49 14.38 14.38 0 00.33-5 7.1 7.1 0 00-.74-2.67l-.69-1.37c-.39-.77-.82-1.52-1.28-2.24a16.27 16.27 0 00-3.52-3.26 23.53 23.53 0 00-4.49-2.24 18.39 18.39 0 01-4.73-1.68.6.6 0 01-.2-.27c3-1.91 6-3.9 9-5.85 3.72-2.45 7.58-4.8 11.21-7.5l2.47-1.25v-.18a1.23 1.23 0 01-.81-1 1.3 1.3 0 01-.47-.85.48.48 0 00.16-.12 4.48 4.48 0 00.94-2.24.57.57 0 00.82 0 .53.53 0 00.17-.25 4.17 4.17 0 000-.5.7.7 0 00-.65-.63c.24-.42.47-.87.71-1.27a.58.58 0 00-.51-.65z\"\n          fill=\"url(#Wordmark_svg__h)\"\n        />\n      </svg>\n    </SVGWrapper>\n  );\n};\n\nconst StyledLogo = styled(SVGLogo)`\n  > path {\n    fill: ${({ color, theme }) => {\n      return !color\n        ? theme === themes.dark\n          ? colors.white\n          : colors.purple\n        : color;\n    }};\n  }\n`;\n\nexport default StyledLogo;\n","import React from \"react\";\nimport styled from \"@emotion/styled\";\n\nimport BlankState from \"./blank-state\";\nimport LoadingIndicator from \"./loading-indicator\";\nimport GameNotFound from \"./game-not-found\";\nimport Board from \"./board\";\nimport Scoreboard from \"./scoreboard\";\nimport MediaControls from \"./mediaControls\";\nimport Logo from \"./logo\";\nimport { breakpoints, colors, themes } from \"../theme\";\nimport styles from \"./game/GamePage.module.css\";\n\nconst BoardTitle = styled(\"div\")(({ theme }) => ({\n  fontSize: \"2rem\",\n  fontWeight: \"600\",\n  textAlign: \"center\",\n  textTransform: \"uppercase\",\n  color: theme === themes.dark ? colors.lightText : colors.darkText\n}));\n\nconst HeaderWrapper = styled(\"div\")`\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  margin: 0.5rem 0;\n  text-align: center;\n\n  @media (min-width: ${breakpoints.xxl}) {\n    padding-top: 1rem;\n    padding-bottom: 2rem;\n  }\n`;\n\nconst LogoWrapper = styled(\"div\")`\n  width: 100%;\n  height: 5rem;\n\n  @media (min-width: ${breakpoints.lg}) {\n    height: 8rem;\n  }\n\n  @media (min-width: ${breakpoints.xxl}) {\n    height: 16rem;\n  }\n`;\n\nconst TurnCount = styled(\"div\")`\n  font-size: 2rem;\n  font-weight: 600;\n  text-transform: uppercase;\n  color: ${({ theme }) =>\n    theme === themes.dark ? colors.lightText : colors.darkText};\n\n  @media (min-width: ${breakpoints.xxl}) {\n    font-size: 3rem;\n  }\n`;\nconst TurnCountValue = styled(\"span\")`\n  display: inline-block;\n  width: 6rem;\n`;\n\nconst BoardWrapper = styled(\"div\")`\n  display: flex;\n  flex-direction: column;\n  width: 100%;\n  height: 100%;\n\n  @media (min-width: ${breakpoints.md}) {\n    width: ${({ hideScoreboard }) => (hideScoreboard ? \"100%\" : \"60vw\")};\n  }\n`;\n\nconst ScoreboardWrapper = styled(\"div\")`\n  display: none;\n  width: 40vw;\n  padding: 0 2rem;\n\n  @media (min-width: ${breakpoints.md}) {\n    display: ${({ hide }) => (hide ? \"none\" : \"block\")};\n  }\n`;\n\nconst Ruleset = styled(\"p\")`\n  margin: 0.25rem;\n  width: 100%;\n  font-size: 1.2rem;\n  text-align: center;\n  color: #aaa;\n  text-transform: capitalize;\n`;\n\nclass Game extends React.Component {\n  componentDidMount() {\n    const { options } = this.props;\n\n    this.props.togglePlayButtons(\"show\");\n\n    if (options.theme) {\n      this.props.toggleTheme(options.theme);\n    }\n\n    //if (!(options.game && options.engine)) {\n    if (!options.game) {\n      this.invalidArgs = true;\n      // return;\n    }\n\n    this.hideLogo = options.hideLogo === \"true\";\n    this.hideScoreboard = options.hideScoreboard === \"true\";\n    this.showFrameScrubber = options.showFrameScrubber;\n    this.title = options.title && decodeURIComponent(options.title);\n    this.props.setGameOptions(options);\n\n    if (this.props.frames.length === 0) {\n      this.props.fetchFrames();\n    }\n  }\n\n  render() {\n    if (this.invalidArgs) {\n      return <BlankState />;\n    }\n\n    if (this.props.gameNotFound) {\n      return <GameNotFound />;\n    }\n\n    if (this.props.currentFrame) {\n      return this.renderGame();\n    }\n\n    return <LoadingIndicator />;\n  }\n\n  renderGame() {\n    const { currentFrame, options } = this.props;\n    return (\n      <main className={options.theme}>\n        <section className={styles.game}>\n          <BoardWrapper hideScoreboard={this.hideScoreboard}>\n            <BoardTitle theme={options.theme}>{this.title}</BoardTitle>\n            <Board\n              snakes={currentFrame.snakes}\n              food={currentFrame.food}\n              foodImage={options.foodImage}\n              hazards={currentFrame.hazards}\n              columns={this.props.grid.width}\n              rows={this.props.grid.height}\n              highlightedSnake={this.props.highlightedSnake}\n              theme={options.theme}\n              turn={currentFrame.turn}\n              showCoordinateLabels={options.showCoordinateLabels}\n            />\n            <MediaControls\n              currentFrame={currentFrame}\n              hideControls={options.hideMediaControls === \"true\"}\n              reloadGame={this.props.reloadGame}\n              toggleGamePause={this.props.toggleGamePause}\n              stepBackwardFrame={this.props.stepBackwardFrame}\n              stepForwardFrame={this.props.stepForwardFrame}\n              stepToTurn={this.props.stepToTurn}\n              pauseGame={this.props.pauseGame}\n              paused={this.props.paused}\n              theme={options.theme}\n              persistAvailable={options.persistAvailable}\n              maxTurn={this.props.frames[this.props.frames.length - 1].turn}\n              showFrameScrubber={this.showFrameScrubber}\n              hasAllFrames={this.props.hasAllFrames}\n            />\n          </BoardWrapper>\n          {!this.hideScoreboard && (\n            <ScoreboardWrapper>\n              <HeaderWrapper>\n                {!this.hideLogo && (\n                  <LogoWrapper>\n                    <Logo theme={options.theme} />\n                  </LogoWrapper>\n                )}\n                <TurnCount theme={options.theme}>\n                  Turn <TurnCountValue>{currentFrame.turn}</TurnCountValue>\n                </TurnCount>\n              </HeaderWrapper>\n              <Scoreboard\n                turn={currentFrame.turn}\n                snakes={currentFrame.snakes}\n                food={currentFrame.food}\n                highlightSnake={this.props.highlightSnake}\n                theme={options.theme}\n              />\n              <Ruleset>Rules: {this.props.ruleset.name}</Ruleset>\n            </ScoreboardWrapper>\n          )}\n        </section>\n      </main>\n    );\n  }\n}\n\nexport default Game;\n","export const SET_GAME_OPTIONS = \"SET_GAME_OPTIONS\";\nexport const SET_THEME = \"SET_THEME\";\nexport const GAME_OVER = \"GAME_OVER\";\nexport const GAME_NOT_FOUND = \"GAME_NOT_FOUND\";\nexport const FETCH_FRAMES = \"FETCH_FRAMES\";\nexport const REQUEST_FRAMES = \"REQUEST_FRAMES\";\nexport const RECEIVE_FRAME = \"RECEIVE_FRAME\";\nexport const SET_CURRENT_FRAME = \"SET_CURRENT_FRAME\";\nexport const PAUSE_GAME = \"PAUSE_GAME\";\nexport const RESUME_GAME = \"RESUME_GAME\";\nexport const HIGHLIGHT_SNAKE = \"HIGHLIGHT_SNAKE\";\nexport const RECEIVE_EVENT_END = \"RECEIVE_EVENT_END\";\nexport const TOGGLE_SETTINGS_VIEW = \"TOGGLE_SETTINGS_VIEW\";\nexport const THEME_CHANGED = \"THEME_CHANGED\";\n","import { themes } from \"../../theme\";\n\nexport const DEFAULT_FRAMERATE = 6;\n\nexport const initialSettings = {\n  frameRate: DEFAULT_FRAMERATE,\n  theme: themes.light,\n  autoplay: false,\n  showFrameScrubber: false,\n  persistAvailable: false,\n  showCoordinateLabels: false\n};\n","import { delay, getFrameByTurn, streamAllEvents } from \"../utils/engine-client\";\nimport * as types from \"./action-types\";\nimport { DEFAULT_FRAMERATE } from \"../components/settings/defaults\";\n\nexport const setGameOptions = gameOptions => ({\n  type: types.SET_GAME_OPTIONS,\n  gameOptions\n});\n\nexport const setTheme = theme => ({\n  type: types.SET_THEME,\n  theme\n});\n\nexport const gameOver = () => ({\n  type: types.GAME_OVER\n});\n\nexport const gameNotFound = () => ({\n  type: types.GAME_NOT_FOUND\n});\n\nexport const requestFrames = () => ({\n  type: types.REQUEST_FRAMES\n});\n\nexport const receiveFrame = (game, frame) => ({\n  type: types.RECEIVE_FRAME,\n  game,\n  frame\n});\n\nexport const receiveEventEnd = (game, endEvent, frame) => ({\n  type: types.RECEIVE_EVENT_END,\n  game,\n  endEvent,\n  frame\n});\n\nexport const setCurrentFrame = frame => ({\n  type: types.SET_CURRENT_FRAME,\n  frame\n});\n\nexport const pauseGame = () => ({\n  type: types.PAUSE_GAME\n});\n\nexport const resumeGame = () => ({\n  type: types.RESUME_GAME\n});\n\nexport const highlightSnake = snakeId => ({\n  type: types.HIGHLIGHT_SNAKE,\n  snakeId\n});\n\nexport const fetchFrames = () => {\n  return async (dispatch, getState) => {\n    const {\n      autoplay,\n      engine: engineUrl,\n      game: gameId,\n      turn\n    } = getState().game.gameOptions;\n    dispatch(requestFrames());\n\n    try {\n      await streamAllEvents(engineUrl, gameId, (game, eventType, eventData) => {\n        if (eventType === \"frame\") {\n          const frame = eventData;\n          // Workaround for bug where turn exluded on turn 0\n          frame.Turn = frame.Turn || 0;\n          dispatch(receiveFrame(game, frame));\n\n          // Workaround to render the first frame into the board\n          if (frame.Turn === 0) {\n            const frame = getState().game.frames[0];\n            dispatch(setCurrentFrame(frame));\n\n            if (autoplay) {\n              dispatch(resumeGame());\n              dispatch(playFromFrame(frame));\n            }\n          }\n        } else if (eventType === \"game_end\") {\n          const numFrames = getState().game.frames.length;\n          const frame = getState().game.frames[numFrames - 1];\n          frame.gameOver = true;\n          dispatch(receiveEventEnd(game, eventData, frame));\n        }\n      });\n    } catch (e) {\n      console.log(e);\n      return dispatch(gameNotFound());\n    }\n\n    // Only navigate to the specified frame if it is within the\n    // amount of frames available in the game\n    if (turn && turn <= getState().game.frames.length) {\n      const frame = getState().game.frames[turn];\n      dispatch(setCurrentFrame(frame));\n    }\n  };\n};\n\nexport const playFromFrame = frame => {\n  return async (dispatch, getState) => {\n    const { frameRate } = getState().game.gameOptions;\n    const frames = getState().game.frames.slice(); // Don't modify in place\n    const frameIndex = frames.indexOf(frame);\n    const slicedFrames = frames.slice(frameIndex);\n\n    const ceiledFps = Math.ceil(frameRate || DEFAULT_FRAMERATE);\n    const delayMillis = 1000 / ceiledFps;\n\n    for (const frame of slicedFrames) {\n      if (getState().game.paused) return;\n      dispatch(setCurrentFrame(frame));\n      await delay(delayMillis);\n    }\n\n    const lastFrame = slicedFrames[slicedFrames.length - 1];\n    if (lastFrame.gameOver) {\n      if (!getState().game.paused) {\n        if (getState().game.gameOptions.loop) {\n          const frame = getFrameByTurn(frames, 0);\n          dispatch(playFromFrame(frame));\n        } else {\n          dispatch(gameOver());\n        }\n      }\n    } else {\n      dispatch(playFromFrame(lastFrame));\n    }\n  };\n};\n\nexport const reloadGame = () => {\n  return async (dispatch, getState) => {\n    const { frames, paused } = getState().game;\n    if (paused) {\n      const frame = getFrameByTurn(frames, 0);\n      dispatch(setCurrentFrame(frame));\n    }\n  };\n};\n\nexport const toggleGamePause = () => {\n  return async (dispatch, getState) => {\n    const { currentFrame, paused } = getState().game;\n\n    if (paused) {\n      dispatch(resumeGame());\n      dispatch(playFromFrame(currentFrame));\n    } else {\n      dispatch(pauseGame());\n    }\n  };\n};\n\nexport const pauseGameAction = () => {\n  return async (dispatch, getState) => {\n    const { paused } = getState().game;\n\n    if (!paused) {\n      dispatch(pauseGame());\n    }\n  };\n};\n\nexport const toggleTheme = themeToSet => {\n  return async dispatch => {\n    dispatch(setTheme(themeToSet));\n  };\n};\n\nexport const stepForwardFrame = () => {\n  return async (dispatch, getState) => {\n    const { currentFrame, frames } = getState().game;\n    const nextFrame = currentFrame.turn + 1;\n    const stepToFrame = getFrameByTurn(frames, nextFrame);\n    if (stepToFrame) {\n      dispatch(setCurrentFrame(stepToFrame));\n    }\n  };\n};\n\nexport const stepBackwardFrame = () => {\n  return async (dispatch, getState) => {\n    const { currentFrame, frames } = getState().game;\n    const prevFrame = currentFrame.turn - 1;\n    const stepToFrame = getFrameByTurn(frames, prevFrame);\n    if (stepToFrame) {\n      dispatch(setCurrentFrame(stepToFrame));\n    }\n  };\n};\n\nexport const stepToTurn = turn => {\n  return async (dispatch, getState) => {\n    const { frames } = getState().game;\n\n    const stepToFrame = getFrameByTurn(frames, turn);\n    if (stepToFrame) {\n      dispatch(setCurrentFrame(stepToFrame));\n    }\n  };\n};\n\nexport const togglePlayButtons = showHide => ({\n  type: types.TOGGLE_SETTINGS_VIEW,\n  showHide\n});\n\nexport const themeChanged = theme => ({\n  type: types.THEME_CHANGED,\n  theme\n});\n","import { connect } from \"react-redux\";\nimport { parseQueryString } from \"../../utils/url\";\nimport Game from \"../../components/game\";\nimport {\n  fetchFrames,\n  reloadGame,\n  toggleGamePause,\n  toggleTheme,\n  setGameOptions,\n  stepForwardFrame,\n  stepBackwardFrame,\n  stepToTurn,\n  highlightSnake,\n  pauseGameAction,\n  togglePlayButtons\n} from \"../../actions\";\n\nconst options = parseQueryString(window.location.search);\nif (typeof options.autoplay !== \"undefined\") {\n  options.autoplay = options.autoplay === \"true\";\n}\nif (typeof options.showFrameScrubber !== \"undefined\") {\n  options.showFrameScrubber = options.showFrameScrubber === \"true\";\n}\n\nconst mapStateToProps = state => {\n  const gameState = state.game;\n  const settings = state.settings;\n\n  return {\n    options: { ...settings, ...options },\n    ruleset: gameState.ruleset,\n    grid: gameState.grid,\n    gameNotFound: gameState.gameNotFound,\n    paused: gameState.paused,\n    currentFrame: gameState.currentFrame,\n    frames: gameState.frames,\n    highlightedSnake: gameState.highlightedSnake,\n    theme: options.boardTheme || settings.theme,\n    hasAllFrames: !!gameState.endEvent\n  };\n};\n\nconst mapDispatchToProps = dispatch => ({\n  setGameOptions: options => dispatch(setGameOptions(options)),\n  fetchFrames: () => dispatch(fetchFrames()),\n  toggleTheme: theme => dispatch(toggleTheme(theme)),\n  reloadGame: () => dispatch(reloadGame()),\n  toggleGamePause: paused => dispatch(toggleGamePause(paused)),\n  pauseGame: () => dispatch(pauseGameAction()),\n  stepForwardFrame: () => dispatch(stepForwardFrame()),\n  stepBackwardFrame: () => dispatch(stepBackwardFrame()),\n  stepToTurn: i => dispatch(stepToTurn(i)),\n  highlightSnake: snakeId => dispatch(highlightSnake(snakeId)),\n  togglePlayButtons: showHide => dispatch(togglePlayButtons(showHide))\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Game);\n","import {\n  DEFAULT_FRAMERATE,\n  initialSettings\n} from \"../components/settings/defaults\";\n\nexport function storageAvailable(type) {\n  let storage;\n  try {\n    storage = window[type];\n    const x = \"__storage_test__\";\n    storage.setItem(x, x);\n    storage.removeItem(x);\n    return true;\n  } catch (e) {\n    return (\n      ((e instanceof DOMException &&\n        // everything except Firefox\n        e.code === 22) ||\n        // Firefox\n        e.code === 1014 ||\n        // test name field too, because code might not be present\n        // everything except Firefox\n        e.name === \"QuotaExceededError\" ||\n        // Firefox\n        e.name === \"NS_ERROR_DOM_QUOTA_REACHED\") &&\n      // acknowledge QuotaExceededError only if there's something already stored\n      storage &&\n      storage.length !== 0\n    );\n  }\n}\n\nexport function getLocalSetting(key) {\n  if (storageAvailable(\"localStorage\")) {\n    return window.localStorage.getItem(key);\n  }\n}\n\nexport function setLocalSetting(key, value) {\n  if (storageAvailable(\"localStorage\")) {\n    window.localStorage.setItem(key, value);\n  }\n}\n\nexport function rehydrateLocalSettings() {\n  let checkAutoplay = getLocalSetting(\"autoplay\");\n  let checkShowFrameScrubber = getLocalSetting(\"showFrameScrubber\");\n\n  let showCoordinateLabels = getLocalSetting(\"showCoordinateLabels\");\n\n  if (typeof checkAutoplay === \"undefined\") {\n    checkAutoplay = initialSettings.autoplay;\n  } else {\n    checkAutoplay = checkAutoplay === \"true\";\n  }\n\n  if (typeof checkShowFrameScrubber === \"undefined\") {\n    checkShowFrameScrubber = initialSettings.showFrameScrubber;\n  } else {\n    checkShowFrameScrubber = checkShowFrameScrubber === \"true\";\n  }\n\n  if (typeof showCoordinateLabels === \"undefined\") {\n    showCoordinateLabels = initialSettings.showCoordinateLabels;\n  } else {\n    showCoordinateLabels = showCoordinateLabels === \"true\";\n  }\n\n  return {\n    frameRate: Number(getLocalSetting(\"frameRate\")) || DEFAULT_FRAMERATE,\n    theme: getLocalSetting(\"theme\") || initialSettings.theme,\n    showFrameScrubber: checkShowFrameScrubber,\n    autoplay: checkAutoplay,\n    showCoordinateLabels: showCoordinateLabels\n  };\n}\n","import { createSlice } from \"@reduxjs/toolkit\";\nimport { getLocalSetting, setLocalSetting } from \"../../app/storage\";\nimport { initialSettings as initialState } from \"./defaults\";\n\nexport const settingsSlice = createSlice({\n  name: \"settings\",\n  initialState,\n  reducers: {\n    frameRateUpdated(state, action) {\n      state.frameRate = action.payload;\n    },\n    themeSelected(state, action) {\n      state.theme = action.payload;\n    },\n    autoPlayUpdated(state, action) {\n      state.autoplay = action.payload;\n    },\n    showFrameScrubberUpdated(state, action) {\n      state.showFrameScrubber = action.payload;\n    },\n    showCoordinateLabelsUpdated(state, action) {\n      state.showCoordinateLabels = action.payload;\n    }\n  }\n});\n\n// toolkit generates the actions for us\nexport const {\n  frameRateUpdated,\n  themeSelected,\n  autoPlayUpdated,\n  showFrameScrubberUpdated,\n  showCoordinateLabelsUpdated\n} = settingsSlice.actions;\n\n// The function below is called a selector and allows us to select a value from\n// the state. Selectors can also be defined inline where they're used instead of\n// in the slice file. For example: `useSelector((state: RootState) => state.counter.value)`\nexport const currentFrameRate = state => state.settings.frameRate;\nexport const currentTheme = state => state.settings.theme;\nexport const currentAutoplay = state => state.settings.autoplay;\nexport const currentShowFrameScrubber = state =>\n  state.settings.showFrameScrubber;\nexport const currentShowCoordinateLabels = state =>\n  state.settings.showCoordinateLabels;\n\nexport function settingsStoreListener(state) {\n  if (state.settings.frameRate !== getLocalSetting(\"frameRate\")) {\n    setLocalSetting(\"frameRate\", state.settings.frameRate);\n  }\n\n  if (state.settings.theme !== getLocalSetting(\"theme\")) {\n    setLocalSetting(\"theme\", state.settings.theme);\n  }\n\n  if (state.settings.autoplay !== getLocalSetting(\"autoplay\")) {\n    setLocalSetting(\"autoplay\", state.settings.autoplay);\n  }\n\n  if (\n    state.settings.showFrameScrubber !== getLocalSetting(\"showFrameScrubber\")\n  ) {\n    setLocalSetting(\"showFrameScrubber\", state.settings.showFrameScrubber);\n  }\n\n  if (\n    state.settings.showCoordinateLabels !==\n    getLocalSetting(\"showCoordinateLabels\")\n  ) {\n    setLocalSetting(\n      \"showCoordinateLabels\",\n      state.settings.showCoordinateLabels\n    );\n  }\n}\n\nexport default settingsSlice.reducer;\n","import style from \"./PlaybackSpeed.module.css\";\nimport { DEFAULT_FRAMERATE } from \"../defaults\";\n\nexport const SLIDER_SLOW = 1;\nexport const SLIDER_MEDIUM = 2;\nexport const SLIDER_FAST = 3;\n\nexport const SPEED_SLOW = 3;\nexport const SPEED_MEDIUM = DEFAULT_FRAMERATE;\nexport const SPEED_FAST = 20;\n\nconst speedRanges = {\n  SPEED_SLOW: { min: 1, max: 5 },\n  SPEED_MEDIUM: { min: 6, max: 12 },\n  SPEED_FAST: { min: 13, max: 20 }\n};\n\nfunction valueChanged(e, changeHandler) {\n  let fps = SPEED_FAST;\n  const sliderValue = e.target.valueAsNumber || e.target.value;\n\n  if (sliderValue <= SLIDER_SLOW) {\n    fps = SPEED_SLOW;\n  } else if (sliderValue <= SLIDER_MEDIUM) {\n    fps = SPEED_MEDIUM;\n  }\n\n  changeHandler.call(this, fps);\n}\n\nfunction defaultValueHandler(value) {\n  let defaultValue = SLIDER_MEDIUM;\n\n  if (value <= speedRanges.SPEED_SLOW.max) {\n    defaultValue = SLIDER_SLOW;\n  } else if (value > speedRanges.SPEED_MEDIUM.max) {\n    defaultValue = SLIDER_FAST;\n  }\n\n  return defaultValue;\n}\n\nconst PlaybackSpeed = props => {\n  return (\n    <>\n      <input\n        type=\"range\"\n        min={SLIDER_SLOW}\n        max={SLIDER_FAST}\n        value={defaultValueHandler(props.default)}\n        onChange={e => valueChanged(e, props.onChange)}\n      />\n      <div className={style.labels}>\n        <span>Slow</span>\n        <span>Medium</span>\n        <span>Fast</span>\n      </div>\n    </>\n  );\n};\n\nexport default PlaybackSpeed;\n","import React, { useEffect } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport {\n  autoPlayUpdated,\n  currentAutoplay,\n  currentFrameRate,\n  currentTheme,\n  currentShowFrameScrubber,\n  frameRateUpdated,\n  themeSelected,\n  showFrameScrubberUpdated,\n  currentShowCoordinateLabels,\n  showCoordinateLabelsUpdated\n} from \"./settings-slice\";\nimport PlaybackSpeed from \"./playback/PlaybackSpeed\";\nimport styles from \"./SettingsPage.module.css\";\nimport { useHistory } from \"react-router-dom\";\nimport { togglePlayButtons, pauseGame, themeChanged } from \"../../actions\";\n\nconst SettingsPage = () => {\n  const history = useHistory();\n  const theme = useSelector(currentTheme);\n  const playbackSpeed = useSelector(currentFrameRate);\n  const autoplay = useSelector(currentAutoplay);\n  const showFrameScrubber = useSelector(currentShowFrameScrubber);\n  const showCoordinateLabels = useSelector(currentShowCoordinateLabels);\n  const dispatch = useDispatch();\n\n  useEffect(() => {\n    dispatch(togglePlayButtons(\"hide\"));\n    dispatch(pauseGame());\n  });\n\n  function dispatchSpeedChange(fps) {\n    dispatch(frameRateUpdated(fps));\n  }\n\n  return (\n    <main>\n      <section>\n        <h2>Playback Settings</h2>\n        <fieldset>\n          <legend>Playback Speed</legend>\n          <div className={styles.info}>\n            Adjust the playback speed of your games\n          </div>\n          <div className={styles.inputContainer}>\n            <PlaybackSpeed\n              default={playbackSpeed}\n              onChange={dispatchSpeedChange}\n            />\n          </div>\n        </fieldset>\n        <fieldset>\n          <legend>Theme</legend>\n          <div className={styles.info}>Change your game theme colors</div>\n          <div className={styles.inputContainer && styles.row}>\n            <label>\n              <input\n                type=\"radio\"\n                value=\"light\"\n                name=\"theme\"\n                checked={theme === \"light\"}\n                onChange={e =>\n                  dispatch(themeSelected(e.target.value)) &&\n                  dispatch(themeChanged(e.target.value))\n                }\n              />\n              <span className={styles.radio} />\n              Light\n            </label>\n            <label>\n              <input\n                type=\"radio\"\n                value=\"dark\"\n                name=\"theme\"\n                checked={theme === \"dark\"}\n                onChange={e =>\n                  dispatch(themeSelected(e.target.value)) &&\n                  dispatch(themeChanged(e.target.value))\n                }\n              />\n              <span className={styles.radio} />\n              Projector\n            </label>\n          </div>\n        </fieldset>\n        <fieldset>\n          <legend>Autoplay</legend>\n          <div className={styles.info}>\n            All games will start playing as soon as the game loads\n          </div>\n          <div className={styles.inputContainer}>\n            <label>\n              <input\n                type=\"checkbox\"\n                name=\"autoplay\"\n                checked={autoplay}\n                onChange={e => dispatch(autoPlayUpdated(e.target.checked))}\n              />\n              <span className={styles.checkmark} />\n              {autoplay ? \"On\" : \"Off\"}\n            </label>\n          </div>\n        </fieldset>\n        <fieldset>\n          <legend>Frame Scrubber [EXPERIMENTAL]</legend>\n          <div className={styles.info}>\n            Display progress bar that shows current frame and allows quickly\n            jumping to specific frames. &nbsp;\n            <a\n              href=\"https://github.com/BattlesnakeOfficial/feedback/discussions/171\"\n              target=\"_blank\"\n              rel=\"noreferrer\"\n            >\n              Let us know what you think!\n            </a>\n          </div>\n          <div className={styles.inputContainer}>\n            <label>\n              <input\n                type=\"checkbox\"\n                name=\"showFrameScrubber\"\n                checked={showFrameScrubber}\n                onChange={e =>\n                  dispatch(showFrameScrubberUpdated(e.target.checked))\n                }\n              />\n              <span className={styles.checkmark} />\n              {showFrameScrubber ? \"On\" : \"Off\"}\n            </label>\n          </div>\n        </fieldset>\n        <fieldset>\n          <legend>Show Coordinate Labels [EXPERIMENTAL]</legend>\n          <div className={styles.info}>\n            Adds coordinate labels to the game board. &nbsp; These go from 0 to\n            the width/height of the board to make it easier to debug games\n            <a\n              href=\"https://github.com/orgs/BattlesnakeOfficial/discussions/231\"\n              target=\"_blank\"\n              rel=\"noreferrer\"\n            >\n              Let us know what you think!\n            </a>\n          </div>\n          <div className={styles.inputContainer}>\n            <label>\n              <input\n                type=\"checkbox\"\n                name=\"showCoordinateLabels\"\n                checked={showCoordinateLabels}\n                onChange={e =>\n                  dispatch(showCoordinateLabelsUpdated(e.target.checked))\n                }\n              />\n              <span className={styles.checkmark} />\n              {showCoordinateLabels ? \"On\" : \"Off\"}\n            </label>\n          </div>\n        </fieldset>\n        <fieldset className={styles.centered}>\n          <button onClick={() => history.goBack()}>Return to Game</button>\n        </fieldset>\n      </section>\n    </main>\n  );\n};\n\nexport default SettingsPage;\n","import { Route, Switch } from \"react-router-dom\";\nimport GamePage from \"./components/game/GamePage\";\nimport SettingsPage from \"./components/settings/SettingsPage\";\nimport \"./App.css\";\n\nconst App = () => {\n  return (\n    <Switch>\n      <Route path=\"/settings\" component={SettingsPage} />\n      <Route component={GamePage} />\n    </Switch>\n  );\n};\n\nexport default App;\n","import cloneDeep from \"lodash.clonedeep\";\n\nconst DEFAULT_DIRECTION = \"right\";\n\nconst TYPE_HEAD = \"head\";\nconst TYPE_TAIL = \"tail\";\nconst TYPE_BODY = \"body\";\n\nexport function formatFrame(frame) {\n  cleanFrame(frame);\n  const snakes = formatSnakes(frame.Snakes);\n  return {\n    turn: frame.Turn,\n    snakes: snakes,\n    food: formatPositions(frame.Food),\n    hazards: formatPositions(frame.Hazards)\n  };\n}\n\nexport function sanitizeFrame(frame) {\n  // Copy without reference\n  const sanitizedFrame = cloneDeep(frame);\n\n  // nullify some fields\n  for (const i in sanitizedFrame.snakes) {\n    const snake = sanitizedFrame.snakes[i];\n    snake.id = snake._id;\n    delete snake._id;\n\n    delete snake.headSvg;\n    delete snake.tailSvg;\n  }\n\n  return sanitizedFrame;\n}\n\nfunction formatSnakes(snakes) {\n  if (snakes) {\n    let newSnakes = snakes.map(formatSnake);\n\n    // Populate eliminatedBy names\n    newSnakes.forEach(function(snake, index) {\n      if (\n        snake.death &&\n        snake.death.eliminatedBy &&\n        snake.death.eliminatedBy.length > 0\n      ) {\n        for (const i in newSnakes) {\n          if (newSnakes[i]._id === snake.death.eliminatedBy) {\n            newSnakes[index].death.eliminatedBy = newSnakes[i].name;\n            break;\n          }\n        }\n      }\n    });\n    return newSnakes;\n  }\n}\n\nfunction formatSnake(snake) {\n  var renderedParts = snake.Body.filter((_, i) => shouldRenderPart(snake, i));\n  return {\n    body: snake.Body.map((_, i) => formatSnakePart(snake, i)),\n    color: snake.Color,\n    _id: snake.ID,\n    name: snake.Name,\n    effectiveSpace: renderedParts.length,\n    health: snake.Health,\n    latency: snake.Latency,\n    error: snake.Error,\n    timing: snake.TimingMicros,\n    isDead: !!snake.Death,\n    death: formatDeath(snake.Death),\n    head: snake.HeadType && snake.HeadType.toLowerCase(),\n    tail: snake.TailType && snake.TailType.toLowerCase(),\n    headSvg: snake.HeadSvg,\n    tailSvg: snake.TailSvg,\n    squad: snake.Squad,\n    author: snake.Author,\n    shout: snake.Shout\n  };\n}\n\nfunction formatDeath(death) {\n  if (!death) {\n    return;\n  }\n  return {\n    cause: death.Cause,\n    turn: death.Turn || 0,\n    eliminatedBy: death.EliminatedBy\n  };\n}\n\nfunction shouldRenderPart(snake, partIndex) {\n  const headIndex = 0;\n  const tailIndex = snake.Body.length - 1;\n  const head = snake.Body[headIndex];\n  const tail = snake.Body[tailIndex];\n  const currPart = snake.Body[partIndex];\n\n  // always render head\n  if (partIndex === headIndex) {\n    return true;\n  }\n\n  // render tail if not covered by head\n  if (partIndex === tailIndex) {\n    return !(head.X === currPart.X && head.Y === currPart.Y);\n  }\n\n  // render middle part if it's in a different position than\n  // the next piece closer to head, and not in same spot as tail\n  const nextPart = snake.Body[partIndex - 1];\n  return (\n    !(tail.X === currPart.X && tail.Y === currPart.Y) &&\n    !(head.X === currPart.X && head.Y === currPart.Y) &&\n    !(nextPart && nextPart.X === currPart.X && nextPart.Y === currPart.Y)\n  );\n}\n\nfunction formatSnakePart(snake, partIndex) {\n  const part = snake.Body[partIndex];\n  const type = getType(snake, partIndex);\n  const { x, y } = formatPosition(part);\n  const direction = formatDirection(type, snake, part, partIndex);\n  const isOverlapped = !shouldRenderPart(snake, partIndex) ? true : undefined;\n\n  return {\n    direction,\n    type,\n    isOverlapped,\n    x,\n    y\n  };\n}\n\nfunction formatPositions(positions) {\n  if (positions) {\n    return positions.map(formatPosition);\n  }\n}\n\nfunction formatPosition(pos) {\n  return {\n    x: pos.X,\n    y: pos.Y\n  };\n}\n\nfunction formatDirection(type, snake, part, partIndex) {\n  let direction;\n  if (type === \"head\") {\n    direction = getDirection(snake.Body[1], snake.Body[0]);\n  } else {\n    // handle special case where parts overlap\n    var prevPart;\n    do {\n      prevPart = snake.Body[Math.max(partIndex - 1, 0)];\n      --partIndex;\n    } while (partIndex > 0 && prevPart.X === part.X && prevPart.Y === part.Y);\n\n    direction = getDirection(part, prevPart);\n  }\n\n  return direction;\n}\n\nfunction getDirection(a, b) {\n  if (a && b) {\n    // Handle cases where b is one move after a\n    if (a.X + 1 === b.X) {\n      return \"right\";\n    } else if (a.X - 1 === b.X) {\n      return \"left\";\n    } else if (a.Y + 1 === b.Y) {\n      return \"up\";\n    } else if (a.Y - 1 === b.Y) {\n      return \"down\";\n    }\n    // Handle wrapped cases (we can anchor against one part being on 0 axis)\n    if (a.X > b.X && b.X === 0) {\n      return \"right\";\n    } else if (a.X < b.X && a.X === 0) {\n      return \"left\";\n    } else if (a.Y > b.Y && b.Y === 0) {\n      return \"up\";\n    } else if (a.Y < b.Y && a.Y === 0) {\n      return \"down\";\n    }\n  }\n  return DEFAULT_DIRECTION;\n}\n\nfunction getType(snake, partIndex) {\n  if (partIndex === 0) {\n    return TYPE_HEAD;\n  }\n\n  if (partIndex === snake.Body.length - 1) {\n    return TYPE_TAIL;\n  }\n\n  return TYPE_BODY;\n}\n\n// This is a workaround for fields that are omitted when they have the default\n// value. ie: int fields that need to default to 0 rather than undefined.\nfunction cleanFrame(frame) {\n  frame.Turn = frame.Turn || 0;\n\n  for (const snake of frame.Snakes) {\n    for (const part of snake.Body) {\n      part.X = part.X || 0;\n      part.Y = part.Y || 0;\n    }\n  }\n\n  for (const food of frame.Food) {\n    food.X = food.X || 0;\n    food.Y = food.Y || 0;\n  }\n}\n","import { formatFrame, sanitizeFrame } from \"../utils/game-state\";\nimport * as types from \"../actions/action-types\";\nimport { themes } from \"../theme\";\n\nconst initialState = {\n  options: null,\n  grid: [],\n  frames: [],\n  endEvent: {},\n  paused: true,\n  gameNotFound: false,\n  highlightedSnake: null,\n  theme: themes.light\n};\n\nconst reducers = (state = initialState, action) => {\n  switch (action.type) {\n    case types.SET_THEME:\n      return { ...state, theme: action.theme };\n    case types.SET_GAME_OPTIONS:\n      action.gameOptions.turn = parseInt(action.gameOptions.turn) || 0;\n      action.gameOptions.loop =\n        action.gameOptions.loop && action.gameOptions.loop === \"true\";\n      return { ...state, gameOptions: action.gameOptions };\n    case types.GAME_NOT_FOUND:\n      return { ...state, gameNotFound: true };\n    case types.PAUSE_GAME:\n      return { ...state, paused: true };\n    case types.GAME_OVER:\n      windowPostMessage({\n        action: action.type,\n        endEvent: action.endEvent\n      });\n      return { ...state, paused: true };\n    case types.RESUME_GAME:\n      return { ...state, paused: false };\n    case types.SET_CURRENT_FRAME:\n      windowPostMessage({\n        action: action.type,\n        frame: sanitizeFrame(action.frame)\n      });\n      return { ...state, currentFrame: action.frame };\n    case types.RECEIVE_FRAME:\n      const frame = formatFrame(action.frame);\n      return {\n        ...state,\n        ruleset: action.game.Game.Ruleset,\n        grid: {\n          height: action.game.Game.Height,\n          width: action.game.Game.Width\n        },\n        frames: [...state.frames, frame] // Be smart: this consumes A LOT of memory...\n      };\n    case types.RECEIVE_EVENT_END:\n      return {\n        ...state,\n        endEvent: action.endEvent,\n        frames: [...state.frames, action.frame]\n      };\n    case types.REQUEST_FRAMES:\n      return { ...state };\n    case types.FETCH_FRAMES:\n      return { ...state };\n    case types.HIGHLIGHT_SNAKE:\n      windowPostMessage({\n        action: action.type,\n        id: action.snakeId,\n        name: action.snakeId\n          ? state.currentFrame.snakes.find(s => s._id === action.snakeId).name\n          : null\n      });\n      return { ...state, highlightedSnake: action.snakeId };\n    case types.TOGGLE_SETTINGS_VIEW:\n      windowPostMessage({\n        action: action.type,\n        value: action.showHide\n      });\n      return { ...state };\n    case types.THEME_CHANGED:\n      windowPostMessage({\n        action: action.type,\n        value: action.theme\n      });\n      return { ...state };\n    default:\n      return { ...state };\n  }\n};\n\nfunction windowPostMessage(data) {\n  if (!window.parent) {\n    return;\n  }\n  try {\n    window.parent.postMessage(data, \"*\");\n  } catch (e) {\n    console.error(e);\n  }\n}\n\nexport default reducers;\n","import { configureStore } from \"@reduxjs/toolkit\";\nimport rootReducer from \"../reducers\";\nimport settingsReducer, {\n  settingsStoreListener\n} from \"../components/settings/settings-slice\";\nimport { initialSettings } from \"../components/settings/defaults\";\nimport { themes } from \"../theme\";\nimport { rehydrateLocalSettings, storageAvailable } from \"./storage\";\n\nfunction rehydrateInitialState() {\n  let initialState = {\n    game: {\n      options: null,\n      grid: [],\n      frames: [],\n      endEvent: null,\n      paused: true,\n      gameNotFound: false,\n      highlightedSnake: null,\n      theme: themes.light\n    },\n    settings: initialSettings\n  };\n\n  if (storageAvailable(\"localStorage\")) {\n    initialState.settings = rehydrateLocalSettings();\n    initialState.settings.persistAvailable = true;\n  } else {\n    console.info(\n      \"Please enable localStorage for an improved experience that allows you to persist board settings.\"\n    );\n  }\n\n  return initialState;\n}\n\nconst store = configureStore({\n  reducer: {\n    game: rootReducer,\n    settings: settingsReducer\n  },\n  middleware: getDefaultMiddleware =>\n    getDefaultMiddleware({\n      immutableCheck: false,\n      serializableCheck: false\n    }),\n  preloadedState: rehydrateInitialState()\n});\n\nstore.subscribe(() => {\n  settingsStoreListener(store.getState());\n});\n\nexport default store;\n","import React from \"react\";\nimport { render } from \"react-dom\";\nimport { Provider } from \"react-redux\";\nimport App from \"./App\";\nimport store from \"./app/store\";\nimport { BrowserRouter as Router } from \"react-router-dom\";\n\nrender(\n  <Provider store={store}>\n    <Router>\n      <App />\n    </Router>\n  </Provider>,\n  document.getElementById(\"root\")\n);\n"]}}