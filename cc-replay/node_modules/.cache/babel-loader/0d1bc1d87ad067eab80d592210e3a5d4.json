{"ast":null,"code":"import _classCallCheck from\"/home/y-yabust/CC/cc-replay/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/home/y-yabust/CC/cc-replay/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/home/y-yabust/CC/cc-replay/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/home/y-yabust/CC/cc-replay/node_modules/@babel/runtime/helpers/esm/createSuper\";import _taggedTemplateLiteral from\"/home/y-yabust/CC/cc-replay/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral\";var _templateObject,_templateObject2,_templateObject3,_templateObject4;import React from\"react\";import styled from\"@emotion/styled\";import KeyboardEventHandler from\"react-keyboard-event-handler\";import{withRouter}from\"react-router\";import{themes,breakpoints}from\"../theme\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var MediaControlsWrapper=styled(\"div\")(_templateObject||(_templateObject=_taggedTemplateLiteral([\"\\n  display: \",\";\\n  margin-top: 1rem;\\n  width: 100%;\\n\"])),function(_ref){var hide=_ref.hide;return hide?\"none\":\"block\";});var KeyboardShortcutsWrapper=styled(\"div\")({position:\"relative\"});var ShortcutsPane=styled(\"div\")(_templateObject2||(_templateObject2=_taggedTemplateLiteral([\"\\n  position: absolute;\\n  bottom: 2.5rem;\\n  right: 2.5rem;\\n  width: 20rem;\\n  padding: 1rem;\\n  border: solid 1px #999;\\n  background: #fff;\\n\\n  @media (min-width: \",\") {\\n    left: 2.5rem;\\n    right: 0;\\n  }\\n\\n  h4 {\\n    margin-top: 0;\\n    margin-bottom: 1rem;\\n  }\\n\\n  ul {\\n    list-style-type: none;\\n    margin: 0;\\n    padding: 0;\\n  }\\n\"])),breakpoints.md);var ButtonWrapper=styled(\"div\")({display:\"flex\",justifyContent:\"center\",width:\"100%\"});var Button=styled(\"button\")(_templateObject3||(_templateObject3=_taggedTemplateLiteral([\"\\n  display: inline-block;\\n  min-width: 3rem;\\n  text-align: center;\\n  background: transparent;\\n  color: \",\";\\n  font-size: 1.4rem;\\n  border: none;\\n  text-decoration: none;\\n  cursor: pointer;\\n  transition: background 250ms ease-in-out, transform 150ms ease;\\n  -webkit-appearance: none;\\n  -moz-appearance: none;\\n\\n  &:hover {\\n    cursor: pointer;\\n  }\\n\\n  &:focus {\\n    outline: none;\\n  }\\n\\n  &:disabled {\\n    color: #ccc;\\n    cursor: not-allowed;\\n  }\\n\\n  @media (max-width: \",\") {\\n    padding: 2rem 2rem;\\n  }\\n\"])),function(_ref2){var theme=_ref2.theme;return theme===themes.dark?\"#eee\":\"#333\";},breakpoints.sm);var Scrubber=styled(\"input\")(_templateObject4||(_templateObject4=_taggedTemplateLiteral([\"\\n  width: 100%;\\n  max-width: 60rem;\\n\\n  &:disabled,\\n  &:disabled:hover {\\n    opacity: 0.2;\\n    cursor: not-allowed;\\n  }\\n\"])));var MediaControls=/*#__PURE__*/function(_React$Component){_inherits(MediaControls,_React$Component);var _super=_createSuper(MediaControls);function MediaControls(props){var _this;_classCallCheck(this,MediaControls);_this=_super.call(this,props);_this.state={paneHidden:true};_this.handleParentKeyboardEvent=function(e){var code=e.data.code;_this.handleKeyEvent(_this.keyboardCodeMap[code],e);};_this.handleReload=function(){_this.props.reloadGame();};_this.handlePlayPause=function(){_this.props.toggleGamePause();};_this.handleBackward=function(){_this.props.stepBackwardFrame();};_this.handleForward=function(){_this.props.stepForwardFrame();};_this.handleScrubMouseDown=function(){_this.props.pauseGame();};_this.handleScrubbing=function(event){_this.props.stepToTurn(parseInt(event.target.value));};_this.handleSettings=function(){if(_this.props.persistAvailable){_this.props.history.push(\"/settings\");}};_this.handleShortcutPaneShowToggle=function(){_this.setState({paneHidden:!_this.state.paneHidden});};_this.handleKeyEvent=function(key,e){e.preventDefault();switch(key){case\"r\":_this.handleReload();break;case\"left\":_this.handleBackward();break;case\"right\":_this.handleForward();break;case\"space\":_this.handlePlayPause();break;case\",\":_this.handleSettings();break;default:break;}};_this.keyboardCodeMap={KeyR:\"r\",ArrowLeft:\"left\",ArrowRight:\"right\",Space:\"space\",Settings:\",\"};return _this;}_createClass(MediaControls,[{key:\"componentDidMount\",value:function componentDidMount(){window.addEventListener(\"message\",this.handleParentKeyboardEvent);}},{key:\"componentWillUnmount\",value:function componentWillUnmount(){window.removeEventListener(\"message\",this.handleParentKeyboardEvent);}},{key:\"render\",value:function render(){return this.renderControls();}},{key:\"renderScrubbing\",value:function renderScrubbing(){var value=this.props.hasAllFrames?this.props.currentFrame.turn:0;var max=this.props.hasAllFrames?this.props.maxTurn:0;return this.props.showFrameScrubber&&/*#__PURE__*/_jsx(ButtonWrapper,{children:/*#__PURE__*/_jsx(Scrubber,{type:\"range\",min:\"0\",max:max,value:value,onMouseDown:this.handleScrubMouseDown,onChange:this.handleScrubbing,disabled:!this.props.hasAllFrames})});}},{key:\"renderControls\",value:function renderControls(){var _this$props=this.props,currentFrame=_this$props.currentFrame,hideControls=_this$props.hideControls,paused=_this$props.paused,theme=_this$props.theme,persistAvailable=_this$props.persistAvailable;var settingsInfo=persistAvailable?\"Configure playback settings\":\"Enable localStorage to configure playback settings\";return/*#__PURE__*/_jsxs(MediaControlsWrapper,{hide:hideControls,children:[this.renderScrubbing(),/*#__PURE__*/_jsxs(ButtonWrapper,{children:[/*#__PURE__*/_jsx(Button,{onClick:this.handleBackward,disabled:currentFrame.turn===0||!paused,theme:theme,children:/*#__PURE__*/_jsx(\"span\",{className:\"material-icons icon-image-preview\",children:\"skip_previous\"})}),/*#__PURE__*/_jsx(Button,{onClick:this.handlePlayPause,theme:theme,children:/*#__PURE__*/_jsx(\"span\",{className:\"material-icons icon-image-preview\",children:paused?\"play_arrow\":\"pause\"})}),/*#__PURE__*/_jsx(Button,{onClick:this.handleForward,disabled:!paused,theme:theme,children:/*#__PURE__*/_jsx(\"span\",{className:\"material-icons icon-image-preview\",children:\"skip_next\"})}),/*#__PURE__*/_jsx(Button,{onClick:this.handleReload,disabled:currentFrame.turn===0||!paused,theme:theme,children:/*#__PURE__*/_jsx(\"span\",{className:\"material-icons icon-image-preview\",children:\"refresh\"})}),/*#__PURE__*/_jsx(Button,{onClick:this.handleSettings,disabled:!persistAvailable,theme:theme,children:/*#__PURE__*/_jsx(\"span\",{className:\"material-icons icon-image-preview\",title:settingsInfo,children:\"settings\"})}),/*#__PURE__*/_jsx(KeyboardEventHandler,{handleKeys:Object.values(this.keyboardCodeMap),onKeyEvent:this.handleKeyEvent}),/*#__PURE__*/_jsxs(KeyboardShortcutsWrapper,{children:[/*#__PURE__*/_jsx(Button,{onClick:this.handleShortcutPaneShowToggle,theme:theme,children:/*#__PURE__*/_jsx(\"span\",{className:\"material-icons icon-image-preview\",children:\"help\"})}),!this.state.paneHidden&&/*#__PURE__*/_jsxs(ShortcutsPane,{children:[/*#__PURE__*/_jsx(\"h4\",{children:\"Keyboard shortcuts\"}),/*#__PURE__*/_jsxs(\"ul\",{children:[/*#__PURE__*/_jsx(\"li\",{children:\"Reload = r\"}),/*#__PURE__*/_jsx(\"li\",{children:\"Play/Pause = space\"}),/*#__PURE__*/_jsx(\"li\",{children:\"Backward = left arrow\"}),/*#__PURE__*/_jsx(\"li\",{children:\"Forward = right arrow\"}),/*#__PURE__*/_jsx(\"li\",{children:\"Settings = comma\"})]})]})]})]})]});}}]);return MediaControls;}(React.Component);export default withRouter(MediaControls);","map":{"version":3,"sources":["/home/y-yabust/CC/cc-replay/src/components/mediaControls.jsx"],"names":["React","styled","KeyboardEventHandler","withRouter","themes","breakpoints","MediaControlsWrapper","hide","KeyboardShortcutsWrapper","position","ShortcutsPane","md","ButtonWrapper","display","justifyContent","width","Button","theme","dark","sm","Scrubber","MediaControls","props","state","paneHidden","handleParentKeyboardEvent","e","code","data","handleKeyEvent","keyboardCodeMap","handleReload","reloadGame","handlePlayPause","toggleGamePause","handleBackward","stepBackwardFrame","handleForward","stepForwardFrame","handleScrubMouseDown","pauseGame","handleScrubbing","event","stepToTurn","parseInt","target","value","handleSettings","persistAvailable","history","push","handleShortcutPaneShowToggle","setState","key","preventDefault","KeyR","ArrowLeft","ArrowRight","Space","Settings","window","addEventListener","removeEventListener","renderControls","hasAllFrames","currentFrame","turn","max","maxTurn","showFrameScrubber","hideControls","paused","settingsInfo","renderScrubbing","Object","values","Component"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport styled from \"@emotion/styled\";\nimport KeyboardEventHandler from \"react-keyboard-event-handler\";\nimport { withRouter } from \"react-router\";\nimport { themes, breakpoints } from \"../theme\";\n\nconst MediaControlsWrapper = styled(\"div\")`\n  display: ${({ hide }) => (hide ? \"none\" : \"block\")};\n  margin-top: 1rem;\n  width: 100%;\n`;\n\nconst KeyboardShortcutsWrapper = styled(\"div\")({\n  position: \"relative\"\n});\n\nconst ShortcutsPane = styled(\"div\")`\n  position: absolute;\n  bottom: 2.5rem;\n  right: 2.5rem;\n  width: 20rem;\n  padding: 1rem;\n  border: solid 1px #999;\n  background: #fff;\n\n  @media (min-width: ${breakpoints.md}) {\n    left: 2.5rem;\n    right: 0;\n  }\n\n  h4 {\n    margin-top: 0;\n    margin-bottom: 1rem;\n  }\n\n  ul {\n    list-style-type: none;\n    margin: 0;\n    padding: 0;\n  }\n`;\n\nconst ButtonWrapper = styled(\"div\")({\n  display: \"flex\",\n  justifyContent: \"center\",\n  width: \"100%\"\n});\n\nconst Button = styled(\"button\")`\n  display: inline-block;\n  min-width: 3rem;\n  text-align: center;\n  background: transparent;\n  color: ${({ theme }) => (theme === themes.dark ? \"#eee\" : \"#333\")};\n  font-size: 1.4rem;\n  border: none;\n  text-decoration: none;\n  cursor: pointer;\n  transition: background 250ms ease-in-out, transform 150ms ease;\n  -webkit-appearance: none;\n  -moz-appearance: none;\n\n  &:hover {\n    cursor: pointer;\n  }\n\n  &:focus {\n    outline: none;\n  }\n\n  &:disabled {\n    color: #ccc;\n    cursor: not-allowed;\n  }\n\n  @media (max-width: ${breakpoints.sm}) {\n    padding: 2rem 2rem;\n  }\n`;\n\nconst Scrubber = styled(\"input\")`\n  width: 100%;\n  max-width: 60rem;\n\n  &:disabled,\n  &:disabled:hover {\n    opacity: 0.2;\n    cursor: not-allowed;\n  }\n`;\n\nclass MediaControls extends React.Component {\n  state = {\n    paneHidden: true\n  };\n\n  constructor(props) {\n    super(props);\n    this.keyboardCodeMap = {\n      KeyR: \"r\",\n      ArrowLeft: \"left\",\n      ArrowRight: \"right\",\n      Space: \"space\",\n      Settings: \",\"\n    };\n  }\n\n  componentDidMount() {\n    window.addEventListener(\"message\", this.handleParentKeyboardEvent);\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener(\"message\", this.handleParentKeyboardEvent);\n  }\n\n  render() {\n    return this.renderControls();\n  }\n\n  handleParentKeyboardEvent = e => {\n    const { code } = e.data;\n    this.handleKeyEvent(this.keyboardCodeMap[code], e);\n  };\n\n  handleReload = () => {\n    this.props.reloadGame();\n  };\n\n  handlePlayPause = () => {\n    this.props.toggleGamePause();\n  };\n\n  handleBackward = () => {\n    this.props.stepBackwardFrame();\n  };\n\n  handleForward = () => {\n    this.props.stepForwardFrame();\n  };\n\n  handleScrubMouseDown = () => {\n    this.props.pauseGame();\n  };\n\n  handleScrubbing = event => {\n    this.props.stepToTurn(parseInt(event.target.value));\n  };\n\n  handleSettings = () => {\n    if (this.props.persistAvailable) {\n      this.props.history.push(\"/settings\");\n    }\n  };\n\n  handleShortcutPaneShowToggle = () => {\n    this.setState({\n      paneHidden: !this.state.paneHidden\n    });\n  };\n\n  handleKeyEvent = (key, e) => {\n    e.preventDefault();\n    switch (key) {\n      case \"r\":\n        this.handleReload();\n        break;\n      case \"left\":\n        this.handleBackward();\n        break;\n      case \"right\":\n        this.handleForward();\n        break;\n      case \"space\":\n        this.handlePlayPause();\n        break;\n      case \",\":\n        this.handleSettings();\n        break;\n      default:\n        break;\n    }\n  };\n\n  renderScrubbing() {\n    const value = this.props.hasAllFrames ? this.props.currentFrame.turn : 0;\n    const max = this.props.hasAllFrames ? this.props.maxTurn : 0;\n\n    return (\n      this.props.showFrameScrubber && (\n        <ButtonWrapper>\n          <Scrubber\n            type=\"range\"\n            min=\"0\"\n            max={max}\n            value={value}\n            onMouseDown={this.handleScrubMouseDown}\n            onChange={this.handleScrubbing}\n            disabled={!this.props.hasAllFrames}\n          />\n        </ButtonWrapper>\n      )\n    );\n  }\n\n  renderControls() {\n    const {\n      currentFrame,\n      hideControls,\n      paused,\n      theme,\n      persistAvailable\n    } = this.props;\n\n    const settingsInfo = persistAvailable\n      ? \"Configure playback settings\"\n      : \"Enable localStorage to configure playback settings\";\n\n    return (\n      <MediaControlsWrapper hide={hideControls}>\n        {this.renderScrubbing()}\n        <ButtonWrapper>\n          <Button\n            onClick={this.handleBackward}\n            disabled={currentFrame.turn === 0 || !paused}\n            theme={theme}\n          >\n            <span className=\"material-icons icon-image-preview\">\n              skip_previous\n            </span>\n          </Button>\n          <Button onClick={this.handlePlayPause} theme={theme}>\n            <span className=\"material-icons icon-image-preview\">\n              {paused ? \"play_arrow\" : \"pause\"}\n            </span>\n          </Button>\n          <Button onClick={this.handleForward} disabled={!paused} theme={theme}>\n            <span className=\"material-icons icon-image-preview\">skip_next</span>\n          </Button>\n          <Button\n            onClick={this.handleReload}\n            disabled={currentFrame.turn === 0 || !paused}\n            theme={theme}\n          >\n            <span className=\"material-icons icon-image-preview\">refresh</span>\n          </Button>\n          <Button\n            onClick={this.handleSettings}\n            disabled={!persistAvailable}\n            theme={theme}\n          >\n            <span\n              className=\"material-icons icon-image-preview\"\n              title={settingsInfo}\n            >\n              settings\n            </span>\n          </Button>\n          <KeyboardEventHandler\n            handleKeys={Object.values(this.keyboardCodeMap)}\n            onKeyEvent={this.handleKeyEvent}\n          />\n          <KeyboardShortcutsWrapper>\n            <Button onClick={this.handleShortcutPaneShowToggle} theme={theme}>\n              <span className=\"material-icons icon-image-preview\">help</span>\n            </Button>\n            {!this.state.paneHidden && (\n              <ShortcutsPane>\n                <h4>Keyboard shortcuts</h4>\n                <ul>\n                  <li>Reload = r</li>\n                  <li>Play/Pause = space</li>\n                  <li>Backward = left arrow</li>\n                  <li>Forward = right arrow</li>\n                  <li>Settings = comma</li>\n                </ul>\n              </ShortcutsPane>\n            )}\n          </KeyboardShortcutsWrapper>\n        </ButtonWrapper>\n      </MediaControlsWrapper>\n    );\n  }\n}\n\nexport default withRouter(MediaControls);\n"]},"metadata":{},"sourceType":"module"}